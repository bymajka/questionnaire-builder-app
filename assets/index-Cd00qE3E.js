(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Ff={exports:{}},Gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function CT(){if(Cy)return Gl;Cy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:c}}return Gl.Fragment=e,Gl.jsx=i,Gl.jsxs=i,Gl}var Dy;function DT(){return Dy||(Dy=1,Ff.exports=CT()),Ff.exports}var $=DT(),Gf={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function xT(){if(xy)return bt;xy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function b(V){return V===null||typeof V!="object"?null:(V=S&&V[S]||V["@@iterator"],typeof V=="function"?V:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,K={};function B(V,nt,ft){this.props=V,this.context=nt,this.refs=K,this.updater=ft||M}B.prototype.isReactComponent={},B.prototype.setState=function(V,nt){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,nt,"setState")},B.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function q(){}q.prototype=B.prototype;function J(V,nt,ft){this.props=V,this.context=nt,this.refs=K,this.updater=ft||M}var et=J.prototype=new q;et.constructor=J,L(et,B.prototype),et.isPureReactComponent=!0;var pt=Array.isArray,ht={H:null,A:null,T:null,S:null},wt=Object.prototype.hasOwnProperty;function O(V,nt,ft,at,st,Rt){return ft=Rt.ref,{$$typeof:a,type:V,key:nt,ref:ft!==void 0?ft:null,props:Rt}}function C(V,nt){return O(V.type,nt,void 0,void 0,void 0,V.props)}function R(V){return typeof V=="object"&&V!==null&&V.$$typeof===a}function x(V){var nt={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ft){return nt[ft]})}var N=/\/+/g;function k(V,nt){return typeof V=="object"&&V!==null&&V.key!=null?x(""+V.key):nt.toString(36)}function D(){}function ve(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(D,D):(V.status="pending",V.then(function(nt){V.status==="pending"&&(V.status="fulfilled",V.value=nt)},function(nt){V.status==="pending"&&(V.status="rejected",V.reason=nt)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function he(V,nt,ft,at,st){var Rt=typeof V;(Rt==="undefined"||Rt==="boolean")&&(V=null);var St=!1;if(V===null)St=!0;else switch(Rt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(V.$$typeof){case a:case e:St=!0;break;case E:return St=V._init,he(St(V._payload),nt,ft,at,st)}}if(St)return st=st(V),St=at===""?"."+k(V,0):at,pt(st)?(ft="",St!=null&&(ft=St.replace(N,"$&/")+"/"),he(st,nt,ft,"",function(ie){return ie})):st!=null&&(R(st)&&(st=C(st,ft+(st.key==null||V&&V.key===st.key?"":(""+st.key).replace(N,"$&/")+"/")+St)),nt.push(st)),1;St=0;var fe=at===""?".":at+":";if(pt(V))for(var Pt=0;Pt<V.length;Pt++)at=V[Pt],Rt=fe+k(at,Pt),St+=he(at,nt,ft,Rt,st);else if(Pt=b(V),typeof Pt=="function")for(V=Pt.call(V),Pt=0;!(at=V.next()).done;)at=at.value,Rt=fe+k(at,Pt++),St+=he(at,nt,ft,Rt,st);else if(Rt==="object"){if(typeof V.then=="function")return he(ve(V),nt,ft,at,st);throw nt=String(V),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return St}function rt(V,nt,ft){if(V==null)return V;var at=[],st=0;return he(V,at,"","",function(Rt){return nt.call(ft,Rt,st++)}),at}function _t(V){if(V._status===-1){var nt=V._result;nt=nt(),nt.then(function(ft){(V._status===0||V._status===-1)&&(V._status=1,V._result=ft)},function(ft){(V._status===0||V._status===-1)&&(V._status=2,V._result=ft)}),V._status===-1&&(V._status=0,V._result=nt)}if(V._status===1)return V._result.default;throw V._result}var mt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function qt(){}return bt.Children={map:rt,forEach:function(V,nt,ft){rt(V,function(){nt.apply(this,arguments)},ft)},count:function(V){var nt=0;return rt(V,function(){nt++}),nt},toArray:function(V){return rt(V,function(nt){return nt})||[]},only:function(V){if(!R(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},bt.Component=B,bt.Fragment=i,bt.Profiler=o,bt.PureComponent=J,bt.StrictMode=s,bt.Suspense=p,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ht,bt.act=function(){throw Error("act(...) is not supported in production builds of React.")},bt.cache=function(V){return function(){return V.apply(null,arguments)}},bt.cloneElement=function(V,nt,ft){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var at=L({},V.props),st=V.key,Rt=void 0;if(nt!=null)for(St in nt.ref!==void 0&&(Rt=void 0),nt.key!==void 0&&(st=""+nt.key),nt)!wt.call(nt,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&nt.ref===void 0||(at[St]=nt[St]);var St=arguments.length-2;if(St===1)at.children=ft;else if(1<St){for(var fe=Array(St),Pt=0;Pt<St;Pt++)fe[Pt]=arguments[Pt+2];at.children=fe}return O(V.type,st,void 0,void 0,Rt,at)},bt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},bt.createElement=function(V,nt,ft){var at,st={},Rt=null;if(nt!=null)for(at in nt.key!==void 0&&(Rt=""+nt.key),nt)wt.call(nt,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(st[at]=nt[at]);var St=arguments.length-2;if(St===1)st.children=ft;else if(1<St){for(var fe=Array(St),Pt=0;Pt<St;Pt++)fe[Pt]=arguments[Pt+2];st.children=fe}if(V&&V.defaultProps)for(at in St=V.defaultProps,St)st[at]===void 0&&(st[at]=St[at]);return O(V,Rt,void 0,void 0,null,st)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(V){return{$$typeof:m,render:V}},bt.isValidElement=R,bt.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:_t}},bt.memo=function(V,nt){return{$$typeof:y,type:V,compare:nt===void 0?null:nt}},bt.startTransition=function(V){var nt=ht.T,ft={};ht.T=ft;try{var at=V(),st=ht.S;st!==null&&st(ft,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(qt,mt)}catch(Rt){mt(Rt)}finally{ht.T=nt}},bt.unstable_useCacheRefresh=function(){return ht.H.useCacheRefresh()},bt.use=function(V){return ht.H.use(V)},bt.useActionState=function(V,nt,ft){return ht.H.useActionState(V,nt,ft)},bt.useCallback=function(V,nt){return ht.H.useCallback(V,nt)},bt.useContext=function(V){return ht.H.useContext(V)},bt.useDebugValue=function(){},bt.useDeferredValue=function(V,nt){return ht.H.useDeferredValue(V,nt)},bt.useEffect=function(V,nt){return ht.H.useEffect(V,nt)},bt.useId=function(){return ht.H.useId()},bt.useImperativeHandle=function(V,nt,ft){return ht.H.useImperativeHandle(V,nt,ft)},bt.useInsertionEffect=function(V,nt){return ht.H.useInsertionEffect(V,nt)},bt.useLayoutEffect=function(V,nt){return ht.H.useLayoutEffect(V,nt)},bt.useMemo=function(V,nt){return ht.H.useMemo(V,nt)},bt.useOptimistic=function(V,nt){return ht.H.useOptimistic(V,nt)},bt.useReducer=function(V,nt,ft){return ht.H.useReducer(V,nt,ft)},bt.useRef=function(V){return ht.H.useRef(V)},bt.useState=function(V){return ht.H.useState(V)},bt.useSyncExternalStore=function(V,nt,ft){return ht.H.useSyncExternalStore(V,nt,ft)},bt.useTransition=function(){return ht.H.useTransition()},bt.version="19.0.0",bt}var Vy;function Id(){return Vy||(Vy=1,Gf.exports=xT()),Gf.exports}var Q=Id(),Kf={exports:{}},Kl={},Yf={exports:{}},Xf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy;function VT(){return Iy||(Iy=1,function(a){function e(rt,_t){var mt=rt.length;rt.push(_t);t:for(;0<mt;){var qt=mt-1>>>1,V=rt[qt];if(0<o(V,_t))rt[qt]=_t,rt[mt]=V,mt=qt;else break t}}function i(rt){return rt.length===0?null:rt[0]}function s(rt){if(rt.length===0)return null;var _t=rt[0],mt=rt.pop();if(mt!==_t){rt[0]=mt;t:for(var qt=0,V=rt.length,nt=V>>>1;qt<nt;){var ft=2*(qt+1)-1,at=rt[ft],st=ft+1,Rt=rt[st];if(0>o(at,mt))st<V&&0>o(Rt,at)?(rt[qt]=Rt,rt[st]=mt,qt=st):(rt[qt]=at,rt[ft]=mt,qt=ft);else if(st<V&&0>o(Rt,mt))rt[qt]=Rt,rt[st]=mt,qt=st;else break t}}return _t}function o(rt,_t){var mt=rt.sortIndex-_t.sortIndex;return mt!==0?mt:rt.id-_t.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();a.unstable_now=function(){return d.now()-m}}var p=[],y=[],E=1,S=null,b=3,M=!1,L=!1,K=!1,B=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function et(rt){for(var _t=i(y);_t!==null;){if(_t.callback===null)s(y);else if(_t.startTime<=rt)s(y),_t.sortIndex=_t.expirationTime,e(p,_t);else break;_t=i(y)}}function pt(rt){if(K=!1,et(rt),!L)if(i(p)!==null)L=!0,ve();else{var _t=i(y);_t!==null&&he(pt,_t.startTime-rt)}}var ht=!1,wt=-1,O=5,C=-1;function R(){return!(a.unstable_now()-C<O)}function x(){if(ht){var rt=a.unstable_now();C=rt;var _t=!0;try{t:{L=!1,K&&(K=!1,q(wt),wt=-1),M=!0;var mt=b;try{e:{for(et(rt),S=i(p);S!==null&&!(S.expirationTime>rt&&R());){var qt=S.callback;if(typeof qt=="function"){S.callback=null,b=S.priorityLevel;var V=qt(S.expirationTime<=rt);if(rt=a.unstable_now(),typeof V=="function"){S.callback=V,et(rt),_t=!0;break e}S===i(p)&&s(p),et(rt)}else s(p);S=i(p)}if(S!==null)_t=!0;else{var nt=i(y);nt!==null&&he(pt,nt.startTime-rt),_t=!1}}break t}finally{S=null,b=mt,M=!1}_t=void 0}}finally{_t?N():ht=!1}}}var N;if(typeof J=="function")N=function(){J(x)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,D=k.port2;k.port1.onmessage=x,N=function(){D.postMessage(null)}}else N=function(){B(x,0)};function ve(){ht||(ht=!0,N())}function he(rt,_t){wt=B(function(){rt(a.unstable_now())},_t)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(rt){rt.callback=null},a.unstable_continueExecution=function(){L||M||(L=!0,ve())},a.unstable_forceFrameRate=function(rt){0>rt||125<rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<rt?Math.floor(1e3/rt):5},a.unstable_getCurrentPriorityLevel=function(){return b},a.unstable_getFirstCallbackNode=function(){return i(p)},a.unstable_next=function(rt){switch(b){case 1:case 2:case 3:var _t=3;break;default:_t=b}var mt=b;b=_t;try{return rt()}finally{b=mt}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(rt,_t){switch(rt){case 1:case 2:case 3:case 4:case 5:break;default:rt=3}var mt=b;b=rt;try{return _t()}finally{b=mt}},a.unstable_scheduleCallback=function(rt,_t,mt){var qt=a.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?qt+mt:qt):mt=qt,rt){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=mt+V,rt={id:E++,callback:_t,priorityLevel:rt,startTime:mt,expirationTime:V,sortIndex:-1},mt>qt?(rt.sortIndex=mt,e(y,rt),i(p)===null&&rt===i(y)&&(K?(q(wt),wt=-1):K=!0,he(pt,mt-qt))):(rt.sortIndex=V,e(p,rt),L||M||(L=!0,ve())),rt},a.unstable_shouldYield=R,a.unstable_wrapCallback=function(rt){var _t=b;return function(){var mt=b;b=_t;try{return rt.apply(this,arguments)}finally{b=mt}}}}(Xf)),Xf}var Ny;function IT(){return Ny||(Ny=1,Yf.exports=VT()),Yf.exports}var $f={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oy;function NT(){if(Oy)return Qe;Oy=1;var a=Id();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:y,implementation:E}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qe.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(p,y,null,E)},Qe.flushSync=function(p){var y=d.T,E=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=y,s.p=E,s.d.f()}},Qe.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Qe.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Qe.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),b=typeof y.integrity=="string"?y.integrity:void 0,M=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:b,fetchPriority:M}):E==="script"&&s.d.X(p,{crossOrigin:S,integrity:b,fetchPriority:M,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Qe.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Qe.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Qe.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Qe.requestFormReset=function(p){s.d.r(p)},Qe.unstable_batchedUpdates=function(p,y){return p(y)},Qe.useFormState=function(p,y,E){return d.H.useFormState(p,y,E)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.0.0",Qe}var My;function OT(){if(My)return $f.exports;My=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),$f.exports=NT(),$f.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uy;function MT(){if(Uy)return Kl;Uy=1;var a=IT(),e=Id(),i=OT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var c=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),M=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),et=Symbol.for("react.offscreen"),pt=Symbol.for("react.memo_cache_sentinel"),ht=Symbol.iterator;function wt(t){return t===null||typeof t!="object"?null:(t=ht&&t[ht]||t["@@iterator"],typeof t=="function"?t:null)}var O=Symbol.for("react.client.reference");function C(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===O?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case m:return"Portal";case E:return"Profiler";case y:return"StrictMode";case K:return"Suspense";case B:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case M:return(t.displayName||"Context")+".Provider";case b:return(t._context.displayName||"Context")+".Consumer";case L:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case q:return n=t.displayName||null,n!==null?n:C(t.type)||"Memo";case J:n=t._payload,t=t._init;try{return C(t(n))}catch{}}return null}var R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,x=Object.assign,N,k;function D(t){if(N===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);N=n&&n[1]||"",k=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+N+t+k}var ve=!1;function he(t,n){if(!t||ve)return"";ve=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(G){var H=G}Reflect.construct(t,[],tt)}else{try{tt.call()}catch(G){H=G}t.call(tt.prototype)}}else{try{throw Error()}catch(G){H=G}(tt=t())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],T=f[1];if(v&&T){var w=v.split(`
`),U=T.split(`
`);for(h=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(l===w.length||h===U.length)for(l=w.length-1,h=U.length-1;1<=l&&0<=h&&w[l]!==U[h];)h--;for(;1<=l&&0<=h;l--,h--)if(w[l]!==U[h]){if(l!==1||h!==1)do if(l--,h--,0>h||w[l]!==U[h]){var Y=`
`+w[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=h);break}}}finally{ve=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?D(r):""}function rt(t){switch(t.tag){case 26:case 27:case 5:return D(t.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return t=he(t.type,!1),t;case 11:return t=he(t.type.render,!1),t;case 1:return t=he(t.type,!0),t;default:return""}}function _t(t){try{var n="";do n+=rt(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function mt(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function qt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function V(t){if(mt(t)!==t)throw Error(s(188))}function nt(t){var n=t.alternate;if(!n){if(n=mt(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return V(h),t;if(f===l)return V(h),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=h,l=f;else{for(var v=!1,T=h.child;T;){if(T===r){v=!0,r=h,l=f;break}if(T===l){v=!0,l=h,r=f;break}T=T.sibling}if(!v){for(T=f.child;T;){if(T===r){v=!0,r=f,l=h;break}if(T===l){v=!0,l=f,r=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function ft(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=ft(t),n!==null)return n;t=t.sibling}return null}var at=Array.isArray,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Rt={pending:!1,data:null,method:null,action:null},St=[],fe=-1;function Pt(t){return{current:t}}function ie(t){0>fe||(t.current=St[fe],St[fe]=null,fe--)}function Ft(t,n){fe++,St[fe]=t.current,t.current=n}var Ye=Pt(null),fi=Pt(null),gn=Pt(null),Fi=Pt(null);function Gi(t,n){switch(Ft(gn,n),Ft(fi,t),Ft(Ye,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?ny(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=ny(t),n=iy(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ie(Ye),Ft(Ye,n)}function di(){ie(Ye),ie(fi),ie(gn)}function js(t){t.memoizedState!==null&&Ft(Fi,t);var n=Ye.current,r=iy(n,t.type);n!==r&&(Ft(fi,t),Ft(Ye,r))}function xa(t){fi.current===t&&(ie(Ye),ie(fi)),Fi.current===t&&(ie(Fi),jl._currentValue=Rt)}var Va=Object.prototype.hasOwnProperty,qr=a.unstable_scheduleCallback,Ia=a.unstable_cancelCallback,Gc=a.unstable_shouldYield,qs=a.unstable_requestPaint,en=a.unstable_now,Ro=a.unstable_getCurrentPriorityLevel,Ee=a.unstable_ImmediatePriority,Ce=a.unstable_UserBlockingPriority,mi=a.unstable_NormalPriority,wo=a.unstable_LowPriority,Hs=a.unstable_IdlePriority,Kc=a.log,Hr=a.unstable_setDisableYieldValue,Ki=null,qe=null;function Qs(t){if(qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Ki,t,void 0,(t.current.flags&128)===128)}catch{}}function qn(t){if(typeof Kc=="function"&&Hr(t),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Ki,t)}catch{}}var Xe=Math.clz32?Math.clz32:Do,Fs=Math.log,Co=Math.LN2;function Do(t){return t>>>=0,t===0?32:31-(Fs(t)/Co|0)|0}var Hn=128,Yi=4194304;function Mn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pn(t,n){var r=t.pendingLanes;if(r===0)return 0;var l=0,h=t.suspendedLanes,f=t.pingedLanes,v=t.warmLanes;t=t.finishedLanes!==0;var T=r&134217727;return T!==0?(r=T&~h,r!==0?l=Mn(r):(f&=T,f!==0?l=Mn(f):t||(v=T&~v,v!==0&&(l=Mn(v))))):(T=r&~h,T!==0?l=Mn(T):f!==0?l=Mn(f):t||(v=r&~v,v!==0&&(l=Mn(v)))),l===0?0:n!==0&&n!==l&&(n&h)===0&&(h=l&-l,v=n&-n,h>=v||h===32&&(v&4194176)!==0)?n:l}function Xi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Na(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gs(){var t=Hn;return Hn<<=1,(Hn&4194176)===0&&(Hn=128),t}function $i(){var t=Yi;return Yi<<=1,(Yi&62914560)===0&&(Yi=4194304),t}function Oa(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function oe(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function xo(t,n,r,l,h,f){var v=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,w=t.expirationTimes,U=t.hiddenUpdates;for(r=v&~r;0<r;){var Y=31-Xe(r),tt=1<<Y;T[Y]=0,w[Y]=-1;var H=U[Y];if(H!==null)for(U[Y]=null,Y=0;Y<H.length;Y++){var G=H[Y];G!==null&&(G.lane&=-536870913)}r&=~tt}l!==0&&Zi(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function Zi(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Xe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194218}function Wi(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Xe(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function Vo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Io(){var t=st.p;return t!==0?t:(t=window.event,t===void 0?32:Ty(t.type))}function Ji(t,n){var r=st.p;try{return st.p=t,n()}finally{st.p=r}}var Qn=Math.random().toString(36).slice(2),De="__reactFiber$"+Qn,Te="__reactProps$"+Qn,gi="__reactContainer$"+Qn,Qr="__reactEvents$"+Qn,Ma="__reactListeners$"+Qn,Fn="__reactHandles$"+Qn,Ks="__reactResources$"+Qn,tr="__reactMarker$"+Qn;function Fr(t){delete t[De],delete t[Te],delete t[Qr],delete t[Ma],delete t[Fn]}function Un(t){var n=t[De];if(n)return n;for(var r=t.parentNode;r;){if(n=r[gi]||r[De]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=sy(t);t!==null;){if(r=t[De])return r;t=sy(t)}return n}t=r,r=t.parentNode}return null}function pi(t){if(t=t[De]||t[gi]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function er(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function nr(t){var n=t[Ks];return n||(n=t[Ks]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Wt(t){t[tr]=!0}var Ys=new Set,Ua={};function ln(t,n){nn(t,n),nn(t+"Capture",n)}function nn(t,n){for(Ua[t]=n,t=0;t<n.length;t++)Ys.add(n[t])}var on=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xs={},$s={};function No(t){return Va.call($s,t)?!0:Va.call(Xs,t)?!1:Yc.test(t)?$s[t]=!0:(Xs[t]=!0,!1)}function ir(t,n,r){if(No(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function rr(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function yn(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function $e(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Oo(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Xc(t){var n=Oo(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var h=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Gr(t){t._valueTracker||(t._valueTracker=Xc(t))}function Zs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Oo(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function La(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var yi=/[\n"\\]/g;function re(t){return t.replace(yi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ar(t,n,r,l,h,f,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+$e(n)):t.value!==""+$e(n)&&(t.value=""+$e(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?za(t,v,$e(n)):r!=null?za(t,v,$e(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+$e(T):t.removeAttribute("name")}function Kr(t,n,r,l,h,f,v,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+$e(r):"",n=n!=null?""+$e(n):r,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function za(t,n,r){n==="number"&&La(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function kt(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+$e(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Yr(t,n,r){if(n!=null&&(n=""+$e(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+$e(r):""}function sr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(at(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=$e(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function _n(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var $c=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ws(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||$c.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Mo(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Ws(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Ws(t,f,n[f])}function Js(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gn(t){return Wc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var vn=null;function Pa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _i=null,vi=null;function Ei(t){var n=pi(t);if(n&&(t=n.stateNode)){var r=t[Te]||null;t:switch(t=n.stateNode,n.type){case"input":if(ar(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+re(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[Te]||null;if(!h)throw Error(s(90));ar(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Zs(l)}break t;case"textarea":Yr(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&kt(t,!!r.multiple,n,!1)}}}var tl=!1;function Uo(t,n,r){if(tl)return t(n,r);tl=!0;try{var l=t(n);return l}finally{if(tl=!1,(_i!==null||vi!==null)&&(wu(),_i&&(n=_i,t=vi,vi=_i=null,Ei(n),t)))for(n=0;n<t.length;n++)Ei(t[n])}}function Xr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Te]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var En=!1;if(on)try{var $r={};Object.defineProperty($r,"passive",{get:function(){En=!0}}),window.addEventListener("test",$r,$r),window.removeEventListener("test",$r,$r)}catch{En=!1}var Kn=null,lr=null,Ti=null;function el(){if(Ti)return Ti;var t,n=lr,r=n.length,l,h="value"in Kn?Kn.value:Kn.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var v=r-t;for(l=1;l<=v&&n[r-l]===h[f-l];l++);return Ti=h.slice(t,1<l?1-l:void 0)}function Yn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Xn(){return!0}function nl(){return!1}function xe(t){function n(r,l,h,f,v){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Xn:nl,this.isPropagationStopped=nl,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Xn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Xn)},persist:function(){},isPersistent:Xn}),n}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ka=xe(Ht),Zr=x({},Ht,{view:0,detail:0}),Lo=xe(Zr),Ba,ja,$n,Wr=x({},Zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ea,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$n&&($n&&t.type==="mousemove"?(Ba=t.screenX-$n.screenX,ja=t.screenY-$n.screenY):ja=Ba=0,$n=t),Ba)},movementY:function(t){return"movementY"in t?t.movementY:ja}}),Tn=xe(Wr),zo=x({},Wr,{dataTransfer:0}),Jc=xe(zo),Jr=x({},Zr,{relatedTarget:0}),qa=xe(Jr),il=x({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),Ha=xe(il),Po=x({},Ht,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qa=xe(Po),th=x({},Ht,{data:0}),rl=xe(th),ta={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ko={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function al(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Bo[t])?!!n[t]:!1}function ea(){return al}var jo=x({},Zr,{key:function(t){if(t.key){var n=ta[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Yn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ko[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ea,charCode:function(t){return t.type==="keypress"?Yn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Fa=xe(jo),qo=x({},Wr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sl=xe(qo),Ai=x({},Zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ea}),Ho=xe(Ai),Qo=x({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fo=xe(Qo),Go=x({},Wr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ga=xe(Go),Ze=x({},Ht,{newState:0,oldState:0}),Ko=xe(Ze),Yo=[9,13,27,32],Zn=on&&"CompositionEvent"in window,u=null;on&&"documentMode"in document&&(u=document.documentMode);var g=on&&"TextEvent"in window&&!u,_=on&&(!Zn||u&&8<u&&11>=u),A=" ",P=!1;function F(t,n){switch(t){case"keyup":return Yo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function it(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ot=!1;function Ae(t,n){switch(t){case"compositionend":return it(n);case"keypress":return n.which!==32?null:(P=!0,A);case"textInput":return t=n.data,t===A&&P?null:t;default:return null}}function Mt(t,n){if(Ot)return t==="compositionend"||!Zn&&F(t,n)?(t=el(),Ti=lr=Kn=null,Ot=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Ve={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Se(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ve[t.type]:n==="textarea"}function Si(t,n,r,l){_i?vi?vi.push(l):vi=[l]:_i=l,n=Iu(n,"onChange"),0<n.length&&(r=new ka("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ue=null,Wn=null;function ll(t){Zp(t,0)}function Xo(t){var n=er(t);if(Zs(n))return t}function wm(t,n){if(t==="change")return n}var Cm=!1;if(on){var eh;if(on){var nh="oninput"in document;if(!nh){var Dm=document.createElement("div");Dm.setAttribute("oninput","return;"),nh=typeof Dm.oninput=="function"}eh=nh}else eh=!1;Cm=eh&&(!document.documentMode||9<document.documentMode)}function xm(){Ue&&(Ue.detachEvent("onpropertychange",Vm),Wn=Ue=null)}function Vm(t){if(t.propertyName==="value"&&Xo(Wn)){var n=[];Si(n,Wn,t,Pa(t)),Uo(ll,n)}}function i0(t,n,r){t==="focusin"?(xm(),Ue=n,Wn=r,Ue.attachEvent("onpropertychange",Vm)):t==="focusout"&&xm()}function r0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xo(Wn)}function a0(t,n){if(t==="click")return Xo(n)}function s0(t,n){if(t==="input"||t==="change")return Xo(n)}function l0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var un=typeof Object.is=="function"?Object.is:l0;function ol(t,n){if(un(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!Va.call(n,h)||!un(t[h],n[h]))return!1}return!0}function Im(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Nm(t,n){var r=Im(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Im(r)}}function Om(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Om(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Mm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=La(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=La(t.document)}return n}function ih(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function o0(t,n){var r=Mm(n);n=t.focusedElem;var l=t.selectionRange;if(r!==n&&n&&n.ownerDocument&&Om(n.ownerDocument.documentElement,n)){if(l!==null&&ih(n)){if(t=l.start,r=l.end,r===void 0&&(r=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(r,n.value.length);else if(r=(t=n.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var h=n.textContent.length,f=Math.min(l.start,h);l=l.end===void 0?f:Math.min(l.end,h),!r.extend&&f>l&&(h=l,l=f,f=h),h=Nm(n,f);var v=Nm(n,l);h&&v&&(r.rangeCount!==1||r.anchorNode!==h.node||r.anchorOffset!==h.offset||r.focusNode!==v.node||r.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),r.removeAllRanges(),f>l?(r.addRange(t),r.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),r.addRange(t)))}}for(t=[],r=n;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)r=t[n],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var u0=on&&"documentMode"in document&&11>=document.documentMode,Ka=null,rh=null,ul=null,ah=!1;function Um(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ah||Ka==null||Ka!==La(l)||(l=Ka,"selectionStart"in l&&ih(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ul&&ol(ul,l)||(ul=l,l=Iu(rh,"onSelect"),0<l.length&&(n=new ka("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ka)))}function na(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ya={animationend:na("Animation","AnimationEnd"),animationiteration:na("Animation","AnimationIteration"),animationstart:na("Animation","AnimationStart"),transitionrun:na("Transition","TransitionRun"),transitionstart:na("Transition","TransitionStart"),transitioncancel:na("Transition","TransitionCancel"),transitionend:na("Transition","TransitionEnd")},sh={},Lm={};on&&(Lm=document.createElement("div").style,"AnimationEvent"in window||(delete Ya.animationend.animation,delete Ya.animationiteration.animation,delete Ya.animationstart.animation),"TransitionEvent"in window||delete Ya.transitionend.transition);function ia(t){if(sh[t])return sh[t];if(!Ya[t])return t;var n=Ya[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Lm)return sh[t]=n[r];return t}var zm=ia("animationend"),Pm=ia("animationiteration"),km=ia("animationstart"),c0=ia("transitionrun"),h0=ia("transitionstart"),f0=ia("transitioncancel"),Bm=ia("transitionend"),jm=new Map,qm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ln(t,n){jm.set(t,n),ln(n,[t])}var An=[],Xa=0,lh=0;function $o(){for(var t=Xa,n=lh=Xa=0;n<t;){var r=An[n];An[n++]=null;var l=An[n];An[n++]=null;var h=An[n];An[n++]=null;var f=An[n];if(An[n++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}f!==0&&Hm(r,h,f)}}function Zo(t,n,r,l){An[Xa++]=t,An[Xa++]=n,An[Xa++]=r,An[Xa++]=l,lh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function oh(t,n,r,l){return Zo(t,n,r,l),Wo(t)}function or(t,n){return Zo(t,null,null,n),Wo(t)}function Hm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;h&&n!==null&&t.tag===3&&(f=t.stateNode,h=31-Xe(r),f=f.hiddenUpdates,t=f[h],t===null?f[h]=[n]:t.push(n),n.lane=r|536870912)}function Wo(t){if(50<Ml)throw Ml=0,gf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var $a={},Qm=new WeakMap;function Sn(t,n){if(typeof t=="object"&&t!==null){var r=Qm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:_t(n)},Qm.set(t,n),n)}return{value:t,source:n,stack:_t(n)}}var Za=[],Wa=0,Jo=null,tu=0,bn=[],Rn=0,ra=null,bi=1,Ri="";function aa(t,n){Za[Wa++]=tu,Za[Wa++]=Jo,Jo=t,tu=n}function Fm(t,n,r){bn[Rn++]=bi,bn[Rn++]=Ri,bn[Rn++]=ra,ra=t;var l=bi;t=Ri;var h=32-Xe(l)-1;l&=~(1<<h),r+=1;var f=32-Xe(n)+h;if(30<f){var v=h-h%5;f=(l&(1<<v)-1).toString(32),l>>=v,h-=v,bi=1<<32-Xe(n)+h|r<<h|l,Ri=f+t}else bi=1<<f|r<<h|l,Ri=t}function uh(t){t.return!==null&&(aa(t,1),Fm(t,1,0))}function ch(t){for(;t===Jo;)Jo=Za[--Wa],Za[Wa]=null,tu=Za[--Wa],Za[Wa]=null;for(;t===ra;)ra=bn[--Rn],bn[Rn]=null,Ri=bn[--Rn],bn[Rn]=null,bi=bn[--Rn],bn[Rn]=null}var We=null,Le=null,Bt=!1,zn=null,Jn=!1,hh=Error(s(519));function sa(t){var n=Error(s(418,""));throw fl(Sn(n,t)),hh}function Gm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[De]=t,n[Te]=l,r){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(r=0;r<Ll.length;r++)It(Ll[r],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),Kr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Gr(n);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),sr(n,l.value,l.defaultValue,l.children),Gr(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||ey(n.textContent,r)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=Nu),n=!0):n=!1,n||sa(t)}function Km(t){for(We=t.return;We;)switch(We.tag){case 3:case 27:Jn=!0;return;case 5:case 13:Jn=!1;return;default:We=We.return}}function cl(t){if(t!==We)return!1;if(!Bt)return Km(t),Bt=!0,!1;var n=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Nf(t.type,t.memoizedProps)),r=!r),r&&(n=!0),n&&Le&&sa(t),Km(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){Le=kn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}Le=null}}else Le=We?kn(t.stateNode.nextSibling):null;return!0}function hl(){Le=We=null,Bt=!1}function fl(t){zn===null?zn=[t]:zn.push(t)}var dl=Error(s(460)),Ym=Error(s(474)),fh={then:function(){}};function Xm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function eu(){}function $m(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(eu,eu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===dl?Error(s(483)):t;default:if(typeof n.status=="string")n.then(eu,eu);else{if(t=Xt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===dl?Error(s(483)):t}throw ml=n,dl}}var ml=null;function Zm(){if(ml===null)throw Error(s(459));var t=ml;return ml=null,t}var Ja=null,gl=0;function nu(t){var n=gl;return gl+=1,Ja===null&&(Ja=[]),$m(Ja,t,n)}function pl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function iu(t,n){throw n.$$typeof===c?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Wm(t){var n=t._init;return n(t._payload)}function Jm(t){function n(z,I){if(t){var j=z.deletions;j===null?(z.deletions=[I],z.flags|=16):j.push(I)}}function r(z,I){if(!t)return null;for(;I!==null;)n(z,I),I=I.sibling;return null}function l(z){for(var I=new Map;z!==null;)z.key!==null?I.set(z.key,z):I.set(z.index,z),z=z.sibling;return I}function h(z,I){return z=Er(z,I),z.index=0,z.sibling=null,z}function f(z,I,j){return z.index=j,t?(j=z.alternate,j!==null?(j=j.index,j<I?(z.flags|=33554434,I):j):(z.flags|=33554434,I)):(z.flags|=1048576,I)}function v(z){return t&&z.alternate===null&&(z.flags|=33554434),z}function T(z,I,j,X){return I===null||I.tag!==6?(I=lf(j,z.mode,X),I.return=z,I):(I=h(I,j),I.return=z,I)}function w(z,I,j,X){var ut=j.type;return ut===p?Y(z,I,j.props.children,X,j.key):I!==null&&(I.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===J&&Wm(ut)===I.type)?(I=h(I,j.props),pl(I,j),I.return=z,I):(I=Tu(j.type,j.key,j.props,null,z.mode,X),pl(I,j),I.return=z,I)}function U(z,I,j,X){return I===null||I.tag!==4||I.stateNode.containerInfo!==j.containerInfo||I.stateNode.implementation!==j.implementation?(I=of(j,z.mode,X),I.return=z,I):(I=h(I,j.children||[]),I.return=z,I)}function Y(z,I,j,X,ut){return I===null||I.tag!==7?(I=pa(j,z.mode,X,ut),I.return=z,I):(I=h(I,j),I.return=z,I)}function tt(z,I,j){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=lf(""+I,z.mode,j),I.return=z,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case d:return j=Tu(I.type,I.key,I.props,null,z.mode,j),pl(j,I),j.return=z,j;case m:return I=of(I,z.mode,j),I.return=z,I;case J:var X=I._init;return I=X(I._payload),tt(z,I,j)}if(at(I)||wt(I))return I=pa(I,z.mode,j,null),I.return=z,I;if(typeof I.then=="function")return tt(z,nu(I),j);if(I.$$typeof===M)return tt(z,_u(z,I),j);iu(z,I)}return null}function H(z,I,j,X){var ut=I!==null?I.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ut!==null?null:T(z,I,""+j,X);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case d:return j.key===ut?w(z,I,j,X):null;case m:return j.key===ut?U(z,I,j,X):null;case J:return ut=j._init,j=ut(j._payload),H(z,I,j,X)}if(at(j)||wt(j))return ut!==null?null:Y(z,I,j,X,null);if(typeof j.then=="function")return H(z,I,nu(j),X);if(j.$$typeof===M)return H(z,I,_u(z,j),X);iu(z,j)}return null}function G(z,I,j,X,ut){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return z=z.get(j)||null,T(I,z,""+X,ut);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case d:return z=z.get(X.key===null?j:X.key)||null,w(I,z,X,ut);case m:return z=z.get(X.key===null?j:X.key)||null,U(I,z,X,ut);case J:var Dt=X._init;return X=Dt(X._payload),G(z,I,j,X,ut)}if(at(X)||wt(X))return z=z.get(j)||null,Y(I,z,X,ut,null);if(typeof X.then=="function")return G(z,I,j,nu(X),ut);if(X.$$typeof===M)return G(z,I,j,_u(I,X),ut);iu(I,X)}return null}function ct(z,I,j,X){for(var ut=null,Dt=null,dt=I,yt=I=0,Oe=null;dt!==null&&yt<j.length;yt++){dt.index>yt?(Oe=dt,dt=null):Oe=dt.sibling;var jt=H(z,dt,j[yt],X);if(jt===null){dt===null&&(dt=Oe);break}t&&dt&&jt.alternate===null&&n(z,dt),I=f(jt,I,yt),Dt===null?ut=jt:Dt.sibling=jt,Dt=jt,dt=Oe}if(yt===j.length)return r(z,dt),Bt&&aa(z,yt),ut;if(dt===null){for(;yt<j.length;yt++)dt=tt(z,j[yt],X),dt!==null&&(I=f(dt,I,yt),Dt===null?ut=dt:Dt.sibling=dt,Dt=dt);return Bt&&aa(z,yt),ut}for(dt=l(dt);yt<j.length;yt++)Oe=G(dt,z,yt,j[yt],X),Oe!==null&&(t&&Oe.alternate!==null&&dt.delete(Oe.key===null?yt:Oe.key),I=f(Oe,I,yt),Dt===null?ut=Oe:Dt.sibling=Oe,Dt=Oe);return t&&dt.forEach(function(Cr){return n(z,Cr)}),Bt&&aa(z,yt),ut}function Tt(z,I,j,X){if(j==null)throw Error(s(151));for(var ut=null,Dt=null,dt=I,yt=I=0,Oe=null,jt=j.next();dt!==null&&!jt.done;yt++,jt=j.next()){dt.index>yt?(Oe=dt,dt=null):Oe=dt.sibling;var Cr=H(z,dt,jt.value,X);if(Cr===null){dt===null&&(dt=Oe);break}t&&dt&&Cr.alternate===null&&n(z,dt),I=f(Cr,I,yt),Dt===null?ut=Cr:Dt.sibling=Cr,Dt=Cr,dt=Oe}if(jt.done)return r(z,dt),Bt&&aa(z,yt),ut;if(dt===null){for(;!jt.done;yt++,jt=j.next())jt=tt(z,jt.value,X),jt!==null&&(I=f(jt,I,yt),Dt===null?ut=jt:Dt.sibling=jt,Dt=jt);return Bt&&aa(z,yt),ut}for(dt=l(dt);!jt.done;yt++,jt=j.next())jt=G(dt,z,yt,jt.value,X),jt!==null&&(t&&jt.alternate!==null&&dt.delete(jt.key===null?yt:jt.key),I=f(jt,I,yt),Dt===null?ut=jt:Dt.sibling=jt,Dt=jt);return t&&dt.forEach(function(wT){return n(z,wT)}),Bt&&aa(z,yt),ut}function le(z,I,j,X){if(typeof j=="object"&&j!==null&&j.type===p&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case d:t:{for(var ut=j.key;I!==null;){if(I.key===ut){if(ut=j.type,ut===p){if(I.tag===7){r(z,I.sibling),X=h(I,j.props.children),X.return=z,z=X;break t}}else if(I.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===J&&Wm(ut)===I.type){r(z,I.sibling),X=h(I,j.props),pl(X,j),X.return=z,z=X;break t}r(z,I);break}else n(z,I);I=I.sibling}j.type===p?(X=pa(j.props.children,z.mode,X,j.key),X.return=z,z=X):(X=Tu(j.type,j.key,j.props,null,z.mode,X),pl(X,j),X.return=z,z=X)}return v(z);case m:t:{for(ut=j.key;I!==null;){if(I.key===ut)if(I.tag===4&&I.stateNode.containerInfo===j.containerInfo&&I.stateNode.implementation===j.implementation){r(z,I.sibling),X=h(I,j.children||[]),X.return=z,z=X;break t}else{r(z,I);break}else n(z,I);I=I.sibling}X=of(j,z.mode,X),X.return=z,z=X}return v(z);case J:return ut=j._init,j=ut(j._payload),le(z,I,j,X)}if(at(j))return ct(z,I,j,X);if(wt(j)){if(ut=wt(j),typeof ut!="function")throw Error(s(150));return j=ut.call(j),Tt(z,I,j,X)}if(typeof j.then=="function")return le(z,I,nu(j),X);if(j.$$typeof===M)return le(z,I,_u(z,j),X);iu(z,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,I!==null&&I.tag===6?(r(z,I.sibling),X=h(I,j),X.return=z,z=X):(r(z,I),X=lf(j,z.mode,X),X.return=z,z=X),v(z)):r(z,I)}return function(z,I,j,X){try{gl=0;var ut=le(z,I,j,X);return Ja=null,ut}catch(dt){if(dt===dl)throw dt;var Dt=xn(29,dt,null,z.mode);return Dt.lanes=X,Dt.return=z,Dt}finally{}}}var la=Jm(!0),tg=Jm(!1),ts=Pt(null),ru=Pt(0);function eg(t,n){t=Li,Ft(ru,t),Ft(ts,n),Li=t|n.baseLanes}function dh(){Ft(ru,Li),Ft(ts,ts.current)}function mh(){Li=ru.current,ie(ts),ie(ru)}var wn=Pt(null),ti=null;function ur(t){var n=t.alternate;Ft(be,be.current&1),Ft(wn,t),ti===null&&(n===null||ts.current!==null||n.memoizedState!==null)&&(ti=t)}function ng(t){if(t.tag===22){if(Ft(be,be.current),Ft(wn,t),ti===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(ti=t)}}else cr()}function cr(){Ft(be,be.current),Ft(wn,wn.current)}function wi(t){ie(wn),ti===t&&(ti=null),ie(be)}var be=Pt(0);function au(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var d0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},m0=a.unstable_scheduleCallback,g0=a.unstable_NormalPriority,Re={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gh(){return{controller:new d0,data:new Map,refCount:0}}function yl(t){t.refCount--,t.refCount===0&&m0(g0,function(){t.controller.abort()})}var _l=null,ph=0,es=0,ns=null;function p0(t,n){if(_l===null){var r=_l=[];ph=0,es=Sf(),ns={status:"pending",value:void 0,then:function(l){r.push(l)}}}return ph++,n.then(ig,ig),n}function ig(){if(--ph===0&&_l!==null){ns!==null&&(ns.status="fulfilled");var t=_l;_l=null,es=0,ns=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function y0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var rg=R.S;R.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&p0(t,n),rg!==null&&rg(t,n)};var oa=Pt(null);function yh(){var t=oa.current;return t!==null?t:Xt.pooledCache}function su(t,n){n===null?Ft(oa,oa.current):Ft(oa,n.pool)}function ag(){var t=yh();return t===null?null:{parent:Re._currentValue,pool:t}}var hr=0,Ct=null,Gt=null,de=null,lu=!1,is=!1,ua=!1,ou=0,vl=0,rs=null,_0=0;function ue(){throw Error(s(321))}function _h(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!un(t[r],n[r]))return!1;return!0}function vh(t,n,r,l,h,f){return hr=f,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,R.H=t===null||t.memoizedState===null?ca:fr,ua=!1,f=r(l,h),ua=!1,is&&(f=lg(n,r,l,h)),sg(t),f}function sg(t){R.H=ei;var n=Gt!==null&&Gt.next!==null;if(hr=0,de=Gt=Ct=null,lu=!1,vl=0,rs=null,n)throw Error(s(300));t===null||Ie||(t=t.dependencies,t!==null&&yu(t)&&(Ie=!0))}function lg(t,n,r,l){Ct=t;var h=0;do{if(is&&(rs=null),vl=0,is=!1,25<=h)throw Error(s(301));if(h+=1,de=Gt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}R.H=ha,f=n(r,l)}while(is);return f}function v0(){var t=R.H,n=t.useState()[0];return n=typeof n.then=="function"?El(n):n,t=t.useState()[0],(Gt!==null?Gt.memoizedState:null)!==t&&(Ct.flags|=1024),n}function Eh(){var t=ou!==0;return ou=0,t}function Th(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Ah(t){if(lu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}lu=!1}hr=0,de=Gt=Ct=null,is=!1,vl=ou=0,rs=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?Ct.memoizedState=de=t:de=de.next=t,de}function me(){if(Gt===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=Gt.next;var n=de===null?Ct.memoizedState:de.next;if(n!==null)de=n,Gt=t;else{if(t===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Gt=t,t={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},de===null?Ct.memoizedState=de=t:de=de.next=t}return de}var uu;uu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function El(t){var n=vl;return vl+=1,rs===null&&(rs=[]),t=$m(rs,t,n),n=Ct,(de===null?n.memoizedState:de.next)===null&&(n=n.alternate,R.H=n===null||n.memoizedState===null?ca:fr),t}function cu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return El(t);if(t.$$typeof===M)return He(t)}throw Error(s(438,String(t)))}function Sh(t){var n=null,r=Ct.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=uu(),Ct.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=pt;return n.index++,r}function Ci(t,n){return typeof n=="function"?n(t):n}function hu(t){var n=me();return bh(n,Gt,t)}function bh(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=v=null,w=null,U=n,Y=!1;do{var tt=U.lane&-536870913;if(tt!==U.lane?(Ut&tt)===tt:(hr&tt)===tt){var H=U.revertLane;if(H===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),tt===es&&(Y=!0);else if((hr&H)===H){U=U.next,H===es&&(Y=!0);continue}else tt={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},w===null?(T=w=tt,v=f):w=w.next=tt,Ct.lanes|=H,Tr|=H;tt=U.action,ua&&r(f,tt),f=U.hasEagerState?U.eagerState:r(f,tt)}else H={lane:tt,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},w===null?(T=w=H,v=f):w=w.next=H,Ct.lanes|=tt,Tr|=tt;U=U.next}while(U!==null&&U!==n);if(w===null?v=f:w.next=T,!un(f,t.memoizedState)&&(Ie=!0,Y&&(r=ns,r!==null)))throw r;t.memoizedState=f,t.baseState=v,t.baseQueue=w,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Rh(t){var n=me(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);un(f,n.memoizedState)||(Ie=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function og(t,n,r){var l=Ct,h=me(),f=Bt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var v=!un((Gt||h).memoizedState,r);if(v&&(h.memoizedState=r,Ie=!0),h=h.queue,Dh(hg.bind(null,l,h,t),[t]),h.getSnapshot!==n||v||de!==null&&de.memoizedState.tag&1){if(l.flags|=2048,as(9,cg.bind(null,l,h,r,n),{destroy:void 0},null),Xt===null)throw Error(s(349));f||(hr&60)!==0||ug(l,n,r)}return r}function ug(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ct.updateQueue,n===null?(n=uu(),Ct.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function cg(t,n,r,l){n.value=r,n.getSnapshot=l,fg(n)&&dg(t)}function hg(t,n,r){return r(function(){fg(n)&&dg(t)})}function fg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!un(t,r)}catch{return!0}}function dg(t){var n=or(t,2);n!==null&&Je(n,t,2)}function wh(t){var n=rn();if(typeof t=="function"){var r=t;if(t=r(),ua){qn(!0);try{r()}finally{qn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:t},n}function mg(t,n,r,l){return t.baseState=r,bh(t,Gt,typeof l=="function"?l:Ci)}function E0(t,n,r,l,h){if(mu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};R.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,gg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function gg(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=R.T,v={};R.T=v;try{var T=r(h,l),w=R.S;w!==null&&w(v,T),pg(t,n,T)}catch(U){Ch(t,n,U)}finally{R.T=f}}else try{f=r(h,l),pg(t,n,f)}catch(U){Ch(t,n,U)}}function pg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){yg(t,n,l)},function(l){return Ch(t,n,l)}):yg(t,n,r)}function yg(t,n,r){n.status="fulfilled",n.value=r,_g(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,gg(t,r)))}function Ch(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,_g(n),n=n.next;while(n!==l)}t.action=null}function _g(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function vg(t,n){return n}function Eg(t,n){if(Bt){var r=Xt.formState;if(r!==null){t:{var l=Ct;if(Bt){if(Le){e:{for(var h=Le,f=Jn;h.nodeType!==8;){if(!f){h=null;break e}if(h=kn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Le=kn(h.nextSibling),l=h.data==="F!";break t}}sa(l)}l=!1}l&&(n=r[0])}}return r=rn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vg,lastRenderedState:n},r.queue=l,r=Pg.bind(null,Ct,l),l.dispatch=r,l=wh(!1),f=Oh.bind(null,Ct,!1,l.queue),l=rn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=E0.bind(null,Ct,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function Tg(t){var n=me();return Ag(n,Gt,t)}function Ag(t,n,r){n=bh(t,n,vg)[0],t=hu(Ci)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?El(n):n;var l=me(),h=l.queue,f=h.dispatch;return r!==l.memoizedState&&(Ct.flags|=2048,as(9,T0.bind(null,h,r),{destroy:void 0},null)),[n,f,t]}function T0(t,n){t.action=n}function Sg(t){var n=me(),r=Gt;if(r!==null)return Ag(n,r,t);me(),n=n.memoizedState,r=me();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function as(t,n,r,l){return t={tag:t,create:n,inst:r,deps:l,next:null},n=Ct.updateQueue,n===null&&(n=uu(),Ct.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function bg(){return me().memoizedState}function fu(t,n,r,l){var h=rn();Ct.flags|=t,h.memoizedState=as(1|n,r,{destroy:void 0},l===void 0?null:l)}function du(t,n,r,l){var h=me();l=l===void 0?null:l;var f=h.memoizedState.inst;Gt!==null&&l!==null&&_h(l,Gt.memoizedState.deps)?h.memoizedState=as(n,r,f,l):(Ct.flags|=t,h.memoizedState=as(1|n,r,f,l))}function Rg(t,n){fu(8390656,8,t,n)}function Dh(t,n){du(2048,8,t,n)}function wg(t,n){return du(4,2,t,n)}function Cg(t,n){return du(4,4,t,n)}function Dg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function xg(t,n,r){r=r!=null?r.concat([t]):null,du(4,4,Dg.bind(null,n,t),r)}function xh(){}function Vg(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&_h(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Ig(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&_h(n,l[1]))return l[0];if(l=t(),ua){qn(!0);try{t()}finally{qn(!1)}}return r.memoizedState=[l,n],l}function Vh(t,n,r){return r===void 0||(hr&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Op(),Ct.lanes|=t,Tr|=t,r)}function Ng(t,n,r,l){return un(r,n)?r:ts.current!==null?(t=Vh(t,r,l),un(t,n)||(Ie=!0),t):(hr&42)===0?(Ie=!0,t.memoizedState=r):(t=Op(),Ct.lanes|=t,Tr|=t,n)}function Og(t,n,r,l,h){var f=st.p;st.p=f!==0&&8>f?f:8;var v=R.T,T={};R.T=T,Oh(t,!1,n,r);try{var w=h(),U=R.S;if(U!==null&&U(T,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var Y=y0(w,l);Tl(t,n,Y,dn(t))}else Tl(t,n,l,dn(t))}catch(tt){Tl(t,n,{then:function(){},status:"rejected",reason:tt},dn())}finally{st.p=f,R.T=v}}function A0(){}function Ih(t,n,r,l){if(t.tag!==5)throw Error(s(476));var h=Mg(t).queue;Og(t,h,n,Rt,r===null?A0:function(){return Ug(t),r(l)})}function Mg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:Rt,baseState:Rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:Rt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Ug(t){var n=Mg(t).next.queue;Tl(t,n,{},dn())}function Nh(){return He(jl)}function Lg(){return me().memoizedState}function zg(){return me().memoizedState}function S0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=dn();t=gr(r);var l=pr(n,t,r);l!==null&&(Je(l,n,r),bl(l,n,r)),n={cache:gh()},t.payload=n;return}n=n.return}}function b0(t,n,r){var l=dn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},mu(t)?kg(n,r):(r=oh(t,n,r,l),r!==null&&(Je(r,t,l),Bg(r,n,l)))}function Pg(t,n,r){var l=dn();Tl(t,n,r,l)}function Tl(t,n,r,l){var h={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(mu(t))kg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,T=f(v,r);if(h.hasEagerState=!0,h.eagerState=T,un(T,v))return Zo(t,n,h,0),Xt===null&&$o(),!1}catch{}finally{}if(r=oh(t,n,h,l),r!==null)return Je(r,t,l),Bg(r,n,l),!0}return!1}function Oh(t,n,r,l){if(l={lane:2,revertLane:Sf(),action:l,hasEagerState:!1,eagerState:null,next:null},mu(t)){if(n)throw Error(s(479))}else n=oh(t,r,l,2),n!==null&&Je(n,t,2)}function mu(t){var n=t.alternate;return t===Ct||n!==null&&n===Ct}function kg(t,n){is=lu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Bg(t,n,r){if((r&4194176)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Wi(t,r)}}var ei={readContext:He,use:cu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue};ei.useCacheRefresh=ue,ei.useMemoCache=ue,ei.useHostTransitionStatus=ue,ei.useFormState=ue,ei.useActionState=ue,ei.useOptimistic=ue;var ca={readContext:He,use:cu,useCallback:function(t,n){return rn().memoizedState=[t,n===void 0?null:n],t},useContext:He,useEffect:Rg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,fu(4194308,4,Dg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return fu(4194308,4,t,n)},useInsertionEffect:function(t,n){fu(4,2,t,n)},useMemo:function(t,n){var r=rn();n=n===void 0?null:n;var l=t();if(ua){qn(!0);try{t()}finally{qn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=rn();if(r!==void 0){var h=r(n);if(ua){qn(!0);try{r(n)}finally{qn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=b0.bind(null,Ct,t),[l.memoizedState,t]},useRef:function(t){var n=rn();return t={current:t},n.memoizedState=t},useState:function(t){t=wh(t);var n=t.queue,r=Pg.bind(null,Ct,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:xh,useDeferredValue:function(t,n){var r=rn();return Vh(r,t,n)},useTransition:function(){var t=wh(!1);return t=Og.bind(null,Ct,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Ct,h=rn();if(Bt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Xt===null)throw Error(s(349));(Ut&60)!==0||ug(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Rg(hg.bind(null,l,f,t),[t]),l.flags|=2048,as(9,cg.bind(null,l,f,r,n),{destroy:void 0},null),r},useId:function(){var t=rn(),n=Xt.identifierPrefix;if(Bt){var r=Ri,l=bi;r=(l&~(1<<32-Xe(l)-1)).toString(32)+r,n=":"+n+"R"+r,r=ou++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=_0++,n=":"+n+"r"+r.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return rn().memoizedState=S0.bind(null,Ct)}};ca.useMemoCache=Sh,ca.useHostTransitionStatus=Nh,ca.useFormState=Eg,ca.useActionState=Eg,ca.useOptimistic=function(t){var n=rn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Oh.bind(null,Ct,!0,r),r.dispatch=n,[t,n]};var fr={readContext:He,use:cu,useCallback:Vg,useContext:He,useEffect:Dh,useImperativeHandle:xg,useInsertionEffect:wg,useLayoutEffect:Cg,useMemo:Ig,useReducer:hu,useRef:bg,useState:function(){return hu(Ci)},useDebugValue:xh,useDeferredValue:function(t,n){var r=me();return Ng(r,Gt.memoizedState,t,n)},useTransition:function(){var t=hu(Ci)[0],n=me().memoizedState;return[typeof t=="boolean"?t:El(t),n]},useSyncExternalStore:og,useId:Lg};fr.useCacheRefresh=zg,fr.useMemoCache=Sh,fr.useHostTransitionStatus=Nh,fr.useFormState=Tg,fr.useActionState=Tg,fr.useOptimistic=function(t,n){var r=me();return mg(r,Gt,t,n)};var ha={readContext:He,use:cu,useCallback:Vg,useContext:He,useEffect:Dh,useImperativeHandle:xg,useInsertionEffect:wg,useLayoutEffect:Cg,useMemo:Ig,useReducer:Rh,useRef:bg,useState:function(){return Rh(Ci)},useDebugValue:xh,useDeferredValue:function(t,n){var r=me();return Gt===null?Vh(r,t,n):Ng(r,Gt.memoizedState,t,n)},useTransition:function(){var t=Rh(Ci)[0],n=me().memoizedState;return[typeof t=="boolean"?t:El(t),n]},useSyncExternalStore:og,useId:Lg};ha.useCacheRefresh=zg,ha.useMemoCache=Sh,ha.useHostTransitionStatus=Nh,ha.useFormState=Sg,ha.useActionState=Sg,ha.useOptimistic=function(t,n){var r=me();return Gt!==null?mg(r,Gt,t,n):(r.baseState=t,[t,r.queue.dispatch])};function Mh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:x({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Uh={isMounted:function(t){return(t=t._reactInternals)?mt(t)===t:!1},enqueueSetState:function(t,n,r){t=t._reactInternals;var l=dn(),h=gr(l);h.payload=n,r!=null&&(h.callback=r),n=pr(t,h,l),n!==null&&(Je(n,t,l),bl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=dn(),h=gr(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=pr(t,h,l),n!==null&&(Je(n,t,l),bl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=dn(),l=gr(r);l.tag=2,n!=null&&(l.callback=n),n=pr(t,l,r),n!==null&&(Je(n,t,r),bl(n,t,r))}};function jg(t,n,r,l,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!ol(r,l)||!ol(h,f):!0}function qg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Uh.enqueueReplaceState(n,n.state,null)}function fa(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=x({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}var gu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Hg(t){gu(t)}function Qg(t){console.error(t)}function Fg(t){gu(t)}function pu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Gg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Lh(t,n,r){return r=gr(r),r.tag=3,r.payload={element:null},r.callback=function(){pu(t,n)},r}function Kg(t){return t=gr(t),t.tag=3,t}function Yg(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Gg(n,r,l)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Gg(n,r,l),typeof h!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function R0(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Sl(n,r,h,!0),r=wn.current,r!==null){switch(r.tag){case 13:return ti===null?_f():r.alternate===null&&se===0&&(se=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===fh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Ef(t,l,h)),!1;case 22:return r.flags|=65536,l===fh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Ef(t,l,h)),!1}throw Error(s(435,r.tag))}return Ef(t,l,h),_f(),!1}if(Bt)return n=wn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==hh&&(t=Error(s(422),{cause:l}),fl(Sn(t,r)))):(l!==hh&&(n=Error(s(423),{cause:l}),fl(Sn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Sn(l,r),h=Lh(t.stateNode,l,h),Zh(t,h),se!==4&&(se=2)),!1;var f=Error(s(520),{cause:l});if(f=Sn(f,r),Nl===null?Nl=[f]:Nl.push(f),se!==4&&(se=2),n===null)return!0;l=Sn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Lh(r.stateNode,l,t),Zh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ar===null||!Ar.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Kg(h),Yg(h,t,r,l),Zh(r,h),!1}r=r.return}while(r!==null);return!1}var Xg=Error(s(461)),Ie=!1;function ze(t,n,r,l){n.child=t===null?tg(n,null,r,l):la(n,t.child,r,l)}function $g(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return ma(n),l=vh(t,n,r,v,f,h),T=Eh(),t!==null&&!Ie?(Th(t,n,h),Di(t,n,h)):(Bt&&T&&uh(n),n.flags|=1,ze(t,n,l,h),n.child)}function Zg(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!sf(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Wg(t,n,f,l,h)):(t=Tu(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Fh(t,h)){var v=f.memoizedProps;if(r=r.compare,r=r!==null?r:ol,r(v,l)&&t.ref===n.ref)return Di(t,n,h)}return n.flags|=1,t=Er(f,l),t.ref=n.ref,t.return=n,n.child=t}function Wg(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(ol(f,l)&&t.ref===n.ref)if(Ie=!1,n.pendingProps=l=f,Fh(t,h))(t.flags&131072)!==0&&(Ie=!0);else return n.lanes=t.lanes,Di(t,n,h)}return zh(t,n,r,l,h)}function Jg(t,n,r){var l=n.pendingProps,h=l.children,f=(n.stateNode._pendingVisibility&2)!==0,v=t!==null?t.memoizedState:null;if(Al(t,n),l.mode==="hidden"||f){if((n.flags&128)!==0){if(l=v!==null?v.baseLanes|r:r,t!==null){for(h=n.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return tp(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&su(n,v!==null?v.cachePool:null),v!==null?eg(n,v):dh(),ng(n);else return n.lanes=n.childLanes=536870912,tp(t,n,v!==null?v.baseLanes|r:r,r)}else v!==null?(su(n,v.cachePool),eg(n,v),cr(),n.memoizedState=null):(t!==null&&su(n,null),dh(),cr());return ze(t,n,h,r),n.child}function tp(t,n,r,l){var h=yh();return h=h===null?null:{parent:Re._currentValue,pool:h},n.memoizedState={baseLanes:r,cachePool:h},t!==null&&su(n,null),dh(),ng(n),t!==null&&Sl(t,n,l,!0),null}function Al(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=2097664)}}function zh(t,n,r,l,h){return ma(n),r=vh(t,n,r,l,void 0,h),l=Eh(),t!==null&&!Ie?(Th(t,n,h),Di(t,n,h)):(Bt&&l&&uh(n),n.flags|=1,ze(t,n,r,h),n.child)}function ep(t,n,r,l,h,f){return ma(n),n.updateQueue=null,r=lg(n,l,r,h),sg(t),l=Eh(),t!==null&&!Ie?(Th(t,n,f),Di(t,n,f)):(Bt&&l&&uh(n),n.flags|=1,ze(t,n,r,f),n.child)}function np(t,n,r,l,h){if(ma(n),n.stateNode===null){var f=$a,v=r.contextType;typeof v=="object"&&v!==null&&(f=He(v)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Uh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Xh(n),v=r.contextType,f.context=typeof v=="object"&&v!==null?He(v):$a,f.state=n.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(Mh(n,r,v,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Uh.enqueueReplaceState(f,f.state,null),wl(n,l,f,h),Rl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,w=fa(r,T);f.props=w;var U=f.context,Y=r.contextType;v=$a,typeof Y=="object"&&Y!==null&&(v=He(Y));var tt=r.getDerivedStateFromProps;Y=typeof tt=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||U!==v)&&qg(n,f,l,v),mr=!1;var H=n.memoizedState;f.state=H,wl(n,l,f,h),Rl(),U=n.memoizedState,T||H!==U||mr?(typeof tt=="function"&&(Mh(n,r,tt,l),U=n.memoizedState),(w=mr||jg(n,r,w,l,H,U,v))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=U),f.props=l,f.state=U,f.context=v,l=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,$h(t,n),v=n.memoizedProps,Y=fa(r,v),f.props=Y,tt=n.pendingProps,H=f.context,U=r.contextType,w=$a,typeof U=="object"&&U!==null&&(w=He(U)),T=r.getDerivedStateFromProps,(U=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==tt||H!==w)&&qg(n,f,l,w),mr=!1,H=n.memoizedState,f.state=H,wl(n,l,f,h),Rl();var G=n.memoizedState;v!==tt||H!==G||mr||t!==null&&t.dependencies!==null&&yu(t.dependencies)?(typeof T=="function"&&(Mh(n,r,T,l),G=n.memoizedState),(Y=mr||jg(n,r,Y,l,H,G,w)||t!==null&&t.dependencies!==null&&yu(t.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,G,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,G,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=G),f.props=l,f.state=G,f.context=w,l=Y):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Al(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=la(n,t.child,null,h),n.child=la(n,null,r,h)):ze(t,n,r,h),n.memoizedState=f.state,t=n.child):t=Di(t,n,h),t}function ip(t,n,r,l){return hl(),n.flags|=256,ze(t,n,r,l),n.child}var Ph={dehydrated:null,treeContext:null,retryLane:0};function kh(t){return{baseLanes:t,cachePool:ag()}}function Bh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Vn),t}function rp(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(be.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(h?ur(n):cr(),Bt){var T=Le,w;if(w=T){t:{for(w=T,T=Jn;w.nodeType!==8;){if(!T){T=null;break t}if(w=kn(w.nextSibling),w===null){T=null;break t}}T=w}T!==null?(n.memoizedState={dehydrated:T,treeContext:ra!==null?{id:bi,overflow:Ri}:null,retryLane:536870912},w=xn(18,null,null,0),w.stateNode=T,w.return=n,n.child=w,We=n,Le=null,w=!0):w=!1}w||sa(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?n.lanes=16:n.lanes=536870912,null;wi(n)}return T=l.children,l=l.fallback,h?(cr(),h=n.mode,T=qh({mode:"hidden",children:T},h),l=pa(l,h,r,null),T.return=n,l.return=n,T.sibling=l,n.child=T,h=n.child,h.memoizedState=kh(r),h.childLanes=Bh(t,v,r),n.memoizedState=Ph,l):(ur(n),jh(n,T))}if(w=t.memoizedState,w!==null&&(T=w.dehydrated,T!==null)){if(f)n.flags&256?(ur(n),n.flags&=-257,n=Hh(t,n,r)):n.memoizedState!==null?(cr(),n.child=t.child,n.flags|=128,n=null):(cr(),h=l.fallback,T=n.mode,l=qh({mode:"visible",children:l.children},T),h=pa(h,T,r,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,la(n,t.child,null,r),l=n.child,l.memoizedState=kh(r),l.childLanes=Bh(t,v,r),n.memoizedState=Ph,n=h);else if(ur(n),T.data==="$!"){if(v=T.nextSibling&&T.nextSibling.dataset,v)var U=v.dgst;v=U,l=Error(s(419)),l.stack="",l.digest=v,fl({value:l,source:null,stack:null}),n=Hh(t,n,r)}else if(Ie||Sl(t,n,r,!1),v=(r&t.childLanes)!==0,Ie||v){if(v=Xt,v!==null){if(l=r&-r,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(v.suspendedLanes|r))!==0?0:l,l!==0&&l!==w.retryLane)throw w.retryLane=l,or(t,l),Je(v,t,l),Xg}T.data==="$?"||_f(),n=Hh(t,n,r)}else T.data==="$?"?(n.flags|=128,n.child=t.child,n=B0.bind(null,t),T._reactRetry=n,n=null):(t=w.treeContext,Le=kn(T.nextSibling),We=n,Bt=!0,zn=null,Jn=!1,t!==null&&(bn[Rn++]=bi,bn[Rn++]=Ri,bn[Rn++]=ra,bi=t.id,Ri=t.overflow,ra=n),n=jh(n,l.children),n.flags|=4096);return n}return h?(cr(),h=l.fallback,T=n.mode,w=t.child,U=w.sibling,l=Er(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&31457280,U!==null?h=Er(U,h):(h=pa(h,T,r,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,T=t.child.memoizedState,T===null?T=kh(r):(w=T.cachePool,w!==null?(U=Re._currentValue,w=w.parent!==U?{parent:U,pool:U}:w):w=ag(),T={baseLanes:T.baseLanes|r,cachePool:w}),h.memoizedState=T,h.childLanes=Bh(t,v,r),n.memoizedState=Ph,l):(ur(n),r=t.child,t=r.sibling,r=Er(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=r,n.memoizedState=null,r)}function jh(t,n){return n=qh({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function qh(t,n){return Vp(t,n,0,null)}function Hh(t,n,r){return la(n,t.child,null,r),t=jh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ap(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Kh(t.return,n,r)}function Qh(t,n,r,l,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=h)}function sp(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;if(ze(t,n,l.children,r),l=be.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ap(t,r,n);else if(t.tag===19)ap(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Ft(be,l),h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&au(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Qh(n,!1,h,r,f);break;case"backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&au(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Qh(n,!0,r,null,f);break;case"together":Qh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Di(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Tr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Sl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=Er(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Er(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Fh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&yu(t)))}function w0(t,n,r){switch(n.tag){case 3:Gi(n,n.stateNode.containerInfo),dr(n,Re,t.memoizedState.cache),hl();break;case 27:case 5:js(n);break;case 4:Gi(n,n.stateNode.containerInfo);break;case 10:dr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ur(n),n.flags|=128,null):(r&n.child.childLanes)!==0?rp(t,n,r):(ur(n),t=Di(t,n,r),t!==null?t.sibling:null);ur(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Sl(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return sp(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ft(be,be.current),l)break;return null;case 22:case 23:return n.lanes=0,Jg(t,n,r);case 24:dr(n,Re,t.memoizedState.cache)}return Di(t,n,r)}function lp(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ie=!0;else{if(!Fh(t,r)&&(n.flags&128)===0)return Ie=!1,w0(t,n,r);Ie=(t.flags&131072)!==0}else Ie=!1,Bt&&(n.flags&1048576)!==0&&Fm(n,tu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")sf(l)?(t=fa(l,t),n.tag=1,n=np(null,n,l,t,r)):(n.tag=0,n=zh(null,n,l,t,r));else{if(l!=null){if(h=l.$$typeof,h===L){n.tag=11,n=$g(null,n,l,t,r);break t}else if(h===q){n.tag=14,n=Zg(null,n,l,t,r);break t}}throw n=C(l)||l,Error(s(306,n,""))}}return n;case 0:return zh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=fa(l,n.pendingProps),np(t,n,l,h,r);case 3:t:{if(Gi(n,n.stateNode.containerInfo),t===null)throw Error(s(387));var f=n.pendingProps;h=n.memoizedState,l=h.element,$h(t,n),wl(n,f,null,r);var v=n.memoizedState;if(f=v.cache,dr(n,Re,f),f!==h.cache&&Yh(n,[Re],r,!0),Rl(),f=v.element,h.isDehydrated)if(h={element:f,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=ip(t,n,f,r);break t}else if(f!==l){l=Sn(Error(s(424)),n),fl(l),n=ip(t,n,f,r);break t}else for(Le=kn(n.stateNode.containerInfo.firstChild),We=n,Bt=!0,zn=null,Jn=!0,r=tg(n,null,f,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(hl(),f===l){n=Di(t,n,r);break t}ze(t,n,f,r)}n=n.child}return n;case 26:return Al(t,n),t===null?(r=cy(n.type,null,n.pendingProps,null))?n.memoizedState=r:Bt||(r=n.type,t=n.pendingProps,l=Ou(gn.current).createElement(r),l[De]=n,l[Te]=t,Pe(l,r,t),Wt(l),n.stateNode=l):n.memoizedState=cy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return js(n),t===null&&Bt&&(l=n.stateNode=ly(n.type,n.pendingProps,gn.current),We=n,Jn=!0,Le=kn(l.firstChild)),l=n.pendingProps.children,t!==null||Bt?ze(t,n,l,r):n.child=la(n,null,l,r),Al(t,n),n.child;case 5:return t===null&&Bt&&((h=l=Le)&&(l=nT(l,n.type,n.pendingProps,Jn),l!==null?(n.stateNode=l,We=n,Le=kn(l.firstChild),Jn=!1,h=!0):h=!1),h||sa(n)),js(n),h=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,Nf(h,f)?l=null:v!==null&&Nf(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=vh(t,n,v0,null,null,r),jl._currentValue=h),Al(t,n),ze(t,n,l,r),n.child;case 6:return t===null&&Bt&&((t=r=Le)&&(r=iT(r,n.pendingProps,Jn),r!==null?(n.stateNode=r,We=n,Le=null,t=!0):t=!1),t||sa(n)),null;case 13:return rp(t,n,r);case 4:return Gi(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=la(n,null,l,r):ze(t,n,l,r),n.child;case 11:return $g(t,n,n.type,n.pendingProps,r);case 7:return ze(t,n,n.pendingProps,r),n.child;case 8:return ze(t,n,n.pendingProps.children,r),n.child;case 12:return ze(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,dr(n,n.type,l.value),ze(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,ma(n),h=He(h),l=l(h),n.flags|=1,ze(t,n,l,r),n.child;case 14:return Zg(t,n,n.type,n.pendingProps,r);case 15:return Wg(t,n,n.type,n.pendingProps,r);case 19:return sp(t,n,r);case 22:return Jg(t,n,r);case 24:return ma(n),l=He(Re),t===null?(h=yh(),h===null&&(h=Xt,f=gh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},Xh(n),dr(n,Re,h)):((t.lanes&r)!==0&&($h(t,n),wl(n,null,null,r),Rl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),dr(n,Re,l)):(l=f.cache,dr(n,Re,l),l!==h.cache&&Yh(n,[Re],r,!0))),ze(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}var Gh=Pt(null),da=null,xi=null;function dr(t,n,r){Ft(Gh,n._currentValue),n._currentValue=r}function Vi(t){t._currentValue=Gh.current,ie(Gh)}function Kh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Yh(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var w=0;w<n.length;w++)if(T.context===n[w]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),Kh(f.return,r,t),l||(v=null);break t}f=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=r,f=v.alternate,f!==null&&(f.lanes|=r),Kh(v,r,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Sl(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;un(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Fi.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(jl):t=[jl])}h=h.return}t!==null&&Yh(n,t,r,l),n.flags|=262144}function yu(t){for(t=t.firstContext;t!==null;){if(!un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ma(t){da=t,xi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function He(t){return op(da,t)}function _u(t,n){return da===null&&ma(t),op(t,n)}function op(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},xi===null){if(t===null)throw Error(s(308));xi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else xi=xi.next=n;return r}var mr=!1;function Xh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $h(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function gr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function pr(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(te&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Wo(t),Hm(t,null,r),n}return Zo(t,l,n,r),Wo(t)}function bl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Wi(t,r)}}function Zh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Wh=!1;function Rl(){if(Wh){var t=ns;if(t!==null)throw t}}function wl(t,n,r,l){Wh=!1;var h=t.updateQueue;mr=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var w=T,U=w.next;w.next=null,v===null?f=U:v.next=U,v=w;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==v&&(T===null?Y.firstBaseUpdate=U:T.next=U,Y.lastBaseUpdate=w))}if(f!==null){var tt=h.baseState;v=0,Y=U=w=null,T=f;do{var H=T.lane&-536870913,G=H!==T.lane;if(G?(Ut&H)===H:(l&H)===H){H!==0&&H===es&&(Wh=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ct=t,Tt=T;H=n;var le=r;switch(Tt.tag){case 1:if(ct=Tt.payload,typeof ct=="function"){tt=ct.call(le,tt,H);break t}tt=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=Tt.payload,H=typeof ct=="function"?ct.call(le,tt,H):ct,H==null)break t;tt=x({},tt,H);break t;case 2:mr=!0}}H=T.callback,H!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[H]:G.push(H))}else G={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(U=Y=G,w=tt):Y=Y.next=G,v|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;G=T,T=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);Y===null&&(w=tt),h.baseState=w,h.firstBaseUpdate=U,h.lastBaseUpdate=Y,f===null&&(h.shared.lanes=0),Tr|=v,t.lanes=v,t.memoizedState=tt}}function up(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function cp(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)up(r[t],n)}function Cl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,v=r.inst;l=f(),v.destroy=l}r=r.next}while(r!==h)}}catch(T){Yt(n,n.return,T)}}function yr(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=n;var w=r;try{T()}catch(U){Yt(h,w,U)}}}l=l.next}while(l!==f)}}catch(U){Yt(n,n.return,U)}}function hp(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{cp(n,r)}catch(l){Yt(t,t.return,l)}}}function fp(t,n,r){r.props=fa(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Yt(t,n,l)}}function ga(t,n){try{var r=t.ref;if(r!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof r=="function"?t.refCleanup=r(h):r.current=h}}catch(f){Yt(t,n,f)}}function cn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){Yt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Yt(t,n,h)}else r.current=null}function dp(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){Yt(t,t.return,h)}}function mp(t,n,r){try{var l=t.stateNode;Z0(l,t.type,r,n),l[Te]=n}catch(h){Yt(t,t.return,h)}}function gp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Jh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||gp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Nu));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(tf(t,n,r),t=t.sibling;t!==null;)tf(t,n,r),t=t.sibling}function vu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(vu(t,n,r),t=t.sibling;t!==null;)vu(t,n,r),t=t.sibling}var Ii=!1,ae=!1,ef=!1,pp=typeof WeakSet=="function"?WeakSet:Set,Ne=null,yp=!1;function C0(t,n){if(t=t.containerInfo,Vf=ku,t=Mm(t),ih(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var v=0,T=-1,w=-1,U=0,Y=0,tt=t,H=null;e:for(;;){for(var G;tt!==r||h!==0&&tt.nodeType!==3||(T=v+h),tt!==f||l!==0&&tt.nodeType!==3||(w=v+l),tt.nodeType===3&&(v+=tt.nodeValue.length),(G=tt.firstChild)!==null;)H=tt,tt=G;for(;;){if(tt===t)break e;if(H===r&&++U===h&&(T=v),H===f&&++Y===l&&(w=v),(G=tt.nextSibling)!==null)break;tt=H,H=tt.parentNode}tt=G}r=T===-1||w===-1?null:{start:T,end:w}}else r=null}r=r||{start:0,end:0}}else r=null;for(If={focusedElem:t,selectionRange:r},ku=!1,Ne=n;Ne!==null;)if(n=Ne,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ne=t;else for(;Ne!==null;){switch(n=Ne,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var ct=fa(r.type,h,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(ct,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Tt){Yt(r,r.return,Tt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Uf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Uf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ne=t;break}Ne=n.return}return ct=yp,yp=!1,ct}function _p(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Oi(t,r),l&4&&Cl(5,r);break;case 1:if(Oi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(T){Yt(r,r.return,T)}else{var h=fa(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Yt(r,r.return,T)}}l&64&&hp(r),l&512&&ga(r,r.return);break;case 3:if(Oi(t,r),l&64&&(l=r.updateQueue,l!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{cp(l,t)}catch(T){Yt(r,r.return,T)}}break;case 26:Oi(t,r),l&512&&ga(r,r.return);break;case 27:case 5:Oi(t,r),n===null&&l&4&&dp(r),l&512&&ga(r,r.return);break;case 12:Oi(t,r);break;case 13:Oi(t,r),l&4&&Tp(t,r);break;case 22:if(h=r.memoizedState!==null||Ii,!h){n=n!==null&&n.memoizedState!==null||ae;var f=Ii,v=ae;Ii=h,(ae=n)&&!v?_r(t,r,(r.subtreeFlags&8772)!==0):Oi(t,r),Ii=f,ae=v}l&512&&(r.memoizedProps.mode==="manual"?ga(r,r.return):cn(r,r.return));break;default:Oi(t,r)}}function vp(t){var n=t.alternate;n!==null&&(t.alternate=null,vp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Fr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ge=null,hn=!1;function Ni(t,n,r){for(r=r.child;r!==null;)Ep(t,n,r),r=r.sibling}function Ep(t,n,r){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Ki,r)}catch{}switch(r.tag){case 26:ae||cn(r,n),Ni(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ae||cn(r,n);var l=ge,h=hn;for(ge=r.stateNode,Ni(t,n,r),r=r.stateNode,n=r.attributes;n.length;)r.removeAttributeNode(n[0]);Fr(r),ge=l,hn=h;break;case 5:ae||cn(r,n);case 6:h=ge;var f=hn;if(ge=null,Ni(t,n,r),ge=h,hn=f,ge!==null)if(hn)try{t=ge,l=r.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(v){Yt(r,n,v)}else try{ge.removeChild(r.stateNode)}catch(v){Yt(r,n,v)}break;case 18:ge!==null&&(hn?(n=ge,r=r.stateNode,n.nodeType===8?Mf(n.parentNode,r):n.nodeType===1&&Mf(n,r),Fl(n)):Mf(ge,r.stateNode));break;case 4:l=ge,h=hn,ge=r.stateNode.containerInfo,hn=!0,Ni(t,n,r),ge=l,hn=h;break;case 0:case 11:case 14:case 15:ae||yr(2,r,n),ae||yr(4,r,n),Ni(t,n,r);break;case 1:ae||(cn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&fp(r,n,l)),Ni(t,n,r);break;case 21:Ni(t,n,r);break;case 22:ae||cn(r,n),ae=(l=ae)||r.memoizedState!==null,Ni(t,n,r),ae=l;break;default:Ni(t,n,r)}}function Tp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Fl(t)}catch(r){Yt(n,n.return,r)}}function D0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new pp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new pp),n;default:throw Error(s(435,t.tag))}}function nf(t,n){var r=D0(t);n.forEach(function(l){var h=j0.bind(null,t,l);r.has(l)||(r.add(l),l.then(h,h))})}function Cn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,v=n,T=v;t:for(;T!==null;){switch(T.tag){case 27:case 5:ge=T.stateNode,hn=!1;break t;case 3:ge=T.stateNode.containerInfo,hn=!0;break t;case 4:ge=T.stateNode.containerInfo,hn=!0;break t}T=T.return}if(ge===null)throw Error(s(160));Ep(f,v,h),ge=null,hn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Ap(n,t),n=n.sibling}var Pn=null;function Ap(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Cn(n,t),Dn(t),l&4&&(yr(3,t,t.return),Cl(3,t),yr(5,t,t.return));break;case 1:Cn(n,t),Dn(t),l&512&&(ae||r===null||cn(r,r.return)),l&64&&Ii&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=Pn;if(Cn(n,t),Dn(t),l&512&&(ae||r===null||cn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[tr]||f[De]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Pe(f,l,r),f[De]=t,Wt(f),l=f;break t;case"link":var v=dy("link","href",h).get(l+(r.href||""));if(v){for(var T=0;T<v.length;T++)if(f=v[T],f.getAttribute("href")===(r.href==null?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(T,1);break e}}f=h.createElement(l),Pe(f,l,r),h.head.appendChild(f);break;case"meta":if(v=dy("meta","content",h).get(l+(r.content||""))){for(T=0;T<v.length;T++)if(f=v[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(T,1);break e}}f=h.createElement(l),Pe(f,l,r),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[De]=t,Wt(f),l=f}t.stateNode=l}else my(h,t.type,t.stateNode);else t.stateNode=fy(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?my(h,t.type,t.stateNode):fy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&mp(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){h=t.stateNode,f=t.memoizedProps;try{for(var w=h.firstChild;w;){var U=w.nextSibling,Y=w.nodeName;w[tr]||Y==="HEAD"||Y==="BODY"||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&w.rel.toLowerCase()==="stylesheet"||h.removeChild(w),w=U}for(var tt=t.type,H=h.attributes;H.length;)h.removeAttributeNode(H[0]);Pe(h,tt,f),h[De]=t,h[Te]=f}catch(ct){Yt(t,t.return,ct)}}case 5:if(Cn(n,t),Dn(t),l&512&&(ae||r===null||cn(r,r.return)),t.flags&32){h=t.stateNode;try{_n(h,"")}catch(ct){Yt(t,t.return,ct)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,mp(t,h,r!==null?r.memoizedProps:h)),l&1024&&(ef=!0);break;case 6:if(Cn(n,t),Dn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(ct){Yt(t,t.return,ct)}}break;case 3:if(Lu=null,h=Pn,Pn=Mu(n.containerInfo),Cn(n,t),Pn=h,Dn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Fl(n.containerInfo)}catch(ct){Yt(t,t.return,ct)}ef&&(ef=!1,Sp(t));break;case 4:l=Pn,Pn=Mu(t.stateNode.containerInfo),Cn(n,t),Dn(t),Pn=l;break;case 12:Cn(n,t),Dn(t);break;case 13:Cn(n,t),Dn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ff=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nf(t,l)));break;case 22:if(l&512&&(ae||r===null||cn(r,r.return)),w=t.memoizedState!==null,U=r!==null&&r.memoizedState!==null,Y=Ii,tt=ae,Ii=Y||w,ae=tt||U,Cn(n,t),ae=tt,Ii=Y,Dn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=w?n._visibility&-2:n._visibility|1,w&&(n=Ii||ae,r===null||U||n||ss(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(r=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(r===null){U=r=n;try{if(h=U.stateNode,w)f=h.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{v=U.stateNode,T=U.memoizedProps.style;var G=T!=null&&T.hasOwnProperty("display")?T.display:null;v.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(ct){Yt(U,U.return,ct)}}}else if(n.tag===6){if(r===null){U=n;try{U.stateNode.nodeValue=w?"":U.memoizedProps}catch(ct){Yt(U,U.return,ct)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,nf(t,r))));break;case 19:Cn(n,t),Dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nf(t,l)));break;case 21:break;default:Cn(n,t),Dn(t)}}function Dn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var r=t.return;r!==null;){if(gp(r)){var l=r;break t}r=r.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,f=Jh(t);vu(t,f,h);break;case 5:var v=l.stateNode;l.flags&32&&(_n(v,""),l.flags&=-33);var T=Jh(t);vu(t,T,v);break;case 3:case 4:var w=l.stateNode.containerInfo,U=Jh(t);tf(t,U,w);break;default:throw Error(s(161))}}}catch(Y){Yt(t,t.return,Y)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Sp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Sp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Oi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)_p(t,n.alternate,n),n=n.sibling}function ss(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:yr(4,n,n.return),ss(n);break;case 1:cn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&fp(n,n.return,r),ss(n);break;case 26:case 27:case 5:cn(n,n.return),ss(n);break;case 22:cn(n,n.return),n.memoizedState===null&&ss(n);break;default:ss(n)}t=t.sibling}}function _r(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:_r(h,f,r),Cl(4,f);break;case 1:if(_r(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){Yt(l,l.return,U)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)up(w[h],T)}catch(U){Yt(l,l.return,U)}}r&&v&64&&hp(f),ga(f,f.return);break;case 26:case 27:case 5:_r(h,f,r),r&&l===null&&v&4&&dp(f),ga(f,f.return);break;case 12:_r(h,f,r);break;case 13:_r(h,f,r),r&&v&4&&Tp(h,f);break;case 22:f.memoizedState===null&&_r(h,f,r),ga(f,f.return);break;default:_r(h,f,r)}n=n.sibling}}function rf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&yl(r))}function af(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&yl(t))}function vr(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)bp(t,n,r,l),n=n.sibling}function bp(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:vr(t,n,r,l),h&2048&&Cl(9,n);break;case 3:vr(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&yl(t)));break;case 12:if(h&2048){vr(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,T=f.onPostCommit;typeof T=="function"&&T(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){Yt(n,n.return,w)}}else vr(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?vr(t,n,r,l):Dl(t,n):f._visibility&4?vr(t,n,r,l):(f._visibility|=4,ls(t,n,r,l,(n.subtreeFlags&10256)!==0)),h&2048&&rf(n.alternate,n);break;case 24:vr(t,n,r,l),h&2048&&af(n.alternate,n);break;default:vr(t,n,r,l)}}function ls(t,n,r,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,v=n,T=r,w=l,U=v.flags;switch(v.tag){case 0:case 11:case 15:ls(f,v,T,w,h),Cl(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&4?ls(f,v,T,w,h):Dl(f,v):(Y._visibility|=4,ls(f,v,T,w,h)),h&&U&2048&&rf(v.alternate,v);break;case 24:ls(f,v,T,w,h),h&&U&2048&&af(v.alternate,v);break;default:ls(f,v,T,w,h)}n=n.sibling}}function Dl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:Dl(r,l),h&2048&&rf(l.alternate,l);break;case 24:Dl(r,l),h&2048&&af(l.alternate,l);break;default:Dl(r,l)}n=n.sibling}}var xl=8192;function os(t){if(t.subtreeFlags&xl)for(t=t.child;t!==null;)Rp(t),t=t.sibling}function Rp(t){switch(t.tag){case 26:os(t),t.flags&xl&&t.memoizedState!==null&&pT(Pn,t.memoizedState,t.memoizedProps);break;case 5:os(t);break;case 3:case 4:var n=Pn;Pn=Mu(t.stateNode.containerInfo),os(t),Pn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=xl,xl=16777216,os(t),xl=n):os(t));break;default:os(t)}}function wp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Vl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ne=l,Dp(l,t)}wp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Cp(t),t=t.sibling}function Cp(t){switch(t.tag){case 0:case 11:case 15:Vl(t),t.flags&2048&&yr(9,t,t.return);break;case 3:Vl(t);break;case 12:Vl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,Eu(t)):Vl(t);break;default:Vl(t)}}function Eu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ne=l,Dp(l,t)}wp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:yr(8,n,n.return),Eu(n);break;case 22:r=n.stateNode,r._visibility&4&&(r._visibility&=-5,Eu(n));break;default:Eu(n)}t=t.sibling}}function Dp(t,n){for(;Ne!==null;){var r=Ne;switch(r.tag){case 0:case 11:case 15:yr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:yl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ne=l;else t:for(r=t;Ne!==null;){l=Ne;var h=l.sibling,f=l.return;if(vp(l),l===r){Ne=null;break t}if(h!==null){h.return=f,Ne=h;break t}Ne=f}}}function x0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,n,r,l){return new x0(t,n,r,l)}function sf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Er(t,n){var r=t.alternate;return r===null?(r=xn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function xp(t,n){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Tu(t,n,r,l,h,f){var v=0;if(l=t,typeof t=="function")sf(t)&&(v=1);else if(typeof t=="string")v=mT(t,r,Ye.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case p:return pa(r.children,h,f,n);case y:v=8,h|=24;break;case E:return t=xn(12,r,n,h|2),t.elementType=E,t.lanes=f,t;case K:return t=xn(13,r,n,h),t.elementType=K,t.lanes=f,t;case B:return t=xn(19,r,n,h),t.elementType=B,t.lanes=f,t;case et:return Vp(r,h,f,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case S:case M:v=10;break t;case b:v=9;break t;case L:v=11;break t;case q:v=14;break t;case J:v=16,l=null;break t}v=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=xn(v,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function pa(t,n,r,l){return t=xn(7,t,l,n),t.lanes=r,t}function Vp(t,n,r,l){t=xn(22,t,l,n),t.elementType=et,t.lanes=r;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=h._current;if(f===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var v=or(f,2);v!==null&&(h._pendingVisibility|=2,Je(v,f,2))}},attach:function(){var f=h._current;if(f===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var v=or(f,2);v!==null&&(h._pendingVisibility&=-3,Je(v,f,2))}}};return t.stateNode=h,t}function lf(t,n,r){return t=xn(6,t,null,n),t.lanes=r,t}function of(t,n,r){return n=xn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Mi(t){t.flags|=4}function Ip(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!gy(n)){if(n=wn.current,n!==null&&((Ut&4194176)===Ut?ti!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||n!==ti))throw ml=fh,Ym;t.flags|=8192}}function Au(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?$i():536870912,t.lanes|=n,cs|=n)}function Il(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Jt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function V0(t,n,r){var l=n.pendingProps;switch(ch(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(n),null;case 1:return Jt(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Vi(Re),di(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(cl(n)?Mi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,zn!==null&&(pf(zn),zn=null))),Jt(n),null;case 26:return r=n.memoizedState,t===null?(Mi(n),r!==null?(Jt(n),Ip(n,r)):(Jt(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Mi(n),Jt(n),Ip(n,r)):(Jt(n),n.flags&=-16777217):(t.memoizedProps!==l&&Mi(n),Jt(n),n.flags&=-16777217),null;case 27:xa(n),r=gn.current;var h=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Mi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Jt(n),null}t=Ye.current,cl(n)?Gm(n):(t=ly(h,l,r),n.stateNode=t,Mi(n))}return Jt(n),null;case 5:if(xa(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Mi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Jt(n),null}if(t=Ye.current,cl(n))Gm(n);else{switch(h=Ou(gn.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(r,{is:l.is}):h.createElement(r)}}t[De]=n,t[Te]=l;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=t;t:switch(Pe(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Mi(n)}}return Jt(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Mi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=gn.current,cl(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=We,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[De]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||ey(t.nodeValue,r)),t||sa(n)}else t=Ou(t).createTextNode(l),t[De]=n,n.stateNode=t}return Jt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=cl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[De]=n}else hl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Jt(n),h=!1}else zn!==null&&(pf(zn),zn=null),h=!0;if(!h)return n.flags&256?(wi(n),n):(wi(n),null)}if(wi(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),Au(n,n.updateQueue),Jt(n),null;case 4:return di(),t===null&&Cf(n.stateNode.containerInfo),Jt(n),null;case 10:return Vi(n.type),Jt(n),null;case 19:if(ie(be),h=n.memoizedState,h===null)return Jt(n),null;if(l=(n.flags&128)!==0,f=h.rendering,f===null)if(l)Il(h,!1);else{if(se!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=au(t),f!==null){for(n.flags|=128,Il(h,!1),t=f.updateQueue,n.updateQueue=t,Au(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)xp(r,t),r=r.sibling;return Ft(be,be.current&1|2),n.child}t=t.sibling}h.tail!==null&&en()>Su&&(n.flags|=128,l=!0,Il(h,!1),n.lanes=4194304)}else{if(!l)if(t=au(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Au(n,t),Il(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Bt)return Jt(n),null}else 2*en()-h.renderingStartTime>Su&&r!==536870912&&(n.flags|=128,l=!0,Il(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(t=h.last,t!==null?t.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=en(),n.sibling=null,t=be.current,Ft(be,l?t&1|2:t&1),n):(Jt(n),null);case 22:case 23:return wi(n),mh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(Jt(n),n.subtreeFlags&6&&(n.flags|=8192)):Jt(n),r=n.updateQueue,r!==null&&Au(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&ie(oa),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Vi(Re),Jt(n),null;case 25:return null}throw Error(s(156,n.tag))}function I0(t,n){switch(ch(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Vi(Re),di(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return xa(n),null;case 13:if(wi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));hl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ie(be),null;case 4:return di(),null;case 10:return Vi(n.type),null;case 22:case 23:return wi(n),mh(),t!==null&&ie(oa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Vi(Re),null;case 25:return null;default:return null}}function Np(t,n){switch(ch(n),n.tag){case 3:Vi(Re),di();break;case 26:case 27:case 5:xa(n);break;case 4:di();break;case 13:wi(n);break;case 19:ie(be);break;case 10:Vi(n.type);break;case 22:case 23:wi(n),mh(),t!==null&&ie(oa);break;case 24:Vi(Re)}}var N0={getCacheForType:function(t){var n=He(Re),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},O0=typeof WeakMap=="function"?WeakMap:Map,te=0,Xt=null,xt=null,Ut=0,$t=0,fn=null,Ui=!1,us=!1,uf=!1,Li=0,se=0,Tr=0,ya=0,cf=0,Vn=0,cs=0,Nl=null,ni=null,hf=!1,ff=0,Su=1/0,bu=null,Ar=null,Ru=!1,_a=null,Ol=0,df=0,mf=null,Ml=0,gf=null;function dn(){if((te&2)!==0&&Ut!==0)return Ut&-Ut;if(R.T!==null){var t=es;return t!==0?t:Sf()}return Io()}function Op(){Vn===0&&(Vn=(Ut&536870912)===0||Bt?Gs():536870912);var t=wn.current;return t!==null&&(t.flags|=32),Vn}function Je(t,n,r){(t===Xt&&$t===2||t.cancelPendingCommit!==null)&&(hs(t,0),zi(t,Ut,Vn,!1)),oe(t,r),((te&2)===0||t!==Xt)&&(t===Xt&&((te&2)===0&&(ya|=r),se===4&&zi(t,Ut,Vn,!1)),ii(t))}function Mp(t,n,r){if((te&6)!==0)throw Error(s(327));var l=!r&&(n&60)===0&&(n&t.expiredLanes)===0||Xi(t,n),h=l?L0(t,n):vf(t,n,!0),f=l;do{if(h===0){us&&!l&&zi(t,n,0,!1);break}else if(h===6)zi(t,n,0,!Ui);else{if(r=t.current.alternate,f&&!M0(r)){h=vf(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var T=t;h=Nl;var w=T.current.memoizedState.isDehydrated;if(w&&(hs(T,v).flags|=256),v=vf(T,v,!1),v!==2){if(uf&&!w){T.errorRecoveryDisabledLanes|=f,ya|=f,h=4;break t}f=ni,ni=h,f!==null&&pf(f)}h=v}if(f=!1,h!==2)continue}}if(h===1){hs(t,0),zi(t,n,0,!0);break}t:{switch(l=t,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194176)===n){zi(l,n,Vn,!Ui);break t}break;case 2:ni=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=r,l.finishedLanes=n,(n&62914560)===n&&(f=ff+300-en(),10<f)){if(zi(l,n,Vn,!Ui),pn(l,0)!==0)break t;l.timeoutHandle=ry(Up.bind(null,l,r,ni,bu,hf,n,Vn,ya,cs,Ui,2,-0,0),f);break t}Up(l,r,ni,bu,hf,n,Vn,ya,cs,Ui,0,-0,0)}}break}while(!0);ii(t)}function pf(t){ni===null?ni=t:ni.push.apply(ni,t)}function Up(t,n,r,l,h,f,v,T,w,U,Y,tt,H){var G=n.subtreeFlags;if((G&8192||(G&16785408)===16785408)&&(Bl={stylesheets:null,count:0,unsuspend:gT},Rp(n),n=yT(),n!==null)){t.cancelPendingCommit=n(qp.bind(null,t,r,l,h,v,T,w,1,tt,H)),zi(t,f,v,!U);return}qp(t,r,l,h,v,T,w,Y,tt,H)}function M0(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!un(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function zi(t,n,r,l){n&=~cf,n&=~ya,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-Xe(h),v=1<<f;l[f]=-1,h&=~v}r!==0&&Zi(t,r,n)}function wu(){return(te&6)===0?(Ul(0),!1):!0}function yf(){if(xt!==null){if($t===0)var t=xt.return;else t=xt,xi=da=null,Ah(t),Ja=null,gl=0,t=xt;for(;t!==null;)Np(t.alternate,t),t=t.return;xt=null}}function hs(t,n){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,J0(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),yf(),Xt=t,xt=r=Er(t.current,null),Ut=n,$t=0,fn=null,Ui=!1,us=Xi(t,n),uf=!1,cs=Vn=cf=ya=Tr=se=0,ni=Nl=null,hf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Xe(l),f=1<<h;n|=t[h],l&=~f}return Li=n,$o(),r}function Lp(t,n){Ct=null,R.H=ei,n===dl?(n=Zm(),$t=3):n===Ym?(n=Zm(),$t=4):$t=n===Xg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,fn=n,xt===null&&(se=1,pu(t,Sn(n,t.current)))}function zp(){var t=R.H;return R.H=ei,t===null?ei:t}function Pp(){var t=R.A;return R.A=N0,t}function _f(){se=4,Ui||(Ut&4194176)!==Ut&&wn.current!==null||(us=!0),(Tr&134217727)===0&&(ya&134217727)===0||Xt===null||zi(Xt,Ut,Vn,!1)}function vf(t,n,r){var l=te;te|=2;var h=zp(),f=Pp();(Xt!==t||Ut!==n)&&(bu=null,hs(t,n)),n=!1;var v=se;t:do try{if($t!==0&&xt!==null){var T=xt,w=fn;switch($t){case 8:yf(),v=6;break t;case 3:case 2:case 6:wn.current===null&&(n=!0);var U=$t;if($t=0,fn=null,fs(t,T,w,U),r&&us){v=0;break t}break;default:U=$t,$t=0,fn=null,fs(t,T,w,U)}}U0(),v=se;break}catch(Y){Lp(t,Y)}while(!0);return n&&t.shellSuspendCounter++,xi=da=null,te=l,R.H=h,R.A=f,xt===null&&(Xt=null,Ut=0,$o()),v}function U0(){for(;xt!==null;)kp(xt)}function L0(t,n){var r=te;te|=2;var l=zp(),h=Pp();Xt!==t||Ut!==n?(bu=null,Su=en()+500,hs(t,n)):us=Xi(t,n);t:do try{if($t!==0&&xt!==null){n=xt;var f=fn;e:switch($t){case 1:$t=0,fn=null,fs(t,n,f,1);break;case 2:if(Xm(f)){$t=0,fn=null,Bp(n);break}n=function(){$t===2&&Xt===t&&($t=7),ii(t)},f.then(n,n);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:Xm(f)?($t=0,fn=null,Bp(n)):($t=0,fn=null,fs(t,n,f,7));break;case 5:var v=null;switch(xt.tag){case 26:v=xt.memoizedState;case 5:case 27:var T=xt;if(!v||gy(v)){$t=0,fn=null;var w=T.sibling;if(w!==null)xt=w;else{var U=T.return;U!==null?(xt=U,Cu(U)):xt=null}break e}}$t=0,fn=null,fs(t,n,f,5);break;case 6:$t=0,fn=null,fs(t,n,f,6);break;case 8:yf(),se=6;break t;default:throw Error(s(462))}}z0();break}catch(Y){Lp(t,Y)}while(!0);return xi=da=null,R.H=l,R.A=h,te=r,xt!==null?0:(Xt=null,Ut=0,$o(),se)}function z0(){for(;xt!==null&&!Gc();)kp(xt)}function kp(t){var n=lp(t.alternate,t,Li);t.memoizedProps=t.pendingProps,n===null?Cu(t):xt=n}function Bp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=ep(r,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=ep(r,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:Ah(n);default:Np(r,n),n=xt=xp(n,Li),n=lp(r,n,Li)}t.memoizedProps=t.pendingProps,n===null?Cu(t):xt=n}function fs(t,n,r,l){xi=da=null,Ah(n),Ja=null,gl=0;var h=n.return;try{if(R0(t,h,n,r,Ut)){se=1,pu(t,Sn(r,t.current)),xt=null;return}}catch(f){if(h!==null)throw xt=h,f;se=1,pu(t,Sn(r,t.current)),xt=null;return}n.flags&32768?(Bt||l===1?t=!0:us||(Ut&536870912)!==0?t=!1:(Ui=t=!0,(l===2||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),jp(n,t)):Cu(n)}function Cu(t){var n=t;do{if((n.flags&32768)!==0){jp(n,Ui);return}t=n.return;var r=V0(n.alternate,n,Li);if(r!==null){xt=r;return}if(n=n.sibling,n!==null){xt=n;return}xt=n=t}while(n!==null);se===0&&(se=5)}function jp(t,n){do{var r=I0(t.alternate,t);if(r!==null){r.flags&=32767,xt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){xt=t;return}xt=t=r}while(t!==null);se=6,xt=null}function qp(t,n,r,l,h,f,v,T,w,U){var Y=R.T,tt=st.p;try{st.p=2,R.T=null,P0(t,n,r,l,tt,h,f,v,T,w,U)}finally{R.T=Y,st.p=tt}}function P0(t,n,r,l,h,f,v,T){do ds();while(_a!==null);if((te&6)!==0)throw Error(s(327));var w=t.finishedWork;if(l=t.finishedLanes,w===null)return null;if(t.finishedWork=null,t.finishedLanes=0,w===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var U=w.lanes|w.childLanes;if(U|=lh,xo(t,l,U,f,v,T),t===Xt&&(xt=Xt=null,Ut=0),(w.subtreeFlags&10256)===0&&(w.flags&10256)===0||Ru||(Ru=!0,df=U,mf=r,q0(mi,function(){return ds(),null})),r=(w.flags&15990)!==0,(w.subtreeFlags&15990)!==0||r?(r=R.T,R.T=null,f=st.p,st.p=2,v=te,te|=4,C0(t,w),Ap(w,t),o0(If,t.containerInfo),ku=!!Vf,If=Vf=null,t.current=w,_p(t,w.alternate,w),qs(),te=v,st.p=f,R.T=r):t.current=w,Ru?(Ru=!1,_a=t,Ol=l):Hp(t,U),U=t.pendingLanes,U===0&&(Ar=null),Qs(w.stateNode),ii(t),n!==null)for(h=t.onRecoverableError,w=0;w<n.length;w++)U=n[w],h(U.value,{componentStack:U.stack});return(Ol&3)!==0&&ds(),U=t.pendingLanes,(l&4194218)!==0&&(U&42)!==0?t===gf?Ml++:(Ml=0,gf=t):Ml=0,Ul(0),null}function Hp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,yl(n)))}function ds(){if(_a!==null){var t=_a,n=df;df=0;var r=Vo(Ol),l=R.T,h=st.p;try{if(st.p=32>r?32:r,R.T=null,_a===null)var f=!1;else{r=mf,mf=null;var v=_a,T=Ol;if(_a=null,Ol=0,(te&6)!==0)throw Error(s(331));var w=te;if(te|=4,Cp(v.current),bp(v,v.current,T,r),te=w,Ul(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Ki,v)}catch{}f=!0}return f}finally{st.p=h,R.T=l,Hp(t,n)}}return!1}function Qp(t,n,r){n=Sn(r,n),n=Lh(t.stateNode,n,2),t=pr(t,n,2),t!==null&&(oe(t,2),ii(t))}function Yt(t,n,r){if(t.tag===3)Qp(t,t,r);else for(;n!==null;){if(n.tag===3){Qp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ar===null||!Ar.has(l))){t=Sn(r,t),r=Kg(2),l=pr(n,r,2),l!==null&&(Yg(r,l,n,t),oe(l,2),ii(l));break}}n=n.return}}function Ef(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new O0;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(uf=!0,h.add(r),t=k0.bind(null,t,n,r),n.then(t,t))}function k0(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Xt===t&&(Ut&r)===r&&(se===4||se===3&&(Ut&62914560)===Ut&&300>en()-ff?(te&2)===0&&hs(t,0):cf|=r,cs===Ut&&(cs=0)),ii(t)}function Fp(t,n){n===0&&(n=$i()),t=or(t,n),t!==null&&(oe(t,n),ii(t))}function B0(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Fp(t,r)}function j0(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Fp(t,r)}function q0(t,n){return qr(t,n)}var Du=null,ms=null,Tf=!1,xu=!1,Af=!1,va=0;function ii(t){t!==ms&&t.next===null&&(ms===null?Du=ms=t:ms=ms.next=t),xu=!0,Tf||(Tf=!0,Q0(H0))}function Ul(t,n){if(!Af&&xu){Af=!0;do for(var r=!1,l=Du;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var v=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-Xe(42|t)+1)-1,f&=h&~(v&~T),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(r=!0,Yp(l,f))}else f=Ut,f=pn(l,l===Xt?f:0),(f&3)===0||Xi(l,f)||(r=!0,Yp(l,f));l=l.next}while(r);Af=!1}}function H0(){xu=Tf=!1;var t=0;va!==0&&(W0()&&(t=va),va=0);for(var n=en(),r=null,l=Du;l!==null;){var h=l.next,f=Gp(l,n);f===0?(l.next=null,r===null?Du=h:r.next=h,h===null&&(ms=r)):(r=l,(t!==0||(f&3)!==0)&&(xu=!0)),l=h}Ul(t)}function Gp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-Xe(f),T=1<<v,w=h[v];w===-1?((T&r)===0||(T&l)!==0)&&(h[v]=Na(T,n)):w<=n&&(t.expiredLanes|=T),f&=~T}if(n=Xt,r=Ut,r=pn(t,t===n?r:0),l=t.callbackNode,r===0||t===n&&$t===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ia(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Xi(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Ia(l),Vo(r)){case 2:case 8:r=Ce;break;case 32:r=mi;break;case 268435456:r=Hs;break;default:r=mi}return l=Kp.bind(null,t),r=qr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Ia(l),t.callbackPriority=2,t.callbackNode=null,2}function Kp(t,n){var r=t.callbackNode;if(ds()&&t.callbackNode!==r)return null;var l=Ut;return l=pn(t,t===Xt?l:0),l===0?null:(Mp(t,l,n),Gp(t,en()),t.callbackNode!=null&&t.callbackNode===r?Kp.bind(null,t):null)}function Yp(t,n){if(ds())return null;Mp(t,n,!0)}function Q0(t){tT(function(){(te&6)!==0?qr(Ee,t):t()})}function Sf(){return va===0&&(va=Gs()),va}function Xp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Gn(""+t)}function $p(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function F0(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=Xp((h[Te]||null).action),v=l.submitter;v&&(n=(n=v[Te]||null)?Xp(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var T=new ka("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(va!==0){var w=v?$p(h,v):new FormData(h);Ih(r,{pending:!0,data:w,method:h.method,action:f},null,w)}}else typeof f=="function"&&(T.preventDefault(),w=v?$p(h,v):new FormData(h),Ih(r,{pending:!0,data:w,method:h.method,action:f},f,w))},currentTarget:h}]})}}for(var bf=0;bf<qm.length;bf++){var Rf=qm[bf],G0=Rf.toLowerCase(),K0=Rf[0].toUpperCase()+Rf.slice(1);Ln(G0,"on"+K0)}Ln(zm,"onAnimationEnd"),Ln(Pm,"onAnimationIteration"),Ln(km,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(c0,"onTransitionRun"),Ln(h0,"onTransitionStart"),Ln(f0,"onTransitionCancel"),Ln(Bm,"onTransitionEnd"),nn("onMouseEnter",["mouseout","mouseover"]),nn("onMouseLeave",["mouseout","mouseover"]),nn("onPointerEnter",["pointerout","pointerover"]),nn("onPointerLeave",["pointerout","pointerover"]),ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ln("onBeforeInput",["compositionend","keypress","textInput","paste"]),ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ll));function Zp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var T=l[v],w=T.instance,U=T.currentTarget;if(T=T.listener,w!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=U;try{f(h)}catch(Y){gu(Y)}h.currentTarget=null,f=w}else for(v=0;v<l.length;v++){if(T=l[v],w=T.instance,U=T.currentTarget,T=T.listener,w!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=U;try{f(h)}catch(Y){gu(Y)}h.currentTarget=null,f=w}}}}function It(t,n){var r=n[Qr];r===void 0&&(r=n[Qr]=new Set);var l=t+"__bubble";r.has(l)||(Wp(n,t,2,!1),r.add(l))}function wf(t,n,r){var l=0;n&&(l|=4),Wp(r,t,l,n)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function Cf(t){if(!t[Vu]){t[Vu]=!0,Ys.forEach(function(r){r!=="selectionchange"&&(Y0.has(r)||wf(r,!1,t),wf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Vu]||(n[Vu]=!0,wf("selectionchange",!1,n))}}function Wp(t,n,r,l){switch(Ty(n)){case 2:var h=ET;break;case 8:h=TT;break;default:h=Bf}r=h.bind(null,n,r,t),h=void 0,!En||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function Df(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(v===4)for(v=l.return;v!==null;){var w=v.tag;if((w===3||w===4)&&(w=v.stateNode.containerInfo,w===h||w.nodeType===8&&w.parentNode===h))return;v=v.return}for(;T!==null;){if(v=Un(T),v===null)return;if(w=v.tag,w===5||w===6||w===26||w===27){l=f=v;continue t}T=T.parentNode}}l=l.return}Uo(function(){var U=f,Y=Pa(r),tt=[];t:{var H=jm.get(t);if(H!==void 0){var G=ka,ct=t;switch(t){case"keypress":if(Yn(r)===0)break t;case"keydown":case"keyup":G=Fa;break;case"focusin":ct="focus",G=qa;break;case"focusout":ct="blur",G=qa;break;case"beforeblur":case"afterblur":G=qa;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Jc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Ho;break;case zm:case Pm:case km:G=Ha;break;case Bm:G=Fo;break;case"scroll":case"scrollend":G=Lo;break;case"wheel":G=Ga;break;case"copy":case"cut":case"paste":G=Qa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=sl;break;case"toggle":case"beforetoggle":G=Ko}var Tt=(n&4)!==0,le=!Tt&&(t==="scroll"||t==="scrollend"),z=Tt?H!==null?H+"Capture":null:H;Tt=[];for(var I=U,j;I!==null;){var X=I;if(j=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||j===null||z===null||(X=Xr(I,z),X!=null&&Tt.push(zl(I,X,j))),le)break;I=I.return}0<Tt.length&&(H=new G(H,ct,null,r,Y),tt.push({event:H,listeners:Tt}))}}if((n&7)===0){t:{if(H=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",H&&r!==vn&&(ct=r.relatedTarget||r.fromElement)&&(Un(ct)||ct[gi]))break t;if((G||H)&&(H=Y.window===Y?Y:(H=Y.ownerDocument)?H.defaultView||H.parentWindow:window,G?(ct=r.relatedTarget||r.toElement,G=U,ct=ct?Un(ct):null,ct!==null&&(le=mt(ct),Tt=ct.tag,ct!==le||Tt!==5&&Tt!==27&&Tt!==6)&&(ct=null)):(G=null,ct=U),G!==ct)){if(Tt=Tn,X="onMouseLeave",z="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(Tt=sl,X="onPointerLeave",z="onPointerEnter",I="pointer"),le=G==null?H:er(G),j=ct==null?H:er(ct),H=new Tt(X,I+"leave",G,r,Y),H.target=le,H.relatedTarget=j,X=null,Un(Y)===U&&(Tt=new Tt(z,I+"enter",ct,r,Y),Tt.target=j,Tt.relatedTarget=le,X=Tt),le=X,G&&ct)e:{for(Tt=G,z=ct,I=0,j=Tt;j;j=gs(j))I++;for(j=0,X=z;X;X=gs(X))j++;for(;0<I-j;)Tt=gs(Tt),I--;for(;0<j-I;)z=gs(z),j--;for(;I--;){if(Tt===z||z!==null&&Tt===z.alternate)break e;Tt=gs(Tt),z=gs(z)}Tt=null}else Tt=null;G!==null&&Jp(tt,H,G,Tt,!1),ct!==null&&le!==null&&Jp(tt,le,ct,Tt,!0)}}t:{if(H=U?er(U):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var ut=wm;else if(Se(H))if(Cm)ut=s0;else{ut=r0;var Dt=i0}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?U&&Js(U.elementType)&&(ut=wm):ut=a0;if(ut&&(ut=ut(t,U))){Si(tt,ut,r,Y);break t}Dt&&Dt(t,H,U),t==="focusout"&&U&&H.type==="number"&&U.memoizedProps.value!=null&&za(H,"number",H.value)}switch(Dt=U?er(U):window,t){case"focusin":(Se(Dt)||Dt.contentEditable==="true")&&(Ka=Dt,rh=U,ul=null);break;case"focusout":ul=rh=Ka=null;break;case"mousedown":ah=!0;break;case"contextmenu":case"mouseup":case"dragend":ah=!1,Um(tt,r,Y);break;case"selectionchange":if(u0)break;case"keydown":case"keyup":Um(tt,r,Y)}var dt;if(Zn)t:{switch(t){case"compositionstart":var yt="onCompositionStart";break t;case"compositionend":yt="onCompositionEnd";break t;case"compositionupdate":yt="onCompositionUpdate";break t}yt=void 0}else Ot?F(t,r)&&(yt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(yt="onCompositionStart");yt&&(_&&r.locale!=="ko"&&(Ot||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&Ot&&(dt=el()):(Kn=Y,lr="value"in Kn?Kn.value:Kn.textContent,Ot=!0)),Dt=Iu(U,yt),0<Dt.length&&(yt=new rl(yt,t,null,r,Y),tt.push({event:yt,listeners:Dt}),dt?yt.data=dt:(dt=it(r),dt!==null&&(yt.data=dt)))),(dt=g?Ae(t,r):Mt(t,r))&&(yt=Iu(U,"onBeforeInput"),0<yt.length&&(Dt=new rl("onBeforeInput","beforeinput",null,r,Y),tt.push({event:Dt,listeners:yt}),Dt.data=dt)),F0(tt,t,U,r,Y)}Zp(tt,n)})}function zl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Iu(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Xr(t,r),h!=null&&l.unshift(zl(t,h,f)),h=Xr(t,n),h!=null&&l.push(zl(t,h,f))),t=t.return}return l}function gs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Jp(t,n,r,l,h){for(var f=n._reactName,v=[];r!==null&&r!==l;){var T=r,w=T.alternate,U=T.stateNode;if(T=T.tag,w!==null&&w===l)break;T!==5&&T!==26&&T!==27||U===null||(w=U,h?(U=Xr(r,f),U!=null&&v.unshift(zl(r,U,w))):h||(U=Xr(r,f),U!=null&&v.push(zl(r,U,w)))),r=r.return}v.length!==0&&t.push({event:n,listeners:v})}var X0=/\r\n?/g,$0=/\u0000|\uFFFD/g;function ty(t){return(typeof t=="string"?t:""+t).replace(X0,`
`).replace($0,"")}function ey(t,n){return n=ty(n),ty(t)===n}function Nu(){}function Kt(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||_n(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&_n(t,""+l);break;case"className":rr(t,"class",l);break;case"tabIndex":rr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":rr(t,r,l);break;case"style":Mo(t,l,f);break;case"data":if(n!=="object"){rr(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Gn(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Kt(t,n,"name",h.name,h,null),Kt(t,n,"formEncType",h.formEncType,h,null),Kt(t,n,"formMethod",h.formMethod,h,null),Kt(t,n,"formTarget",h.formTarget,h,null)):(Kt(t,n,"encType",h.encType,h,null),Kt(t,n,"method",h.method,h,null),Kt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Gn(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Nu);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Gn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":It("beforetoggle",t),It("toggle",t),ir(t,"popover",l);break;case"xlinkActuate":yn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":yn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":yn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":yn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":yn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":yn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":yn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":yn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":yn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ir(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Zc.get(r)||r,ir(t,r,l))}}function xf(t,n,r,l,h,f){switch(r){case"style":Mo(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?_n(t,l):(typeof l=="number"||typeof l=="bigint")&&_n(t,""+l);break;case"onScroll":l!=null&&It("scroll",t);break;case"onScrollEnd":l!=null&&It("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Nu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ua.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[Te]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):ir(t,r,l)}}}function Pe(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",t),It("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var v=r[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,f,v,r,null)}}h&&Kt(t,n,"srcSet",r.srcSet,r,null),l&&Kt(t,n,"src",r.src,r,null);return;case"input":It("invalid",t);var T=f=v=h=null,w=null,U=null;for(l in r)if(r.hasOwnProperty(l)){var Y=r[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":v=Y;break;case"checked":w=Y;break;case"defaultChecked":U=Y;break;case"value":f=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,n));break;default:Kt(t,n,l,Y,r,null)}}Kr(t,f,T,w,U,v,h,!1),Gr(t);return;case"select":It("invalid",t),l=v=f=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Kt(t,n,h,T,r,null)}n=f,r=v,t.multiple=!!l,n!=null?kt(t,!!l,n,!1):r!=null&&kt(t,!!l,r,!0);return;case"textarea":It("invalid",t),f=h=l=null;for(v in r)if(r.hasOwnProperty(v)&&(T=r[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Kt(t,n,v,T,r,null)}sr(t,l,h,f),Gr(t);return;case"option":for(w in r)if(r.hasOwnProperty(w)&&(l=r[w],l!=null))switch(w){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(t,n,w,l,r,null)}return;case"dialog":It("cancel",t),It("close",t);break;case"iframe":case"object":It("load",t);break;case"video":case"audio":for(l=0;l<Ll.length;l++)It(Ll[l],t);break;case"image":It("error",t),It("load",t);break;case"details":It("toggle",t);break;case"embed":case"source":case"link":It("error",t),It("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in r)if(r.hasOwnProperty(U)&&(l=r[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,U,l,r,null)}return;default:if(Js(n)){for(Y in r)r.hasOwnProperty(Y)&&(l=r[Y],l!==void 0&&xf(t,n,Y,l,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(l=r[T],l!=null&&Kt(t,n,T,l,r,null))}function Z0(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,T=null,w=null,U=null,Y=null;for(G in r){var tt=r[G];if(r.hasOwnProperty(G)&&tt!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":w=tt;default:l.hasOwnProperty(G)||Kt(t,n,G,null,l,tt)}}for(var H in l){var G=l[H];if(tt=r[H],l.hasOwnProperty(H)&&(G!=null||tt!=null))switch(H){case"type":f=G;break;case"name":h=G;break;case"checked":U=G;break;case"defaultChecked":Y=G;break;case"value":v=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:G!==tt&&Kt(t,n,H,G,l,tt)}}ar(t,v,T,w,U,Y,f,h);return;case"select":G=v=T=H=null;for(f in r)if(w=r[f],r.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":G=w;default:l.hasOwnProperty(f)||Kt(t,n,f,null,l,w)}for(h in l)if(f=l[h],w=r[h],l.hasOwnProperty(h)&&(f!=null||w!=null))switch(h){case"value":H=f;break;case"defaultValue":T=f;break;case"multiple":v=f;default:f!==w&&Kt(t,n,h,f,l,w)}n=T,r=v,l=G,H!=null?kt(t,!!r,H,!1):!!l!=!!r&&(n!=null?kt(t,!!r,n,!0):kt(t,!!r,r?[]:"",!1));return;case"textarea":G=H=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Kt(t,n,T,null,l,h)}for(v in l)if(h=l[v],f=r[v],l.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":H=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Kt(t,n,v,h,l,f)}Yr(t,H,G);return;case"option":for(var ct in r)if(H=r[ct],r.hasOwnProperty(ct)&&H!=null&&!l.hasOwnProperty(ct))switch(ct){case"selected":t.selected=!1;break;default:Kt(t,n,ct,null,l,H)}for(w in l)if(H=l[w],G=r[w],l.hasOwnProperty(w)&&H!==G&&(H!=null||G!=null))switch(w){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Kt(t,n,w,H,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in r)H=r[Tt],r.hasOwnProperty(Tt)&&H!=null&&!l.hasOwnProperty(Tt)&&Kt(t,n,Tt,null,l,H);for(U in l)if(H=l[U],G=r[U],l.hasOwnProperty(U)&&H!==G&&(H!=null||G!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:Kt(t,n,U,H,l,G)}return;default:if(Js(n)){for(var le in r)H=r[le],r.hasOwnProperty(le)&&H!==void 0&&!l.hasOwnProperty(le)&&xf(t,n,le,void 0,l,H);for(Y in l)H=l[Y],G=r[Y],!l.hasOwnProperty(Y)||H===G||H===void 0&&G===void 0||xf(t,n,Y,H,l,G);return}}for(var z in r)H=r[z],r.hasOwnProperty(z)&&H!=null&&!l.hasOwnProperty(z)&&Kt(t,n,z,null,l,H);for(tt in l)H=l[tt],G=r[tt],!l.hasOwnProperty(tt)||H===G||H==null&&G==null||Kt(t,n,tt,H,l,G)}var Vf=null,If=null;function Ou(t){return t.nodeType===9?t:t.ownerDocument}function ny(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Nf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Of=null;function W0(){var t=window.event;return t&&t.type==="popstate"?t===Of?!1:(Of=t,!0):(Of=null,!1)}var ry=typeof setTimeout=="function"?setTimeout:void 0,J0=typeof clearTimeout=="function"?clearTimeout:void 0,ay=typeof Promise=="function"?Promise:void 0,tT=typeof queueMicrotask=="function"?queueMicrotask:typeof ay<"u"?function(t){return ay.resolve(null).then(t).catch(eT)}:ry;function eT(t){setTimeout(function(){throw t})}function Mf(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"){if(l===0){t.removeChild(h),Fl(n);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=h}while(r);Fl(n)}function Uf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Uf(r),Fr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function nT(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[tr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function iT(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=kn(t.nextSibling),t===null))return null;return t}function kn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function sy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function ly(t,n,r){switch(n=Ou(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var In=new Map,oy=new Set;function Mu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Pi=st.d;st.d={f:rT,r:aT,D:sT,C:lT,L:oT,m:uT,X:hT,S:cT,M:fT};function rT(){var t=Pi.f(),n=wu();return t||n}function aT(t){var n=pi(t);n!==null&&n.tag===5&&n.type==="form"?Ug(n):Pi.r(t)}var ps=typeof document>"u"?null:document;function uy(t,n,r){var l=ps;if(l&&typeof n=="string"&&n){var h=re(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),oy.has(h)||(oy.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Pe(n,"link",t),Wt(n),l.head.appendChild(n)))}}function sT(t){Pi.D(t),uy("dns-prefetch",t,null)}function lT(t,n){Pi.C(t,n),uy("preconnect",t,n)}function oT(t,n,r){Pi.L(t,n,r);var l=ps;if(l&&t&&n){var h='link[rel="preload"][as="'+re(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+re(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+re(r.imageSizes)+'"]')):h+='[href="'+re(t)+'"]';var f=h;switch(n){case"style":f=ys(t);break;case"script":f=_s(t)}In.has(f)||(t=x({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),In.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Pl(f))||n==="script"&&l.querySelector(kl(f))||(n=l.createElement("link"),Pe(n,"link",t),Wt(n),l.head.appendChild(n)))}}function uT(t,n){Pi.m(t,n);var r=ps;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+re(l)+'"][href="'+re(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=_s(t)}if(!In.has(f)&&(t=x({rel:"modulepreload",href:t},n),In.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(kl(f)))return}l=r.createElement("link"),Pe(l,"link",t),Wt(l),r.head.appendChild(l)}}}function cT(t,n,r){Pi.S(t,n,r);var l=ps;if(l&&t){var h=nr(l).hoistableStyles,f=ys(t);n=n||"default";var v=h.get(f);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Pl(f)))T.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},r),(r=In.get(f))&&Lf(t,r);var w=v=l.createElement("link");Wt(w),Pe(w,"link",t),w._p=new Promise(function(U,Y){w.onload=U,w.onerror=Y}),w.addEventListener("load",function(){T.loading|=1}),w.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Uu(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(f,v)}}}function hT(t,n){Pi.X(t,n);var r=ps;if(r&&t){var l=nr(r).hoistableScripts,h=_s(t),f=l.get(h);f||(f=r.querySelector(kl(h)),f||(t=x({src:t,async:!0},n),(n=In.get(h))&&zf(t,n),f=r.createElement("script"),Wt(f),Pe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function fT(t,n){Pi.M(t,n);var r=ps;if(r&&t){var l=nr(r).hoistableScripts,h=_s(t),f=l.get(h);f||(f=r.querySelector(kl(h)),f||(t=x({src:t,async:!0,type:"module"},n),(n=In.get(h))&&zf(t,n),f=r.createElement("script"),Wt(f),Pe(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function cy(t,n,r,l){var h=(h=gn.current)?Mu(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ys(r.href),r=nr(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ys(r.href);var f=nr(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(Pl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),In.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},In.set(t,r),f||dT(h,t,r,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=_s(r),r=nr(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ys(t){return'href="'+re(t)+'"'}function Pl(t){return'link[rel="stylesheet"]['+t+"]"}function hy(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function dT(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pe(n,"link",r),Wt(n),t.head.appendChild(n))}function _s(t){return'[src="'+re(t)+'"]'}function kl(t){return"script[async]"+t}function fy(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+re(r.href)+'"]');if(l)return n.instance=l,Wt(l),l;var h=x({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Wt(l),Pe(l,"style",h),Uu(l,r.precedence,t),n.instance=l;case"stylesheet":h=ys(r.href);var f=t.querySelector(Pl(h));if(f)return n.state.loading|=4,n.instance=f,Wt(f),f;l=hy(r),(h=In.get(h))&&Lf(l,h),f=(t.ownerDocument||t).createElement("link"),Wt(f);var v=f;return v._p=new Promise(function(T,w){v.onload=T,v.onerror=w}),Pe(f,"link",l),n.state.loading|=4,Uu(f,r.precedence,t),n.instance=f;case"script":return f=_s(r.src),(h=t.querySelector(kl(f)))?(n.instance=h,Wt(h),h):(l=r,(h=In.get(f))&&(l=x({},r),zf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Wt(h),Pe(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Uu(l,r.precedence,t));return n.instance}function Uu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Lf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function zf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Lu=null;function dy(t,n,r){if(Lu===null){var l=new Map,h=Lu=new Map;h.set(r,l)}else h=Lu,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[tr]||f[De]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var T=l.get(v);T?T.push(f):l.set(v,[f])}}return l}function my(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function mT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function gy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Bl=null;function gT(){}function pT(t,n,r){if(Bl===null)throw Error(s(475));var l=Bl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=ys(r.href),f=t.querySelector(Pl(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=zu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,Wt(f);return}f=t.ownerDocument||t,r=hy(r),(h=In.get(h))&&Lf(r,h),f=f.createElement("link"),Wt(f);var v=f;v._p=new Promise(function(T,w){v.onload=T,v.onerror=w}),Pe(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=zu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function yT(){if(Bl===null)throw Error(s(475));var t=Bl;return t.stylesheets&&t.count===0&&Pf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&Pf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function zu(){if(this.count--,this.count===0){if(this.stylesheets)Pf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Pu=null;function Pf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Pu=new Map,n.forEach(_T,t),Pu=null,zu.call(t))}function _T(t,n){if(!(n.state.loading&4)){var r=Pu.get(t);if(r)var l=r.get(null);else{r=new Map,Pu.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),l=v)}l&&r.set(null,l)}h=n.instance,v=h.getAttribute("data-precedence"),f=r.get(v)||l,f===l&&r.set(null,h),r.set(v,h),this.count++,l=zu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var jl={$$typeof:M,Provider:null,Consumer:null,_currentValue:Rt,_currentValue2:Rt,_threadCount:0};function vT(t,n,r,l,h,f,v,T){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oa(0),this.hiddenUpdates=Oa(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function py(t,n,r,l,h,f,v,T,w,U,Y,tt){return t=new vT(t,n,r,v,T,w,U,tt),n=1,f===!0&&(n|=24),f=xn(3,null,null,n),t.current=f,f.stateNode=t,n=gh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Xh(f),t}function yy(t){return t?(t=$a,t):$a}function _y(t,n,r,l,h,f){h=yy(h),l.context===null?l.context=h:l.pendingContext=h,l=gr(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=pr(t,l,n),r!==null&&(Je(r,t,n),bl(r,t,n))}function vy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function kf(t,n){vy(t,n),(t=t.alternate)&&vy(t,n)}function Ey(t){if(t.tag===13){var n=or(t,67108864);n!==null&&Je(n,t,67108864),kf(t,67108864)}}var ku=!0;function ET(t,n,r,l){var h=R.T;R.T=null;var f=st.p;try{st.p=2,Bf(t,n,r,l)}finally{st.p=f,R.T=h}}function TT(t,n,r,l){var h=R.T;R.T=null;var f=st.p;try{st.p=8,Bf(t,n,r,l)}finally{st.p=f,R.T=h}}function Bf(t,n,r,l){if(ku){var h=jf(l);if(h===null)Df(t,n,l,Bu,r),Ay(t,l);else if(ST(h,t,n,r,l))l.stopPropagation();else if(Ay(t,l),n&4&&-1<AT.indexOf(t)){for(;h!==null;){var f=pi(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Mn(f.pendingLanes);if(v!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var w=1<<31-Xe(v);T.entanglements[1]|=w,v&=~w}ii(f),(te&6)===0&&(Su=en()+500,Ul(0))}}break;case 13:T=or(f,2),T!==null&&Je(T,f,2),wu(),kf(f,2)}if(f=jf(l),f===null&&Df(t,n,l,Bu,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else Df(t,n,l,null,r)}}function jf(t){return t=Pa(t),qf(t)}var Bu=null;function qf(t){if(Bu=null,t=Un(t),t!==null){var n=mt(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=qt(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Bu=t,null}function Ty(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ro()){case Ee:return 2;case Ce:return 8;case mi:case wo:return 32;case Hs:return 268435456;default:return 32}default:return 32}}var Hf=!1,Sr=null,br=null,Rr=null,ql=new Map,Hl=new Map,wr=[],AT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ay(t,n){switch(t){case"focusin":case"focusout":Sr=null;break;case"dragenter":case"dragleave":br=null;break;case"mouseover":case"mouseout":Rr=null;break;case"pointerover":case"pointerout":ql.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(n.pointerId)}}function Ql(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=pi(n),n!==null&&Ey(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function ST(t,n,r,l,h){switch(n){case"focusin":return Sr=Ql(Sr,t,n,r,l,h),!0;case"dragenter":return br=Ql(br,t,n,r,l,h),!0;case"mouseover":return Rr=Ql(Rr,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return ql.set(f,Ql(ql.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Hl.set(f,Ql(Hl.get(f)||null,t,n,r,l,h)),!0}return!1}function Sy(t){var n=Un(t.target);if(n!==null){var r=mt(n);if(r!==null){if(n=r.tag,n===13){if(n=qt(r),n!==null){t.blockedOn=n,Ji(t.priority,function(){if(r.tag===13){var l=dn(),h=or(r,l);h!==null&&Je(h,r,l),kf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ju(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=jf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);vn=l,r.target.dispatchEvent(l),vn=null}else return n=pi(r),n!==null&&Ey(n),t.blockedOn=r,!1;n.shift()}return!0}function by(t,n,r){ju(t)&&r.delete(n)}function bT(){Hf=!1,Sr!==null&&ju(Sr)&&(Sr=null),br!==null&&ju(br)&&(br=null),Rr!==null&&ju(Rr)&&(Rr=null),ql.forEach(by),Hl.forEach(by)}function qu(t,n){t.blockedOn===n&&(t.blockedOn=null,Hf||(Hf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bT)))}var Hu=null;function Ry(t){Hu!==t&&(Hu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Hu===t&&(Hu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(qf(l||r)===null)continue;break}var f=pi(r);f!==null&&(t.splice(n,3),n-=3,Ih(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Fl(t){function n(w){return qu(w,t)}Sr!==null&&qu(Sr,t),br!==null&&qu(br,t),Rr!==null&&qu(Rr,t),ql.forEach(n),Hl.forEach(n);for(var r=0;r<wr.length;r++){var l=wr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<wr.length&&(r=wr[0],r.blockedOn===null);)Sy(r),r.blockedOn===null&&wr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],v=h[Te]||null;if(typeof f=="function")v||Ry(r);else if(v){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[Te]||null)T=v.formAction;else if(qf(h)!==null)continue}else T=v.action;typeof T=="function"?r[l+1]=T:(r.splice(l,3),l-=3),Ry(r)}}}function Qf(t){this._internalRoot=t}Qu.prototype.render=Qf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=dn();_y(r,l,t,n,null,null)},Qu.prototype.unmount=Qf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&ds(),_y(t.current,2,null,t,null,null),wu(),n[gi]=null}};function Qu(t){this._internalRoot=t}Qu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Io();t={blockedOn:null,target:t,priority:n};for(var r=0;r<wr.length&&n!==0&&n<wr[r].priority;r++);wr.splice(r,0,t),r===0&&Sy(t)}};var wy=e.version;if(wy!=="19.0.0")throw Error(s(527,wy,"19.0.0"));st.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=nt(n),t=t!==null?ft(t):null,t=t===null?null:t.stateNode,t};var RT={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:R,findFiberByHostInstance:Un,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fu.isDisabled&&Fu.supportsFiber)try{Ki=Fu.inject(RT),qe=Fu}catch{}}return Kl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",h=Hg,f=Qg,v=Fg,T=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=py(t,1,!1,null,null,r,l,h,f,v,T,null),t[gi]=n.current,Cf(t.nodeType===8?t.parentNode:t),new Qf(n)},Kl.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,h="",f=Hg,v=Qg,T=Fg,w=null,U=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks),r.formState!==void 0&&(U=r.formState)),n=py(t,1,!0,n,r??null,l,h,f,v,T,w,U),n.context=yy(null),r=n.current,l=dn(),h=gr(l),h.callback=null,pr(r,h,l),n.current.lanes=l,oe(n,l),ii(n),t[gi]=n.current,Cf(t),new Qu(n)},Kl.version="19.0.0",Kl}var Ly;function UT(){if(Ly)return Kf.exports;Ly=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Kf.exports=MT(),Kf.exports}var LT=UT(),Yl={},zy;function zT(){if(zy)return Yl;zy=1,Object.defineProperty(Yl,"__esModule",{value:!0}),Yl.parse=d,Yl.serialize=y;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,c=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function d(b,M){const L=new c,K=b.length;if(K<2)return L;const B=(M==null?void 0:M.decode)||E;let q=0;do{const J=b.indexOf("=",q);if(J===-1)break;const et=b.indexOf(";",q),pt=et===-1?K:et;if(J>pt){q=b.lastIndexOf(";",J-1)+1;continue}const ht=m(b,q,J),wt=p(b,J,ht),O=b.slice(ht,wt);if(L[O]===void 0){let C=m(b,J+1,pt),R=p(b,pt,C);const x=B(b.slice(C,R));L[O]=x}q=pt+1}while(q<K);return L}function m(b,M,L){do{const K=b.charCodeAt(M);if(K!==32&&K!==9)return M}while(++M<L);return L}function p(b,M,L){for(;M>L;){const K=b.charCodeAt(--M);if(K!==32&&K!==9)return M+1}return L}function y(b,M,L){const K=(L==null?void 0:L.encode)||encodeURIComponent;if(!a.test(b))throw new TypeError(`argument name is invalid: ${b}`);const B=K(M);if(!e.test(B))throw new TypeError(`argument val is invalid: ${M}`);let q=b+"="+B;if(!L)return q;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);q+="; Max-Age="+L.maxAge}if(L.domain){if(!i.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);q+="; Domain="+L.domain}if(L.path){if(!s.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);q+="; Path="+L.path}if(L.expires){if(!S(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);q+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&(q+="; HttpOnly"),L.secure&&(q+="; Secure"),L.partitioned&&(q+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":q+="; Priority=Low";break;case"medium":q+="; Priority=Medium";break;case"high":q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":q+="; SameSite=Strict";break;case"lax":q+="; SameSite=Lax";break;case"none":q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return q}function E(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function S(b){return o.call(b)==="[object Date]"}return Yl}zT();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Py="popstate";function PT(a={}){function e(s,o){let{pathname:c,search:d,hash:m}=s.location;return ld("",{pathname:c,search:d,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(s,o){return typeof o=="string"?o:ao(o)}return BT(e,i,null,a)}function ee(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function li(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kT(){return Math.random().toString(36).substring(2,10)}function ky(a,e){return{usr:a.state,key:a.key,idx:e}}function ld(a,e,i=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?Ms(e):e,state:i,key:e&&e.key||s||kT()}}function ao({pathname:a="/",search:e="",hash:i=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function Ms(a){let e={};if(a){let i=a.indexOf("#");i>=0&&(e.hash=a.substring(i),a=a.substring(0,i));let s=a.indexOf("?");s>=0&&(e.search=a.substring(s),a=a.substring(0,s)),a&&(e.pathname=a)}return e}function BT(a,e,i,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,m="POP",p=null,y=E();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function E(){return(d.state||{idx:null}).idx}function S(){m="POP";let B=E(),q=B==null?null:B-y;y=B,p&&p({action:m,location:K.location,delta:q})}function b(B,q){m="PUSH";let J=ld(K.location,B,q);y=E()+1;let et=ky(J,y),pt=K.createHref(J);try{d.pushState(et,"",pt)}catch(ht){if(ht instanceof DOMException&&ht.name==="DataCloneError")throw ht;o.location.assign(pt)}c&&p&&p({action:m,location:K.location,delta:1})}function M(B,q){m="REPLACE";let J=ld(K.location,B,q);y=E();let et=ky(J,y),pt=K.createHref(J);d.replaceState(et,"",pt),c&&p&&p({action:m,location:K.location,delta:0})}function L(B){let q=o.location.origin!=="null"?o.location.origin:o.location.href,J=typeof B=="string"?B:ao(B);return J=J.replace(/ $/,"%20"),ee(q,`No window.location.(origin|href) available to create URL for href: ${J}`),new URL(J,q)}let K={get action(){return m},get location(){return a(o,d)},listen(B){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Py,S),p=B,()=>{o.removeEventListener(Py,S),p=null}},createHref(B){return e(o,B)},createURL:L,encodeLocation(B){let q=L(B);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:b,replace:M,go(B){return d.go(B)}};return K}function J_(a,e,i="/"){return jT(a,e,i,!1)}function jT(a,e,i,s){let o=typeof e=="string"?Ms(e):e,c=ji(o.pathname||"/",i);if(c==null)return null;let d=tv(a);qT(d);let m=null;for(let p=0;m==null&&p<d.length;++p){let y=JT(c);m=ZT(d[p],y,s)}return m}function tv(a,e=[],i=[],s=""){let o=(c,d,m)=>{let p={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};p.relativePath.startsWith("/")&&(ee(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=ki([s,p.relativePath]),E=i.concat(p);c.children&&c.children.length>0&&(ee(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),tv(c.children,e,E,y)),!(c.path==null&&!c.index)&&e.push({path:y,score:XT(y,c.index),routesMeta:E})};return a.forEach((c,d)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))o(c,d);else for(let p of ev(c.path))o(c,d,p)}),e}function ev(a){let e=a.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=ev(s.join("/")),m=[];return m.push(...d.map(p=>p===""?c:[c,p].join("/"))),o&&m.push(...d),m.map(p=>a.startsWith("/")&&p===""?"/":p)}function qT(a){a.sort((e,i)=>e.score!==i.score?i.score-e.score:$T(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var HT=/^:[\w-]+$/,QT=3,FT=2,GT=1,KT=10,YT=-2,By=a=>a==="*";function XT(a,e){let i=a.split("/"),s=i.length;return i.some(By)&&(s+=YT),e&&(s+=FT),i.filter(o=>!By(o)).reduce((o,c)=>o+(HT.test(c)?QT:c===""?GT:KT),s)}function $T(a,e){return a.length===e.length&&a.slice(0,-1).every((s,o)=>s===e[o])?a[a.length-1]-e[e.length-1]:0}function ZT(a,e,i=!1){let{routesMeta:s}=a,o={},c="/",d=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=c==="/"?e:e.slice(c.length)||"/",S=lc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),b=p.route;if(!S&&y&&i&&!s[s.length-1].route.index&&(S=lc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),d.push({params:o,pathname:ki([c,S.pathname]),pathnameBase:iA(ki([c,S.pathnameBase])),route:b}),S.pathnameBase!=="/"&&(c=ki([c,S.pathnameBase]))}return d}function lc(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,s]=WT(a.path,a.caseSensitive,a.end),o=e.match(i);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:S},b)=>{if(E==="*"){let L=m[b]||"";d=c.slice(0,c.length-L.length).replace(/(.)\/+$/,"$1")}const M=m[b];return S&&!M?y[E]=void 0:y[E]=(M||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:a}}function WT(a,e=!1,i=!0){li(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(s.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function JT(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return li(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function ji(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=a.charAt(i);return s&&s!=="/"?null:a.slice(i)||"/"}function tA(a,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof a=="string"?Ms(a):a;return{pathname:i?i.startsWith("/")?i:eA(i,e):e,search:rA(s),hash:aA(o)}}function eA(a,e){let i=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Zf(a,e,i,s){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nA(a){return a.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function nv(a){let e=nA(a);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function iv(a,e,i,s=!1){let o;typeof a=="string"?o=Ms(a):(o={...a},ee(!o.pathname||!o.pathname.includes("?"),Zf("?","pathname","search",o)),ee(!o.pathname||!o.pathname.includes("#"),Zf("#","pathname","hash",o)),ee(!o.search||!o.search.includes("#"),Zf("#","search","hash",o)));let c=a===""||o.pathname==="",d=c?"/":o.pathname,m;if(d==null)m=i;else{let S=e.length-1;if(!s&&d.startsWith("..")){let b=d.split("/");for(;b[0]==="..";)b.shift(),S-=1;o.pathname=b.join("/")}m=S>=0?e[S]:"/"}let p=tA(o,m),y=d&&d!=="/"&&d.endsWith("/"),E=(c||d===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var ki=a=>a.join("/").replace(/\/\/+/g,"/"),iA=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),rA=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,aA=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function sA(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var rv=["POST","PUT","PATCH","DELETE"];new Set(rv);var lA=["GET",...rv];new Set(lA);var Us=Q.createContext(null);Us.displayName="DataRouter";var Rc=Q.createContext(null);Rc.displayName="DataRouterState";var av=Q.createContext({isTransitioning:!1});av.displayName="ViewTransition";var oA=Q.createContext(new Map);oA.displayName="Fetchers";var uA=Q.createContext(null);uA.displayName="Await";var ci=Q.createContext(null);ci.displayName="Navigation";var go=Q.createContext(null);go.displayName="Location";var hi=Q.createContext({outlet:null,matches:[],isDataRoute:!1});hi.displayName="Route";var Nd=Q.createContext(null);Nd.displayName="RouteError";function cA(a,{relative:e}={}){ee(po(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=Q.useContext(ci),{hash:o,pathname:c,search:d}=yo(a,{relative:e}),m=c;return i!=="/"&&(m=c==="/"?i:ki([i,c])),s.createHref({pathname:m,search:d,hash:o})}function po(){return Q.useContext(go)!=null}function Ra(){return ee(po(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(go).location}var sv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lv(a){Q.useContext(ci).static||Q.useLayoutEffect(a)}function wc(){let{isDataRoute:a}=Q.useContext(hi);return a?SA():hA()}function hA(){ee(po(),"useNavigate() may be used only in the context of a <Router> component.");let a=Q.useContext(Us),{basename:e,navigator:i}=Q.useContext(ci),{matches:s}=Q.useContext(hi),{pathname:o}=Ra(),c=JSON.stringify(nv(s)),d=Q.useRef(!1);return lv(()=>{d.current=!0}),Q.useCallback((p,y={})=>{if(li(d.current,sv),!d.current)return;if(typeof p=="number"){i.go(p);return}let E=iv(p,JSON.parse(c),o,y.relative==="path");a==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ki([e,E.pathname])),(y.replace?i.replace:i.push)(E,y.state,y)},[e,i,c,o,a])}Q.createContext(null);function ov(){let{matches:a}=Q.useContext(hi),e=a[a.length-1];return e?e.params:{}}function yo(a,{relative:e}={}){let{matches:i}=Q.useContext(hi),{pathname:s}=Ra(),o=JSON.stringify(nv(i));return Q.useMemo(()=>iv(a,JSON.parse(o),s,e==="path"),[a,o,s,e])}function fA(a,e){return uv(a,e)}function uv(a,e,i,s){var J;ee(po(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:c}=Q.useContext(ci),{matches:d}=Q.useContext(hi),m=d[d.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let et=S&&S.path||"";cv(y,!S||et.endsWith("*")||et.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${et}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${et}"> to <Route path="${et==="/"?"*":`${et}/*`}">.`)}let b=Ra(),M;if(e){let et=typeof e=="string"?Ms(e):e;ee(E==="/"||((J=et.pathname)==null?void 0:J.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${et.pathname}" was given in the \`location\` prop.`),M=et}else M=b;let L=M.pathname||"/",K=L;if(E!=="/"){let et=E.replace(/^\//,"").split("/");K="/"+L.replace(/^\//,"").split("/").slice(et.length).join("/")}let B=!c&&i&&i.matches&&i.matches.length>0?i.matches:J_(a,{pathname:K});li(S||B!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),li(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let q=yA(B&&B.map(et=>Object.assign({},et,{params:Object.assign({},p,et.params),pathname:ki([E,o.encodeLocation?o.encodeLocation(et.pathname).pathname:et.pathname]),pathnameBase:et.pathnameBase==="/"?E:ki([E,o.encodeLocation?o.encodeLocation(et.pathnameBase).pathname:et.pathnameBase])})),d,i,s);return e&&q?Q.createElement(go.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},q):q}function dA(){let a=AA(),e=sA(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",a),d=Q.createElement(Q.Fragment,null,Q.createElement("p",null," Hey developer "),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:c},"ErrorBoundary")," or"," ",Q.createElement("code",{style:c},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),i?Q.createElement("pre",{style:o},i):null,d)}var mA=Q.createElement(dA,null),gA=class extends Q.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){console.error("React Router caught the following error during render",a,e)}render(){return this.state.error!==void 0?Q.createElement(hi.Provider,{value:this.props.routeContext},Q.createElement(Nd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function pA({routeContext:a,match:e,children:i}){let s=Q.useContext(Us);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(hi.Provider,{value:a},i)}function yA(a,e=[],i=null,s=null){if(a==null){if(!i)return null;if(i.errors)a=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let o=a,c=i==null?void 0:i.errors;if(c!=null){let p=o.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);ee(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let d=!1,m=-1;if(i)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:E,errors:S}=i,b=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||b){d=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,y,E)=>{let S,b=!1,M=null,L=null;i&&(S=c&&y.route.id?c[y.route.id]:void 0,M=y.route.errorElement||mA,d&&(m<0&&E===0?(cv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,L=null):m===E&&(b=!0,L=y.route.hydrateFallbackElement||null)));let K=e.concat(o.slice(0,E+1)),B=()=>{let q;return S?q=M:b?q=L:y.route.Component?q=Q.createElement(y.route.Component,null):y.route.element?q=y.route.element:q=p,Q.createElement(pA,{match:y,routeContext:{outlet:p,matches:K,isDataRoute:i!=null},children:q})};return i&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?Q.createElement(gA,{location:i.location,revalidation:i.revalidation,component:M,error:S,children:B(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):B()},null)}function Od(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _A(a){let e=Q.useContext(Us);return ee(e,Od(a)),e}function vA(a){let e=Q.useContext(Rc);return ee(e,Od(a)),e}function EA(a){let e=Q.useContext(hi);return ee(e,Od(a)),e}function Md(a){let e=EA(a),i=e.matches[e.matches.length-1];return ee(i.route.id,`${a} can only be used on routes that contain a unique "id"`),i.route.id}function TA(){return Md("useRouteId")}function AA(){var s;let a=Q.useContext(Nd),e=vA("useRouteError"),i=Md("useRouteError");return a!==void 0?a:(s=e.errors)==null?void 0:s[i]}function SA(){let{router:a}=_A("useNavigate"),e=Md("useNavigate"),i=Q.useRef(!1);return lv(()=>{i.current=!0}),Q.useCallback(async(o,c={})=>{li(i.current,sv),i.current&&(typeof o=="number"?a.navigate(o):await a.navigate(o,{fromRouteId:e,...c}))},[a,e])}var jy={};function cv(a,e,i){!e&&!jy[a]&&(jy[a]=!0,li(!1,i))}Q.memo(bA);function bA({routes:a,future:e,state:i}){return uv(a,void 0,i,e)}function $l(a){ee(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function RA({basename:a="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:c=!1}){ee(!po(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=a.replace(/^\/*/,"/"),m=Q.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof i=="string"&&(i=Ms(i));let{pathname:p="/",search:y="",hash:E="",state:S=null,key:b="default"}=i,M=Q.useMemo(()=>{let L=ji(p,d);return L==null?null:{location:{pathname:L,search:y,hash:E,state:S,key:b},navigationType:s}},[d,p,y,E,S,b,s]);return li(M!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:Q.createElement(ci.Provider,{value:m},Q.createElement(go.Provider,{children:e,value:M}))}function wA({children:a,location:e}){return fA(od(a),e)}function od(a,e=[]){let i=[];return Q.Children.forEach(a,(s,o)=>{if(!Q.isValidElement(s))return;let c=[...e,o];if(s.type===Q.Fragment){i.push.apply(i,od(s.props.children,c));return}ee(s.type===$l,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ee(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=od(s.props.children,c)),i.push(d)}),i}var Wu="get",Ju="application/x-www-form-urlencoded";function Cc(a){return a!=null&&typeof a.tagName=="string"}function CA(a){return Cc(a)&&a.tagName.toLowerCase()==="button"}function DA(a){return Cc(a)&&a.tagName.toLowerCase()==="form"}function xA(a){return Cc(a)&&a.tagName.toLowerCase()==="input"}function VA(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function IA(a,e){return a.button===0&&(!e||e==="_self")&&!VA(a)}var Gu=null;function NA(){if(Gu===null)try{new FormData(document.createElement("form"),0),Gu=!1}catch{Gu=!0}return Gu}var OA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wf(a){return a!=null&&!OA.has(a)?(li(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ju}"`),null):a}function MA(a,e){let i,s,o,c,d;if(DA(a)){let m=a.getAttribute("action");s=m?ji(m,e):null,i=a.getAttribute("method")||Wu,o=Wf(a.getAttribute("enctype"))||Ju,c=new FormData(a)}else if(CA(a)||xA(a)&&(a.type==="submit"||a.type==="image")){let m=a.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=a.getAttribute("formaction")||m.getAttribute("action");if(s=p?ji(p,e):null,i=a.getAttribute("formmethod")||m.getAttribute("method")||Wu,o=Wf(a.getAttribute("formenctype"))||Wf(m.getAttribute("enctype"))||Ju,c=new FormData(m,a),!NA()){let{name:y,type:E,value:S}=a;if(E==="image"){let b=y?`${y}.`:"";c.append(`${b}x`,"0"),c.append(`${b}y`,"0")}else y&&c.append(y,S)}}else{if(Cc(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Wu,s=null,o=Ju,d=a}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:c,body:d}}function Ud(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}async function UA(a,e){if(a.id in e)return e[a.id];try{let i=await import(a.module);return e[a.id]=i,i}catch(i){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function LA(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function zA(a,e,i){let s=await Promise.all(a.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await UA(c,i);return d.links?d.links():[]}return[]}));return jA(s.flat(1).filter(LA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function qy(a,e,i,s,o,c){let d=(p,y)=>i[y]?p.route.id!==i[y].route.id:!0,m=(p,y)=>{var E;return i[y].pathname!==p.pathname||((E=i[y].route.path)==null?void 0:E.endsWith("*"))&&i[y].params["*"]!==p.params["*"]};return c==="assets"?e.filter((p,y)=>d(p,y)||m(p,y)):c==="data"?e.filter((p,y)=>{var S;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(d(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=i[0])==null?void 0:S.params)||{},nextUrl:new URL(a,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function PA(a,e,{includeHydrateFallback:i}={}){return kA(a.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function kA(a){return[...new Set(a)]}function BA(a){let e={},i=Object.keys(a).sort();for(let s of i)e[s]=a[s];return e}function jA(a,e){let i=new Set;return new Set(e),a.reduce((s,o)=>{let c=JSON.stringify(BA(o));return i.has(c)||(i.add(c),s.push({key:c,link:o})),s},[])}function qA(a,e){let i=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return i.pathname==="/"?i.pathname="_root.data":e&&ji(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function hv(){let a=Q.useContext(Us);return Ud(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function HA(){let a=Q.useContext(Rc);return Ud(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Ld=Q.createContext(void 0);Ld.displayName="FrameworkContext";function fv(){let a=Q.useContext(Ld);return Ud(a,"You must render this element inside a <HydratedRouter> element"),a}function QA(a,e){let i=Q.useContext(Ld),[s,o]=Q.useState(!1),[c,d]=Q.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=e,b=Q.useRef(null);Q.useEffect(()=>{if(a==="render"&&d(!0),a==="viewport"){let K=q=>{q.forEach(J=>{d(J.isIntersecting)})},B=new IntersectionObserver(K,{threshold:.5});return b.current&&B.observe(b.current),()=>{B.disconnect()}}},[a]),Q.useEffect(()=>{if(s){let K=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(K)}}},[s]);let M=()=>{o(!0)},L=()=>{o(!1),d(!1)};return i?a!=="intent"?[c,b,{}]:[c,b,{onFocus:Xl(m,M),onBlur:Xl(p,L),onMouseEnter:Xl(y,M),onMouseLeave:Xl(E,L),onTouchStart:Xl(S,M)}]:[!1,b,{}]}function Xl(a,e){return i=>{a&&a(i),i.defaultPrevented||e(i)}}function FA({page:a,...e}){let{router:i}=hv(),s=Q.useMemo(()=>J_(i.routes,a,i.basename),[i.routes,a,i.basename]);return s?Q.createElement(KA,{page:a,matches:s,...e}):null}function GA(a){let{manifest:e,routeModules:i}=fv(),[s,o]=Q.useState([]);return Q.useEffect(()=>{let c=!1;return zA(a,e,i).then(d=>{c||o(d)}),()=>{c=!0}},[a,e,i]),s}function KA({page:a,matches:e,...i}){let s=Ra(),{manifest:o,routeModules:c}=fv(),{basename:d}=hv(),{loaderData:m,matches:p}=HA(),y=Q.useMemo(()=>qy(a,e,p,o,s,"data"),[a,e,p,o,s]),E=Q.useMemo(()=>qy(a,e,p,o,s,"assets"),[a,e,p,o,s]),S=Q.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let L=new Set,K=!1;if(e.forEach(q=>{var et;let J=o.routes[q.route.id];!J||!J.hasLoader||(!y.some(pt=>pt.route.id===q.route.id)&&q.route.id in m&&((et=c[q.route.id])!=null&&et.shouldRevalidate)||J.hasClientLoader?K=!0:L.add(q.route.id))}),L.size===0)return[];let B=qA(a,d);return K&&L.size>0&&B.searchParams.set("_routes",e.filter(q=>L.has(q.route.id)).map(q=>q.route.id).join(",")),[B.pathname+B.search]},[d,m,s,o,y,e,a,c]),b=Q.useMemo(()=>PA(E,o),[E,o]),M=GA(E);return Q.createElement(Q.Fragment,null,S.map(L=>Q.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...i})),b.map(L=>Q.createElement("link",{key:L,rel:"modulepreload",href:L,...i})),M.map(({key:L,link:K})=>Q.createElement("link",{key:L,...K})))}function YA(...a){return e=>{a.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var dv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dv&&(window.__reactRouterVersion="7.3.0")}catch{}function XA({basename:a,children:e,window:i}){let s=Q.useRef();s.current==null&&(s.current=PT({window:i,v5Compat:!0}));let o=s.current,[c,d]=Q.useState({action:o.action,location:o.location}),m=Q.useCallback(p=>{Q.startTransition(()=>d(p))},[d]);return Q.useLayoutEffect(()=>o.listen(m),[o,m]),Q.createElement(RA,{basename:a,children:e,location:c.location,navigationType:c.action,navigator:o})}var mv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gv=Q.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:m,target:p,to:y,preventScrollReset:E,viewTransition:S,...b},M){let{basename:L}=Q.useContext(ci),K=typeof y=="string"&&mv.test(y),B,q=!1;if(typeof y=="string"&&K&&(B=y,dv))try{let R=new URL(window.location.href),x=y.startsWith("//")?new URL(R.protocol+y):new URL(y),N=ji(x.pathname,L);x.origin===R.origin&&N!=null?y=N+x.search+x.hash:q=!0}catch{li(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=cA(y,{relative:o}),[et,pt,ht]=QA(s,b),wt=WA(y,{replace:d,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:S});function O(R){e&&e(R),R.defaultPrevented||wt(R)}let C=Q.createElement("a",{...b,...ht,href:B||J,onClick:q||c?e:O,ref:YA(M,pt),target:p,"data-discover":!K&&i==="render"?"true":void 0});return et&&!K?Q.createElement(Q.Fragment,null,C,Q.createElement(FA,{page:J})):C});gv.displayName="Link";var pv=Q.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:m,children:p,...y},E){let S=yo(d,{relative:y.relative}),b=Ra(),M=Q.useContext(Rc),{navigator:L,basename:K}=Q.useContext(ci),B=M!=null&&iS(S)&&m===!0,q=L.encodeLocation?L.encodeLocation(S).pathname:S.pathname,J=b.pathname,et=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;i||(J=J.toLowerCase(),et=et?et.toLowerCase():null,q=q.toLowerCase()),et&&K&&(et=ji(et,K)||et);const pt=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let ht=J===q||!o&&J.startsWith(q)&&J.charAt(pt)==="/",wt=et!=null&&(et===q||!o&&et.startsWith(q)&&et.charAt(q.length)==="/"),O={isActive:ht,isPending:wt,isTransitioning:B},C=ht?e:void 0,R;typeof s=="function"?R=s(O):R=[s,ht?"active":null,wt?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let x=typeof c=="function"?c(O):c;return Q.createElement(gv,{...y,"aria-current":C,className:R,ref:E,style:x,to:d,viewTransition:m},typeof p=="function"?p(O):p)});pv.displayName="NavLink";var $A=Q.forwardRef(({discover:a="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:c,method:d=Wu,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:S,...b},M)=>{let L=eS(),K=nS(m,{relative:y}),B=d.toLowerCase()==="get"?"get":"post",q=typeof m=="string"&&mv.test(m),J=et=>{if(p&&p(et),et.defaultPrevented)return;et.preventDefault();let pt=et.nativeEvent.submitter,ht=(pt==null?void 0:pt.getAttribute("formmethod"))||d;L(pt||et.currentTarget,{fetcherKey:e,method:ht,navigate:i,replace:o,state:c,relative:y,preventScrollReset:E,viewTransition:S})};return Q.createElement("form",{ref:M,method:B,action:K,onSubmit:s?p:J,...b,"data-discover":!q&&a==="render"?"true":void 0})});$A.displayName="Form";function ZA(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yv(a){let e=Q.useContext(Us);return ee(e,ZA(a)),e}function WA(a,{target:e,replace:i,state:s,preventScrollReset:o,relative:c,viewTransition:d}={}){let m=wc(),p=Ra(),y=yo(a,{relative:c});return Q.useCallback(E=>{if(IA(E,e)){E.preventDefault();let S=i!==void 0?i:ao(p)===ao(y);m(a,{replace:S,state:s,preventScrollReset:o,relative:c,viewTransition:d})}},[p,m,y,i,s,e,a,o,c,d])}var JA=0,tS=()=>`__${String(++JA)}__`;function eS(){let{router:a}=yv("useSubmit"),{basename:e}=Q.useContext(ci),i=TA();return Q.useCallback(async(s,o={})=>{let{action:c,method:d,encType:m,formData:p,body:y}=MA(s,e);if(o.navigate===!1){let E=o.fetcherKey||tS();await a.fetch(E,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||m,flushSync:o.flushSync})}else await a.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[a,e,i])}function nS(a,{relative:e}={}){let{basename:i}=Q.useContext(ci),s=Q.useContext(hi);ee(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...yo(a||".",{relative:e})},d=Ra();if(a==null){c.search=d.search;let m=new URLSearchParams(c.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();c.search=E?`?${E}`:""}}return(!a||a===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:ki([i,c.pathname])),ao(c)}function iS(a,e={}){let i=Q.useContext(av);ee(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=yv("useViewTransitionState"),o=yo(a,{relative:e.relative});if(!i.isTransitioning)return!1;let c=ji(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=ji(i.nextLocation.pathname,s)||i.nextLocation.pathname;return lc(o.pathname,d)!=null||lc(o.pathname,c)!=null}new TextEncoder;const rS=()=>{};var Hy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},aS=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=a[i++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=a[i++],d=a[i++],m=a[i++],p=((o&7)<<18|(c&63)<<12|(d&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=a[i++],d=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},vv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const c=a[o],d=o+1<a.length,m=d?a[o+1]:0,p=o+2<a.length,y=p?a[o+2]:0,E=c>>2,S=(c&3)<<4|m>>4;let b=(m&15)<<2|y>>6,M=y&63;p||(M=64,d||(b=64)),s.push(i[E],i[S],i[b],i[M])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(_v(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):aS(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const c=i[a.charAt(o++)],m=o<a.length?i[a.charAt(o)]:0;++o;const y=o<a.length?i[a.charAt(o)]:64;++o;const S=o<a.length?i[a.charAt(o)]:64;if(++o,c==null||m==null||y==null||S==null)throw new sS;const b=c<<2|m>>4;if(s.push(b),y!==64){const M=m<<4&240|y>>2;if(s.push(M),S!==64){const L=y<<6&192|S;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class sS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lS=function(a){const e=_v(a);return vv.encodeByteArray(e,!0)},oc=function(a){return lS(a).replace(/\./g,"")},oS=function(a){try{return vv.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=()=>uS().__FIREBASE_DEFAULTS__,hS=()=>{if(typeof process>"u"||typeof Hy>"u")return;const a=Hy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},fS=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&oS(a[1]);return e&&JSON.parse(e)},zd=()=>{try{return rS()||cS()||hS()||fS()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},dS=a=>{var e,i;return(i=(e=zd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[a]},mS=a=>{const e=dS(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Ev=()=>{var a;return(a=zd())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},a);return[oc(JSON.stringify(i)),oc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _S(){var a;const e=(a=zd())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vS(){return!_S()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ES(){try{return typeof indexedDB=="object"}catch{return!1}}function TS(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="FirebaseError";class Ls extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=AS,Object.setPrototypeOf(this,Ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tv.prototype.create)}}class Tv{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?SS(c,s):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new Ls(o,m,s)}}function SS(a,e){return a.replace(bS,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const bS=/\{\$([^}]+)}/g;function uc(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const c=a[o],d=e[o];if(Qy(c)&&Qy(d)){if(!uc(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Qy(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(a){return a&&a._delegate?a._delegate:a}class so{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new gS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CS(e))try{this.getOrInitializeService({instanceIdentifier:Ta})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=Ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ta){return this.instances.has(e)}getOptions(e=Ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),c=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&e(d,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:wS(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ta){return this.component?this.component.multipleInstances?e:Ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wS(a){return a===Ta?void 0:a}function CS(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new RS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(zt||(zt={}));const xS={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},VS=zt.INFO,IS={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},NS=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=IS[e];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Av{constructor(e){this.name=e,this._logLevel=VS,this._logHandler=NS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in zt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...e),this._logHandler(this,zt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...e),this._logHandler(this,zt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...e),this._logHandler(this,zt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...e),this._logHandler(this,zt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...e),this._logHandler(this,zt.ERROR,...e)}}const OS=(a,e)=>e.some(i=>a instanceof i);let Fy,Gy;function MS(){return Fy||(Fy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function US(){return Gy||(Gy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Sv=new WeakMap,ud=new WeakMap,bv=new WeakMap,Jf=new WeakMap,Pd=new WeakMap;function LS(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{i(xr(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",c),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Sv.set(i,a)}).catch(()=>{}),Pd.set(e,a),e}function zS(a){if(ud.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});ud.set(a,e)}let cd={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return ud.get(a);if(e==="objectStoreNames")return a.objectStoreNames||bv.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return xr(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function PS(a){cd=a(cd)}function kS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(td(this),e,...i);return bv.set(s,e.sort?e.sort():[e]),xr(s)}:US().includes(a)?function(...e){return a.apply(td(this),e),xr(Sv.get(this))}:function(...e){return xr(a.apply(td(this),e))}}function BS(a){return typeof a=="function"?kS(a):(a instanceof IDBTransaction&&zS(a),OS(a,MS())?new Proxy(a,cd):a)}function xr(a){if(a instanceof IDBRequest)return LS(a);if(Jf.has(a))return Jf.get(a);const e=BS(a);return e!==a&&(Jf.set(a,e),Pd.set(e,a)),e}const td=a=>Pd.get(a);function jS(a,e,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(a,e),m=xr(d);return s&&d.addEventListener("upgradeneeded",p=>{s(xr(d.result),p.oldVersion,p.newVersion,xr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const qS=["get","getKey","getAll","getAllKeys","count"],HS=["put","add","delete","clear"],ed=new Map;function Ky(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(ed.get(e))return ed.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=HS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||qS.includes(i)))return;const c=async function(d,...m){const p=this.transaction(d,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[i](...m),o&&p.done]))[0]};return ed.set(e,c),c}PS(a=>({...a,get:(e,i,s)=>Ky(e,i)||a.get(e,i,s),has:(e,i)=>!!Ky(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(FS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function FS(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hd="@firebase/app",Yy="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new Av("@firebase/app"),GS="@firebase/app-compat",KS="@firebase/analytics-compat",YS="@firebase/analytics",XS="@firebase/app-check-compat",$S="@firebase/app-check",ZS="@firebase/auth",WS="@firebase/auth-compat",JS="@firebase/database",tb="@firebase/data-connect",eb="@firebase/database-compat",nb="@firebase/functions",ib="@firebase/functions-compat",rb="@firebase/installations",ab="@firebase/installations-compat",sb="@firebase/messaging",lb="@firebase/messaging-compat",ob="@firebase/performance",ub="@firebase/performance-compat",cb="@firebase/remote-config",hb="@firebase/remote-config-compat",fb="@firebase/storage",db="@firebase/storage-compat",mb="@firebase/firestore",gb="@firebase/vertexai",pb="@firebase/firestore-compat",yb="firebase",_b="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd="[DEFAULT]",vb={[hd]:"fire-core",[GS]:"fire-core-compat",[YS]:"fire-analytics",[KS]:"fire-analytics-compat",[$S]:"fire-app-check",[XS]:"fire-app-check-compat",[ZS]:"fire-auth",[WS]:"fire-auth-compat",[JS]:"fire-rtdb",[tb]:"fire-data-connect",[eb]:"fire-rtdb-compat",[nb]:"fire-fn",[ib]:"fire-fn-compat",[rb]:"fire-iid",[ab]:"fire-iid-compat",[sb]:"fire-fcm",[lb]:"fire-fcm-compat",[ob]:"fire-perf",[ub]:"fire-perf-compat",[cb]:"fire-rc",[hb]:"fire-rc-compat",[fb]:"fire-gcs",[db]:"fire-gcs-compat",[mb]:"fire-fst",[pb]:"fire-fst-compat",[gb]:"fire-vertex","fire-js":"fire-js",[yb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc=new Map,Eb=new Map,dd=new Map;function Xy(a,e){try{a.container.addComponent(e)}catch(i){qi.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function hc(a){const e=a.name;if(dd.has(e))return qi.debug(`There were multiple attempts to register component ${e}.`),!1;dd.set(e,a);for(const i of cc.values())Xy(i,a);for(const i of Eb.values())Xy(i,a);return!0}function Tb(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function Ab(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vr=new Tv("app","Firebase",Sb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new so("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=_b;function Rv(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s=Object.assign({name:fd,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Vr.create("bad-app-name",{appName:String(o)});if(i||(i=Ev()),!i)throw Vr.create("no-options");const c=cc.get(o);if(c){if(uc(i,c.options)&&uc(s,c.config))return c;throw Vr.create("duplicate-app",{appName:o})}const d=new DS(o);for(const p of dd.values())d.addComponent(p);const m=new bb(i,s,d);return cc.set(o,m),m}function wb(a=fd){const e=cc.get(a);if(!e&&a===fd&&Ev())return Rv();if(!e)throw Vr.create("no-app",{appName:a});return e}function bs(a,e,i){var s;let o=(s=vb[a])!==null&&s!==void 0?s:a;i&&(o+=`-${i}`);const c=o.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const m=[`Unable to register library "${o}" with version "${e}":`];c&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&m.push("and"),d&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qi.warn(m.join(" "));return}hc(new so(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="firebase-heartbeat-database",Db=1,lo="firebase-heartbeat-store";let nd=null;function wv(){return nd||(nd=jS(Cb,Db,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(lo)}catch(i){console.warn(i)}}}}).catch(a=>{throw Vr.create("idb-open",{originalErrorMessage:a.message})})),nd}async function xb(a){try{const i=(await wv()).transaction(lo),s=await i.objectStore(lo).get(Cv(a));return await i.done,s}catch(e){if(e instanceof Ls)qi.warn(e.message);else{const i=Vr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qi.warn(i.message)}}}async function $y(a,e){try{const s=(await wv()).transaction(lo,"readwrite");await s.objectStore(lo).put(e,Cv(a)),await s.done}catch(i){if(i instanceof Ls)qi.warn(i.message);else{const s=Vr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});qi.warn(s.message)}}}function Cv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb=1024,Ib=30;class Nb{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Mb(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Zy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>Ib){const d=Ub(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){qi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Zy(),{heartbeatsToSend:s,unsentEntries:o}=Ob(this._heartbeatsCache.heartbeats),c=oc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return qi.warn(i),""}}}function Zy(){return new Date().toISOString().substring(0,10)}function Ob(a,e=Vb){const i=[];let s=a.slice();for(const o of a){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),Wy(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Wy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class Mb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ES()?TS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await xb(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return $y(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return $y(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Wy(a){return oc(JSON.stringify({version:2,heartbeats:a})).length}function Ub(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(a){hc(new so("platform-logger",e=>new QS(e),"PRIVATE")),hc(new so("heartbeat",e=>new Nb(e),"PRIVATE")),bs(hd,Yy,a),bs(hd,Yy,"esm2017"),bs("fire-js","")}Lb("");var Jy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ir,Dv;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,C){function R(){}R.prototype=C.prototype,O.D=C.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(x,N,k){for(var D=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)D[ve-2]=arguments[ve];return C.prototype[N].apply(x,D)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,C,R){R||(R=0);var x=Array(16);if(typeof C=="string")for(var N=0;16>N;++N)x[N]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(N=0;16>N;++N)x[N]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=O.g[0],R=O.g[1],N=O.g[2];var k=O.g[3],D=C+(k^R&(N^k))+x[0]+3614090360&4294967295;C=R+(D<<7&4294967295|D>>>25),D=k+(N^C&(R^N))+x[1]+3905402710&4294967295,k=C+(D<<12&4294967295|D>>>20),D=N+(R^k&(C^R))+x[2]+606105819&4294967295,N=k+(D<<17&4294967295|D>>>15),D=R+(C^N&(k^C))+x[3]+3250441966&4294967295,R=N+(D<<22&4294967295|D>>>10),D=C+(k^R&(N^k))+x[4]+4118548399&4294967295,C=R+(D<<7&4294967295|D>>>25),D=k+(N^C&(R^N))+x[5]+1200080426&4294967295,k=C+(D<<12&4294967295|D>>>20),D=N+(R^k&(C^R))+x[6]+2821735955&4294967295,N=k+(D<<17&4294967295|D>>>15),D=R+(C^N&(k^C))+x[7]+4249261313&4294967295,R=N+(D<<22&4294967295|D>>>10),D=C+(k^R&(N^k))+x[8]+1770035416&4294967295,C=R+(D<<7&4294967295|D>>>25),D=k+(N^C&(R^N))+x[9]+2336552879&4294967295,k=C+(D<<12&4294967295|D>>>20),D=N+(R^k&(C^R))+x[10]+4294925233&4294967295,N=k+(D<<17&4294967295|D>>>15),D=R+(C^N&(k^C))+x[11]+2304563134&4294967295,R=N+(D<<22&4294967295|D>>>10),D=C+(k^R&(N^k))+x[12]+1804603682&4294967295,C=R+(D<<7&4294967295|D>>>25),D=k+(N^C&(R^N))+x[13]+4254626195&4294967295,k=C+(D<<12&4294967295|D>>>20),D=N+(R^k&(C^R))+x[14]+2792965006&4294967295,N=k+(D<<17&4294967295|D>>>15),D=R+(C^N&(k^C))+x[15]+1236535329&4294967295,R=N+(D<<22&4294967295|D>>>10),D=C+(N^k&(R^N))+x[1]+4129170786&4294967295,C=R+(D<<5&4294967295|D>>>27),D=k+(R^N&(C^R))+x[6]+3225465664&4294967295,k=C+(D<<9&4294967295|D>>>23),D=N+(C^R&(k^C))+x[11]+643717713&4294967295,N=k+(D<<14&4294967295|D>>>18),D=R+(k^C&(N^k))+x[0]+3921069994&4294967295,R=N+(D<<20&4294967295|D>>>12),D=C+(N^k&(R^N))+x[5]+3593408605&4294967295,C=R+(D<<5&4294967295|D>>>27),D=k+(R^N&(C^R))+x[10]+38016083&4294967295,k=C+(D<<9&4294967295|D>>>23),D=N+(C^R&(k^C))+x[15]+3634488961&4294967295,N=k+(D<<14&4294967295|D>>>18),D=R+(k^C&(N^k))+x[4]+3889429448&4294967295,R=N+(D<<20&4294967295|D>>>12),D=C+(N^k&(R^N))+x[9]+568446438&4294967295,C=R+(D<<5&4294967295|D>>>27),D=k+(R^N&(C^R))+x[14]+3275163606&4294967295,k=C+(D<<9&4294967295|D>>>23),D=N+(C^R&(k^C))+x[3]+4107603335&4294967295,N=k+(D<<14&4294967295|D>>>18),D=R+(k^C&(N^k))+x[8]+1163531501&4294967295,R=N+(D<<20&4294967295|D>>>12),D=C+(N^k&(R^N))+x[13]+2850285829&4294967295,C=R+(D<<5&4294967295|D>>>27),D=k+(R^N&(C^R))+x[2]+4243563512&4294967295,k=C+(D<<9&4294967295|D>>>23),D=N+(C^R&(k^C))+x[7]+1735328473&4294967295,N=k+(D<<14&4294967295|D>>>18),D=R+(k^C&(N^k))+x[12]+2368359562&4294967295,R=N+(D<<20&4294967295|D>>>12),D=C+(R^N^k)+x[5]+4294588738&4294967295,C=R+(D<<4&4294967295|D>>>28),D=k+(C^R^N)+x[8]+2272392833&4294967295,k=C+(D<<11&4294967295|D>>>21),D=N+(k^C^R)+x[11]+1839030562&4294967295,N=k+(D<<16&4294967295|D>>>16),D=R+(N^k^C)+x[14]+4259657740&4294967295,R=N+(D<<23&4294967295|D>>>9),D=C+(R^N^k)+x[1]+2763975236&4294967295,C=R+(D<<4&4294967295|D>>>28),D=k+(C^R^N)+x[4]+1272893353&4294967295,k=C+(D<<11&4294967295|D>>>21),D=N+(k^C^R)+x[7]+4139469664&4294967295,N=k+(D<<16&4294967295|D>>>16),D=R+(N^k^C)+x[10]+3200236656&4294967295,R=N+(D<<23&4294967295|D>>>9),D=C+(R^N^k)+x[13]+681279174&4294967295,C=R+(D<<4&4294967295|D>>>28),D=k+(C^R^N)+x[0]+3936430074&4294967295,k=C+(D<<11&4294967295|D>>>21),D=N+(k^C^R)+x[3]+3572445317&4294967295,N=k+(D<<16&4294967295|D>>>16),D=R+(N^k^C)+x[6]+76029189&4294967295,R=N+(D<<23&4294967295|D>>>9),D=C+(R^N^k)+x[9]+3654602809&4294967295,C=R+(D<<4&4294967295|D>>>28),D=k+(C^R^N)+x[12]+3873151461&4294967295,k=C+(D<<11&4294967295|D>>>21),D=N+(k^C^R)+x[15]+530742520&4294967295,N=k+(D<<16&4294967295|D>>>16),D=R+(N^k^C)+x[2]+3299628645&4294967295,R=N+(D<<23&4294967295|D>>>9),D=C+(N^(R|~k))+x[0]+4096336452&4294967295,C=R+(D<<6&4294967295|D>>>26),D=k+(R^(C|~N))+x[7]+1126891415&4294967295,k=C+(D<<10&4294967295|D>>>22),D=N+(C^(k|~R))+x[14]+2878612391&4294967295,N=k+(D<<15&4294967295|D>>>17),D=R+(k^(N|~C))+x[5]+4237533241&4294967295,R=N+(D<<21&4294967295|D>>>11),D=C+(N^(R|~k))+x[12]+1700485571&4294967295,C=R+(D<<6&4294967295|D>>>26),D=k+(R^(C|~N))+x[3]+2399980690&4294967295,k=C+(D<<10&4294967295|D>>>22),D=N+(C^(k|~R))+x[10]+4293915773&4294967295,N=k+(D<<15&4294967295|D>>>17),D=R+(k^(N|~C))+x[1]+2240044497&4294967295,R=N+(D<<21&4294967295|D>>>11),D=C+(N^(R|~k))+x[8]+1873313359&4294967295,C=R+(D<<6&4294967295|D>>>26),D=k+(R^(C|~N))+x[15]+4264355552&4294967295,k=C+(D<<10&4294967295|D>>>22),D=N+(C^(k|~R))+x[6]+2734768916&4294967295,N=k+(D<<15&4294967295|D>>>17),D=R+(k^(N|~C))+x[13]+1309151649&4294967295,R=N+(D<<21&4294967295|D>>>11),D=C+(N^(R|~k))+x[4]+4149444226&4294967295,C=R+(D<<6&4294967295|D>>>26),D=k+(R^(C|~N))+x[11]+3174756917&4294967295,k=C+(D<<10&4294967295|D>>>22),D=N+(C^(k|~R))+x[2]+718787259&4294967295,N=k+(D<<15&4294967295|D>>>17),D=R+(k^(N|~C))+x[9]+3951481745&4294967295,O.g[0]=O.g[0]+C&4294967295,O.g[1]=O.g[1]+(N+(D<<21&4294967295|D>>>11))&4294967295,O.g[2]=O.g[2]+N&4294967295,O.g[3]=O.g[3]+k&4294967295}s.prototype.u=function(O,C){C===void 0&&(C=O.length);for(var R=C-this.blockSize,x=this.B,N=this.h,k=0;k<C;){if(N==0)for(;k<=R;)o(this,O,k),k+=this.blockSize;if(typeof O=="string"){for(;k<C;)if(x[N++]=O.charCodeAt(k++),N==this.blockSize){o(this,x),N=0;break}}else for(;k<C;)if(x[N++]=O[k++],N==this.blockSize){o(this,x),N=0;break}}this.h=N,this.o+=C},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var C=1;C<O.length-8;++C)O[C]=0;var R=8*this.o;for(C=O.length-8;C<O.length;++C)O[C]=R&255,R/=256;for(this.u(O),O=Array(16),C=R=0;4>C;++C)for(var x=0;32>x;x+=8)O[R++]=this.g[C]>>>x&255;return O};function c(O,C){var R=m;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=C(O)}function d(O,C){this.h=C;for(var R=[],x=!0,N=O.length-1;0<=N;N--){var k=O[N]|0;x&&k==C||(R[N]=k,x=!1)}this.g=R}var m={};function p(O){return-128<=O&&128>O?c(O,function(C){return new d([C|0],0>C?-1:0)}):new d([O|0],0>O?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return S;if(0>O)return B(y(-O));for(var C=[],R=1,x=0;O>=R;x++)C[x]=O/R|0,R*=4294967296;return new d(C,0)}function E(O,C){if(O.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(O.charAt(0)=="-")return B(E(O.substring(1),C));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(C,8)),x=S,N=0;N<O.length;N+=8){var k=Math.min(8,O.length-N),D=parseInt(O.substring(N,N+k),C);8>k?(k=y(Math.pow(C,k)),x=x.j(k).add(y(D))):(x=x.j(R),x=x.add(y(D)))}return x}var S=p(0),b=p(1),M=p(16777216);a=d.prototype,a.m=function(){if(K(this))return-B(this).m();for(var O=0,C=1,R=0;R<this.g.length;R++){var x=this.i(R);O+=(0<=x?x:4294967296+x)*C,C*=4294967296}return O},a.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(L(this))return"0";if(K(this))return"-"+B(this).toString(O);for(var C=y(Math.pow(O,6)),R=this,x="";;){var N=pt(R,C).g;R=q(R,N.j(C));var k=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=N,L(R))return k+x;for(;6>k.length;)k="0"+k;x=k+x}},a.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function L(O){if(O.h!=0)return!1;for(var C=0;C<O.g.length;C++)if(O.g[C]!=0)return!1;return!0}function K(O){return O.h==-1}a.l=function(O){return O=q(this,O),K(O)?-1:L(O)?0:1};function B(O){for(var C=O.g.length,R=[],x=0;x<C;x++)R[x]=~O.g[x];return new d(R,~O.h).add(b)}a.abs=function(){return K(this)?B(this):this},a.add=function(O){for(var C=Math.max(this.g.length,O.g.length),R=[],x=0,N=0;N<=C;N++){var k=x+(this.i(N)&65535)+(O.i(N)&65535),D=(k>>>16)+(this.i(N)>>>16)+(O.i(N)>>>16);x=D>>>16,k&=65535,D&=65535,R[N]=D<<16|k}return new d(R,R[R.length-1]&-2147483648?-1:0)};function q(O,C){return O.add(B(C))}a.j=function(O){if(L(this)||L(O))return S;if(K(this))return K(O)?B(this).j(B(O)):B(B(this).j(O));if(K(O))return B(this.j(B(O)));if(0>this.l(M)&&0>O.l(M))return y(this.m()*O.m());for(var C=this.g.length+O.g.length,R=[],x=0;x<2*C;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(var N=0;N<O.g.length;N++){var k=this.i(x)>>>16,D=this.i(x)&65535,ve=O.i(N)>>>16,he=O.i(N)&65535;R[2*x+2*N]+=D*he,J(R,2*x+2*N),R[2*x+2*N+1]+=k*he,J(R,2*x+2*N+1),R[2*x+2*N+1]+=D*ve,J(R,2*x+2*N+1),R[2*x+2*N+2]+=k*ve,J(R,2*x+2*N+2)}for(x=0;x<C;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=C;x<2*C;x++)R[x]=0;return new d(R,0)};function J(O,C){for(;(O[C]&65535)!=O[C];)O[C+1]+=O[C]>>>16,O[C]&=65535,C++}function et(O,C){this.g=O,this.h=C}function pt(O,C){if(L(C))throw Error("division by zero");if(L(O))return new et(S,S);if(K(O))return C=pt(B(O),C),new et(B(C.g),B(C.h));if(K(C))return C=pt(O,B(C)),new et(B(C.g),C.h);if(30<O.g.length){if(K(O)||K(C))throw Error("slowDivide_ only works with positive integers.");for(var R=b,x=C;0>=x.l(O);)R=ht(R),x=ht(x);var N=wt(R,1),k=wt(x,1);for(x=wt(x,2),R=wt(R,2);!L(x);){var D=k.add(x);0>=D.l(O)&&(N=N.add(R),k=D),x=wt(x,1),R=wt(R,1)}return C=q(O,N.j(C)),new et(N,C)}for(N=S;0<=O.l(C);){for(R=Math.max(1,Math.floor(O.m()/C.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),k=y(R),D=k.j(C);K(D)||0<D.l(O);)R-=x,k=y(R),D=k.j(C);L(k)&&(k=b),N=N.add(k),O=q(O,D)}return new et(N,O)}a.A=function(O){return pt(this,O).h},a.and=function(O){for(var C=Math.max(this.g.length,O.g.length),R=[],x=0;x<C;x++)R[x]=this.i(x)&O.i(x);return new d(R,this.h&O.h)},a.or=function(O){for(var C=Math.max(this.g.length,O.g.length),R=[],x=0;x<C;x++)R[x]=this.i(x)|O.i(x);return new d(R,this.h|O.h)},a.xor=function(O){for(var C=Math.max(this.g.length,O.g.length),R=[],x=0;x<C;x++)R[x]=this.i(x)^O.i(x);return new d(R,this.h^O.h)};function ht(O){for(var C=O.g.length+1,R=[],x=0;x<C;x++)R[x]=O.i(x)<<1|O.i(x-1)>>>31;return new d(R,O.h)}function wt(O,C){var R=C>>5;C%=32;for(var x=O.g.length-R,N=[],k=0;k<x;k++)N[k]=0<C?O.i(k+R)>>>C|O.i(k+R+1)<<32-C:O.i(k+R);return new d(N,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Dv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,Ir=d}).apply(typeof Jy<"u"?Jy:typeof self<"u"?self:typeof window<"u"?window:{});var Ku=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xv,Zl,Vv,tc,md,Iv,Nv,Ov;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,_){return u==Array.prototype||u==Object.prototype||(u[g]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ku=="object"&&Ku];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function o(u,g){if(g)t:{var _=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var P=u[A];if(!(P in _))break t;_=_[P]}u=u[u.length-1],A=_[u],g=g(A),g!=A&&g!=null&&e(_,u,{configurable:!0,writable:!0,value:g})}}function c(u,g){u instanceof String&&(u+="");var _=0,A=!1,P={next:function(){if(!A&&_<u.length){var F=_++;return{value:g(F,u[F]),done:!1}}return A=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}o("Array.prototype.values",function(u){return u||function(){return c(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},m=this||self;function p(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function y(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function E(u,g,_){return u.call.apply(u.bind,arguments)}function S(u,g,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,A),u.apply(g,P)}}return function(){return u.apply(g,arguments)}}function b(u,g,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,b.apply(null,arguments)}function M(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function L(u,g){function _(){}_.prototype=g.prototype,u.aa=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,P,F){for(var it=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)it[Ot-2]=arguments[Ot];return g.prototype[P].apply(A,it)}}function K(u){const g=u.length;if(0<g){const _=Array(g);for(let A=0;A<g;A++)_[A]=u[A];return _}return[]}function B(u,g){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const P=u.length||0,F=A.length||0;u.length=P+F;for(let it=0;it<F;it++)u[P+it]=A[it]}else u.push(A)}}class q{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function J(u){return/^[\s\xa0]*$/.test(u)}function et(){var u=m.navigator;return u&&(u=u.userAgent)?u:""}function pt(u){return pt[" "](u),u}pt[" "]=function(){};var ht=et().indexOf("Gecko")!=-1&&!(et().toLowerCase().indexOf("webkit")!=-1&&et().indexOf("Edge")==-1)&&!(et().indexOf("Trident")!=-1||et().indexOf("MSIE")!=-1)&&et().indexOf("Edge")==-1;function wt(u,g,_){for(const A in u)g.call(_,u[A],A,u)}function O(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function C(u){const g={};for(const _ in u)g[_]=u[_];return g}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(u,g){let _,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(_ in A)u[_]=A[_];for(let F=0;F<R.length;F++)_=R[F],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function N(u){var g=1;u=u.split(":");const _=[];for(;0<g&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function k(u){m.setTimeout(()=>{throw u},0)}function D(){var u=qt;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class ve{constructor(){this.h=this.g=null}add(g,_){const A=he.get();A.set(g,_),this.h?this.h.next=A:this.g=A,this.h=A}}var he=new q(()=>new rt,u=>u.reset());class rt{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let _t,mt=!1,qt=new ve,V=()=>{const u=m.Promise.resolve(void 0);_t=()=>{u.then(nt)}};var nt=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(_){k(_)}var g=he;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}mt=!1};function ft(){this.s=this.s,this.C=this.C}ft.prototype.s=!1,ft.prototype.ma=function(){this.s||(this.s=!0,this.N())},ft.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var st=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return u}();function Rt(u,g){if(at.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(ht){t:{try{pt(g.nodeName);var P=!0;break t}catch{}P=!1}P||(g=null)}}else _=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:St[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Rt.aa.h.call(this)}}L(Rt,at);var St={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),Pt=0;function ie(u,g,_,A,P){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!A,this.ha=P,this.key=++Pt,this.da=this.fa=!1}function Ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ye(u){this.src=u,this.g={},this.h=0}Ye.prototype.add=function(u,g,_,A,P){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var it=gn(u,g,A,P);return-1<it?(g=u[it],_||(g.fa=!1)):(g=new ie(g,this.src,F,!!A,P),g.fa=_,u.push(g)),g};function fi(u,g){var _=g.type;if(_ in u.g){var A=u.g[_],P=Array.prototype.indexOf.call(A,g,void 0),F;(F=0<=P)&&Array.prototype.splice.call(A,P,1),F&&(Ft(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function gn(u,g,_,A){for(var P=0;P<u.length;++P){var F=u[P];if(!F.da&&F.listener==g&&F.capture==!!_&&F.ha==A)return P}return-1}var Fi="closure_lm_"+(1e6*Math.random()|0),Gi={};function di(u,g,_,A,P){if(Array.isArray(g)){for(var F=0;F<g.length;F++)di(u,g[F],_,A,P);return null}return _=Ro(_),u&&u[fe]?u.K(g,_,y(A)?!!A.capture:!1,P):js(u,g,_,!1,A,P)}function js(u,g,_,A,P,F){if(!g)throw Error("Invalid event type");var it=y(P)?!!P.capture:!!P,Ot=qs(u);if(Ot||(u[Fi]=Ot=new Ye(u)),_=Ot.add(g,_,A,it,F),_.proxy)return _;if(A=xa(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)st||(P=it),P===void 0&&(P=!1),u.addEventListener(g.toString(),A,P);else if(u.attachEvent)u.attachEvent(Ia(g.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function xa(){function u(_){return g.call(u.src,u.listener,_)}const g=Gc;return u}function Va(u,g,_,A,P){if(Array.isArray(g))for(var F=0;F<g.length;F++)Va(u,g[F],_,A,P);else A=y(A)?!!A.capture:!!A,_=Ro(_),u&&u[fe]?(u=u.i,g=String(g).toString(),g in u.g&&(F=u.g[g],_=gn(F,_,A,P),-1<_&&(Ft(F[_]),Array.prototype.splice.call(F,_,1),F.length==0&&(delete u.g[g],u.h--)))):u&&(u=qs(u))&&(g=u.g[g.toString()],u=-1,g&&(u=gn(g,_,A,P)),(_=-1<u?g[u]:null)&&qr(_))}function qr(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[fe])fi(g.i,u);else{var _=u.type,A=u.proxy;g.removeEventListener?g.removeEventListener(_,A,u.capture):g.detachEvent?g.detachEvent(Ia(_),A):g.addListener&&g.removeListener&&g.removeListener(A),(_=qs(g))?(fi(_,u),_.h==0&&(_.src=null,g[Fi]=null)):Ft(u)}}}function Ia(u){return u in Gi?Gi[u]:Gi[u]="on"+u}function Gc(u,g){if(u.da)u=!0;else{g=new Rt(g,this);var _=u.listener,A=u.ha||u.src;u.fa&&qr(u),u=_.call(A,g)}return u}function qs(u){return u=u[Fi],u instanceof Ye?u:null}var en="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ro(u){return typeof u=="function"?u:(u[en]||(u[en]=function(g){return u.handleEvent(g)}),u[en])}function Ee(){ft.call(this),this.i=new Ye(this),this.M=this,this.F=null}L(Ee,ft),Ee.prototype[fe]=!0,Ee.prototype.removeEventListener=function(u,g,_,A){Va(this,u,g,_,A)};function Ce(u,g){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=g.type||g,typeof g=="string")g=new at(g,u);else if(g instanceof at)g.target=g.target||u;else{var P=g;g=new at(A,u),x(g,P)}if(P=!0,_)for(var F=_.length-1;0<=F;F--){var it=g.g=_[F];P=mi(it,A,!0,g)&&P}if(it=g.g=u,P=mi(it,A,!0,g)&&P,P=mi(it,A,!1,g)&&P,_)for(F=0;F<_.length;F++)it=g.g=_[F],P=mi(it,A,!1,g)&&P}Ee.prototype.N=function(){if(Ee.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var _=u.g[g],A=0;A<_.length;A++)Ft(_[A]);delete u.g[g],u.h--}}this.F=null},Ee.prototype.K=function(u,g,_,A){return this.i.add(String(u),g,!1,_,A)},Ee.prototype.L=function(u,g,_,A){return this.i.add(String(u),g,!0,_,A)};function mi(u,g,_,A){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var P=!0,F=0;F<g.length;++F){var it=g[F];if(it&&!it.da&&it.capture==_){var Ot=it.listener,Ae=it.ha||it.src;it.fa&&fi(u.i,it),P=Ot.call(Ae,A)!==!1&&P}}return P&&!A.defaultPrevented}function wo(u,g,_){if(typeof u=="function")_&&(u=b(u,_));else if(u&&typeof u.handleEvent=="function")u=b(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(u,g||0)}function Hs(u){u.g=wo(()=>{u.g=null,u.i&&(u.i=!1,Hs(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Kc extends ft{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Hs(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hr(u){ft.call(this),this.h=u,this.g={}}L(Hr,ft);var Ki=[];function qe(u){wt(u.g,function(g,_){this.g.hasOwnProperty(_)&&qr(g)},u),u.g={}}Hr.prototype.N=function(){Hr.aa.N.call(this),qe(this)},Hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qs=m.JSON.stringify,qn=m.JSON.parse,Xe=class{stringify(u){return m.JSON.stringify(u,void 0)}parse(u){return m.JSON.parse(u,void 0)}};function Fs(){}Fs.prototype.h=null;function Co(u){return u.h||(u.h=u.i())}function Do(){}var Hn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yi(){at.call(this,"d")}L(Yi,at);function Mn(){at.call(this,"c")}L(Mn,at);var pn={},Xi=null;function Na(){return Xi=Xi||new Ee}pn.La="serverreachability";function Gs(u){at.call(this,pn.La,u)}L(Gs,at);function $i(u){const g=Na();Ce(g,new Gs(g))}pn.STAT_EVENT="statevent";function Oa(u,g){at.call(this,pn.STAT_EVENT,u),this.stat=g}L(Oa,at);function oe(u){const g=Na();Ce(g,new Oa(g,u))}pn.Ma="timingevent";function xo(u,g){at.call(this,pn.Ma,u),this.size=g}L(xo,at);function Zi(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){u()},g)}function Wi(){this.g=!0}Wi.prototype.xa=function(){this.g=!1};function Vo(u,g,_,A,P,F){u.info(function(){if(u.g)if(F)for(var it="",Ot=F.split("&"),Ae=0;Ae<Ot.length;Ae++){var Mt=Ot[Ae].split("=");if(1<Mt.length){var Ve=Mt[0];Mt=Mt[1];var Se=Ve.split("_");it=2<=Se.length&&Se[1]=="type"?it+(Ve+"="+Mt+"&"):it+(Ve+"=redacted&")}}else it=null;else it=F;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+g+`
`+_+`
`+it})}function Io(u,g,_,A,P,F,it){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+g+`
`+_+`
`+F+" "+it})}function Ji(u,g,_,A){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+De(u,_)+(A?" "+A:"")})}function Qn(u,g){u.info(function(){return"TIMEOUT: "+g})}Wi.prototype.info=function(){};function De(u,g){if(!u.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var P=A[1];if(Array.isArray(P)&&!(1>P.length)){var F=P[0];if(F!="noop"&&F!="stop"&&F!="close")for(var it=1;it<P.length;it++)P[it]=""}}}}return Qs(_)}catch{return g}}var Te={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qr;function Ma(){}L(Ma,Fs),Ma.prototype.g=function(){return new XMLHttpRequest},Ma.prototype.i=function(){return{}},Qr=new Ma;function Fn(u,g,_,A){this.j=u,this.i=g,this.l=_,this.R=A||1,this.U=new Hr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ks}function Ks(){this.i=null,this.g="",this.h=!1}var tr={},Fr={};function Un(u,g,_){u.L=1,u.v=Yr(re(g)),u.m=_,u.P=!0,pi(u,null)}function pi(u,g){u.F=Date.now(),Wt(u),u.A=re(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),vi(_.i,"t",A),u.C=0,_=u.j.J,u.h=new Ks,u.g=Fo(u.j,_?g:null,!u.m),0<u.O&&(u.M=new Kc(b(u.Y,u,u.g),u.O)),g=u.U,_=u.g,A=u.ca;var P="readystatechange";Array.isArray(P)||(P&&(Ki[0]=P.toString()),P=Ki);for(var F=0;F<P.length;F++){var it=di(_,P[F],A||g.handleEvent,!1,g.h||g);if(!it)break;g.g[it.key]=it}g=u.H?C(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),$i(),Vo(u.i,u.u,u.A,u.l,u.R,u.m)}Fn.prototype.ca=function(u){u=u.target;const g=this.M;g&&Tn(u)==3?g.j():this.Y(u)},Fn.prototype.Y=function(u){try{if(u==this.g)t:{const Se=Tn(this.g);var g=this.g.Ba();const Si=this.g.Z();if(!(3>Se)&&(Se!=3||this.g&&(this.h.h||this.g.oa()||zo(this.g)))){this.J||Se!=4||g==7||(g==8||0>=Si?$i(3):$i(2)),Ua(this);var _=this.g.Z();this.X=_;e:if(er(this)){var A=zo(this.g);u="";var P=A.length,F=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nn(this),ln(this);var it="";break e}this.h.i=new m.TextDecoder}for(g=0;g<P;g++)this.h.h=!0,u+=this.h.i.decode(A[g],{stream:!(F&&g==P-1)});A.length=0,this.h.g+=u,this.C=0,it=this.h.g}else it=this.g.oa();if(this.o=_==200,Io(this.i,this.u,this.A,this.l,this.R,Se,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,Ae=this.g;if((Ot=Ae.g?Ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(Ot)){var Mt=Ot;break e}}Mt=null}if(_=Mt)Ji(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,on(this,_);else{this.o=!1,this.s=3,oe(12),nn(this),ln(this);break t}}if(this.P){_=!0;let Ue;for(;!this.J&&this.C<it.length;)if(Ue=nr(this,it),Ue==Fr){Se==4&&(this.s=4,oe(14),_=!1),Ji(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==tr){this.s=4,oe(15),Ji(this.i,this.l,it,"[Invalid Chunk]"),_=!1;break}else Ji(this.i,this.l,Ue,null),on(this,Ue);if(er(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||it.length!=0||this.h.h||(this.s=1,oe(16),_=!1),this.o=this.o&&_,!_)Ji(this.i,this.l,it,"[Invalid Chunked Response]"),nn(this),ln(this);else if(0<it.length&&!this.W){this.W=!0;var Ve=this.j;Ve.g==this&&Ve.ba&&!Ve.M&&(Ve.j.info("Great, no buffering proxy detected. Bytes received: "+it.length),ea(Ve),Ve.M=!0,oe(11))}}else Ji(this.i,this.l,it,null),on(this,it);Se==4&&nn(this),this.o&&!this.J&&(Se==4?qo(this.j,this):(this.o=!1,Wt(this)))}else Jc(this.g),_==400&&0<it.indexOf("Unknown SID")?(this.s=3,oe(12)):(this.s=0,oe(13)),nn(this),ln(this)}}}catch{}finally{}};function er(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function nr(u,g){var _=u.C,A=g.indexOf(`
`,_);return A==-1?Fr:(_=Number(g.substring(_,A)),isNaN(_)?tr:(A+=1,A+_>g.length?Fr:(g=g.slice(A,A+_),u.C=A+_,g)))}Fn.prototype.cancel=function(){this.J=!0,nn(this)};function Wt(u){u.S=Date.now()+u.I,Ys(u,u.I)}function Ys(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Zi(b(u.ba,u),g)}function Ua(u){u.B&&(m.clearTimeout(u.B),u.B=null)}Fn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Qn(this.i,this.A),this.L!=2&&($i(),oe(17)),nn(this),this.s=2,ln(this)):Ys(this,this.S-u)};function ln(u){u.j.G==0||u.J||qo(u.j,u)}function nn(u){Ua(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,qe(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function on(u,g){try{var _=u.j;if(_.G!=0&&(_.g==u||ir(_.h,u))){if(!u.K&&ir(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Fa(_),Ha(_);else break t;al(_),oe(18)}}else _.za=P[1],0<_.za-_.T&&37500>P[2]&&_.F&&_.v==0&&!_.C&&(_.C=Zi(b(_.Za,_),6e3));if(1>=No(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ai(_,11)}else if((u.K||_.g==u)&&Fa(_),!J(g))for(P=_.Da.g.parse(g),g=0;g<P.length;g++){let Mt=P[g];if(_.T=Mt[0],Mt=Mt[1],_.G==2)if(Mt[0]=="c"){_.K=Mt[1],_.ia=Mt[2];const Ve=Mt[3];Ve!=null&&(_.la=Ve,_.j.info("VER="+_.la));const Se=Mt[4];Se!=null&&(_.Aa=Se,_.j.info("SVER="+_.Aa));const Si=Mt[5];Si!=null&&typeof Si=="number"&&0<Si&&(A=1.5*Si,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Ue=u.g;if(Ue){const Wn=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wn){var F=A.h;F.g||Wn.indexOf("spdy")==-1&&Wn.indexOf("quic")==-1&&Wn.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(rr(F,F.h),F.h=null))}if(A.D){const ll=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;ll&&(A.ya=ll,kt(A.I,A.D,ll))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var it=u;if(A.qa=Qo(A,A.J?A.ia:null,A.W),it.K){yn(A.h,it);var Ot=it,Ae=A.L;Ae&&(Ot.I=Ae),Ot.B&&(Ua(Ot),Wt(Ot)),A.g=it}else Bo(A);0<_.i.length&&Qa(_)}else Mt[0]!="stop"&&Mt[0]!="close"||Ai(_,7);else _.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?Ai(_,7):il(_):Mt[0]!="noop"&&_.l&&_.l.ta(Mt),_.v=0)}}$i(4)}catch{}}var Yc=class{constructor(u,g){this.g=u,this.map=g}};function Xs(u){this.l=u||10,m.PerformanceNavigationTiming?(u=m.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $s(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function No(u){return u.h?1:u.g?u.g.size:0}function ir(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function rr(u,g){u.g?u.g.add(g):u.h=g}function yn(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Xs.prototype.cancel=function(){if(this.i=$e(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function $e(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.D);return g}return K(u.i)}function Oo(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var g=[],_=u.length,A=0;A<_;A++)g.push(u[A]);return g}g=[],_=0;for(A in u)g[_++]=u[A];return g}function Xc(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var g=[];u=u.length;for(var _=0;_<u;_++)g.push(_);return g}g=[],_=0;for(const A in u)g[_++]=A;return g}}}function Gr(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var _=Xc(u),A=Oo(u),P=A.length,F=0;F<P;F++)g.call(void 0,A[F],_&&_[F],u)}var Zs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function La(u,g){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),P=null;if(0<=A){var F=u[_].substring(0,A);P=u[_].substring(A+1)}else F=u[_];g(F,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function yi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof yi){this.h=u.h,ar(this,u.j),this.o=u.o,this.g=u.g,Kr(this,u.s),this.l=u.l;var g=u.i,_=new Gn;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),za(this,_),this.m=u.m}else u&&(g=String(u).match(Zs))?(this.h=!1,ar(this,g[1]||"",!0),this.o=sr(g[2]||""),this.g=sr(g[3]||"",!0),Kr(this,g[4]),this.l=sr(g[5]||"",!0),za(this,g[6]||"",!0),this.m=sr(g[7]||"")):(this.h=!1,this.i=new Gn(null,this.h))}yi.prototype.toString=function(){var u=[],g=this.j;g&&u.push(_n(g,Ws,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(_n(g,Ws,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(_n(_,_.charAt(0)=="/"?Js:Mo,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",_n(_,Wc)),u.join("")};function re(u){return new yi(u)}function ar(u,g,_){u.j=_?sr(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Kr(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function za(u,g,_){g instanceof Gn?(u.i=g,tl(u.i,u.h)):(_||(g=_n(g,Zc)),u.i=new Gn(g,u.h))}function kt(u,g,_){u.i.set(g,_)}function Yr(u){return kt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function sr(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function _n(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,$c),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function $c(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ws=/[#\/\?@]/g,Mo=/[#\?:]/g,Js=/[#\?]/g,Zc=/[#\?@]/g,Wc=/#/g;function Gn(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function vn(u){u.g||(u.g=new Map,u.h=0,u.i&&La(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}a=Gn.prototype,a.add=function(u,g){vn(this),this.i=null,u=Ei(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function Pa(u,g){vn(u),g=Ei(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function _i(u,g){return vn(u),g=Ei(u,g),u.g.has(g)}a.forEach=function(u,g){vn(this),this.g.forEach(function(_,A){_.forEach(function(P){u.call(g,P,A,this)},this)},this)},a.na=function(){vn(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let A=0;A<g.length;A++){const P=u[A];for(let F=0;F<P.length;F++)_.push(g[A])}return _},a.V=function(u){vn(this);let g=[];if(typeof u=="string")_i(this,u)&&(g=g.concat(this.g.get(Ei(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)g=g.concat(u[_])}return g},a.set=function(u,g){return vn(this),this.i=null,u=Ei(this,u),_i(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},a.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function vi(u,g,_){Pa(u,g),0<_.length&&(u.i=null,u.g.set(Ei(u,g),K(_)),u.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var A=g[_];const F=encodeURIComponent(String(A)),it=this.V(A);for(A=0;A<it.length;A++){var P=F;it[A]!==""&&(P+="="+encodeURIComponent(String(it[A]))),u.push(P)}}return this.i=u.join("&")};function Ei(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function tl(u,g){g&&!u.j&&(vn(u),u.i=null,u.g.forEach(function(_,A){var P=A.toLowerCase();A!=P&&(Pa(this,A),vi(this,P,_))},u)),u.j=g}function Uo(u,g){const _=new Wi;if(m.Image){const A=new Image;A.onload=M(En,_,"TestLoadImage: loaded",!0,g,A),A.onerror=M(En,_,"TestLoadImage: error",!1,g,A),A.onabort=M(En,_,"TestLoadImage: abort",!1,g,A),A.ontimeout=M(En,_,"TestLoadImage: timeout",!1,g,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else g(!1)}function Xr(u,g){const _=new Wi,A=new AbortController,P=setTimeout(()=>{A.abort(),En(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:A.signal}).then(F=>{clearTimeout(P),F.ok?En(_,"TestPingServer: ok",!0,g):En(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(P),En(_,"TestPingServer: error",!1,g)})}function En(u,g,_,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(_)}catch{}}function $r(){this.g=new Xe}function Kn(u,g,_){const A=_||"";try{Gr(u,function(P,F){let it=P;y(P)&&(it=Qs(P)),g.push(A+F+"="+encodeURIComponent(it))})}catch(P){throw g.push(A+"type="+encodeURIComponent("_badmap")),P}}function lr(u){this.l=u.Ub||null,this.j=u.eb||!1}L(lr,Fs),lr.prototype.g=function(){return new Ti(this.l,this.j)},lr.prototype.i=function(u){return function(){return u}}({});function Ti(u,g){Ee.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Ti,Ee),a=Ti.prototype,a.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,Xn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yn(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;el(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function el(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Yn(this):Xn(this),this.readyState==3&&el(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,Yn(this))},a.Qa=function(u){this.g&&(this.response=u,Yn(this))},a.ga=function(){this.g&&Yn(this)};function Yn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Xn(u)}a.setRequestHeader=function(u,g){this.u.append(u,g)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function Xn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function nl(u){let g="";return wt(u,function(_,A){g+=A,g+=":",g+=_,g+=`\r
`}),g}function xe(u,g,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=nl(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):kt(u,g,_))}function Ht(u){Ee.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(Ht,Ee);var ka=/^https?$/i,Zr=["POST","PUT"];a=Ht.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,g,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qr.g(),this.v=this.o?Co(this.o):Co(Qr),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(F){Lo(this,F);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)_.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())_.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),P=m.FormData&&u instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Zr,g,void 0))||A||P||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,it]of _)this.g.setRequestHeader(F,it);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wr(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){Lo(this,F)}};function Lo(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,Ba(u),$n(u)}function Ba(u){u.A||(u.A=!0,Ce(u,"complete"),Ce(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ce(this,"complete"),Ce(this,"abort"),$n(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$n(this,!0)),Ht.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?ja(this):this.bb())},a.bb=function(){ja(this)};function ja(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Tn(u)!=4||u.Z()!=2)){if(u.u&&Tn(u)==4)wo(u.Ea,0,u);else if(Ce(u,"readystatechange"),Tn(u)==4){u.h=!1;try{const it=u.Z();t:switch(it){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var _;if(!(_=g)){var A;if(A=it===0){var P=String(u.D).match(Zs)[1]||null;!P&&m.self&&m.self.location&&(P=m.self.location.protocol.slice(0,-1)),A=!ka.test(P?P.toLowerCase():"")}_=A}if(_)Ce(u,"complete"),Ce(u,"success");else{u.m=6;try{var F=2<Tn(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",Ba(u)}}finally{$n(u)}}}}function $n(u,g){if(u.g){Wr(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||Ce(u,"ready");try{_.onreadystatechange=A}catch{}}}function Wr(u){u.I&&(m.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function Tn(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),qn(g)}};function zo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Jc(u){const g={};u=(u.g&&2<=Tn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(J(u[A]))continue;var _=N(u[A]);const P=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const F=g[P]||[];g[P]=F,F.push(_)}O(g,function(A){return A.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jr(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function qa(u){this.Aa=0,this.i=[],this.j=new Wi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jr("baseRetryDelayMs",5e3,u),this.cb=Jr("retryDelaySeedMs",1e4,u),this.Wa=Jr("forwardChannelMaxRetries",2,u),this.wa=Jr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Xs(u&&u.concurrentRequestLimit),this.Da=new $r,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=qa.prototype,a.la=8,a.G=1,a.connect=function(u,g,_,A){oe(0),this.W=u,this.H=g||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Qo(this,null,this.W),Qa(this)};function il(u){if(Po(u),u.G==3){var g=u.U++,_=re(u.I);if(kt(_,"SID",u.K),kt(_,"RID",g),kt(_,"TYPE","terminate"),ta(u,_),g=new Fn(u,u.j,g),g.L=2,g.v=Yr(re(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=Fo(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Wt(g)}Ho(u)}function Ha(u){u.g&&(ea(u),u.g.cancel(),u.g=null)}function Po(u){Ha(u),u.u&&(m.clearTimeout(u.u),u.u=null),Fa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&m.clearTimeout(u.s),u.s=null)}function Qa(u){if(!$s(u.h)&&!u.s){u.s=!0;var g=u.Ga;_t||V(),mt||(_t(),mt=!0),qt.add(g,u),u.B=0}}function th(u,g){return No(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Zi(b(u.Ga,u,g),sl(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const P=new Fn(this,this.j,u);let F=this.o;if(this.S&&(F?(F=C(F),x(F,this.S)):F=this.S),this.m!==null||this.O||(P.H=F,F=null),this.P)t:{for(var g=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=_;break t}if(g===4096||_===this.i.length-1){g=_+1;break t}}g=1e3}else g=1e3;g=ko(this,P,g),_=re(this.I),kt(_,"RID",u),kt(_,"CVER",22),this.D&&kt(_,"X-HTTP-Session-Id",this.D),ta(this,_),F&&(this.O?g="headers="+encodeURIComponent(String(nl(F)))+"&"+g:this.m&&xe(_,this.m,F)),rr(this.h,P),this.Ua&&kt(_,"TYPE","init"),this.P?(kt(_,"$req",g),kt(_,"SID","null"),P.T=!0,Un(P,_,null)):Un(P,_,g),this.G=2}}else this.G==3&&(u?rl(this,u):this.i.length==0||$s(this.h)||rl(this))};function rl(u,g){var _;g?_=g.l:_=u.U++;const A=re(u.I);kt(A,"SID",u.K),kt(A,"RID",_),kt(A,"AID",u.T),ta(u,A),u.m&&u.o&&xe(A,u.m,u.o),_=new Fn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),g&&(u.i=g.D.concat(u.i)),g=ko(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),rr(u.h,_),Un(_,A,g)}function ta(u,g){u.H&&wt(u.H,function(_,A){kt(g,A,_)}),u.l&&Gr({},function(_,A){kt(g,A,_)})}function ko(u,g,_){_=Math.min(u.i.length,_);var A=u.l?b(u.l.Na,u.l,u):null;t:{var P=u.i;let F=-1;for(;;){const it=["count="+_];F==-1?0<_?(F=P[0].g,it.push("ofs="+F)):F=0:it.push("ofs="+F);let Ot=!0;for(let Ae=0;Ae<_;Ae++){let Mt=P[Ae].g;const Ve=P[Ae].map;if(Mt-=F,0>Mt)F=Math.max(0,P[Ae].g-100),Ot=!1;else try{Kn(Ve,it,"req"+Mt+"_")}catch{A&&A(Ve)}}if(Ot){A=it.join("&");break t}}}return u=u.i.splice(0,_),g.D=u,A}function Bo(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;_t||V(),mt||(_t(),mt=!0),qt.add(g,u),u.v=0}}function al(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Zi(b(u.Fa,u),sl(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,jo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Zi(b(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,oe(10),Ha(this),jo(this))};function ea(u){u.A!=null&&(m.clearTimeout(u.A),u.A=null)}function jo(u){u.g=new Fn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=re(u.qa);kt(g,"RID","rpc"),kt(g,"SID",u.K),kt(g,"AID",u.T),kt(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&kt(g,"TO",u.ja),kt(g,"TYPE","xmlhttp"),ta(u,g),u.m&&u.o&&xe(g,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Yr(re(g)),_.m=null,_.P=!0,pi(_,u)}a.Za=function(){this.C!=null&&(this.C=null,Ha(this),al(this),oe(19))};function Fa(u){u.C!=null&&(m.clearTimeout(u.C),u.C=null)}function qo(u,g){var _=null;if(u.g==g){Fa(u),ea(u),u.g=null;var A=2}else if(ir(u.h,g))_=g.D,yn(u.h,g),A=1;else return;if(u.G!=0){if(g.o)if(A==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var P=u.B;A=Na(),Ce(A,new xo(A,_)),Qa(u)}else Bo(u);else if(P=g.s,P==3||P==0&&0<g.X||!(A==1&&th(u,g)||A==2&&al(u)))switch(_&&0<_.length&&(g=u.h,g.i=g.i.concat(_)),P){case 1:Ai(u,5);break;case 4:Ai(u,10);break;case 3:Ai(u,6);break;default:Ai(u,2)}}}function sl(u,g){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*g}function Ai(u,g){if(u.j.info("Error code "+g),g==2){var _=b(u.fb,u),A=u.Xa;const P=!A;A=new yi(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ar(A,"https"),Yr(A),P?Uo(A.toString(),_):Xr(A.toString(),_)}else oe(2);u.G=0,u.l&&u.l.sa(g),Ho(u),Po(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),oe(2)):(this.j.info("Failed to ping google.com"),oe(1))};function Ho(u){if(u.G=0,u.ka=[],u.l){const g=$e(u.h);(g.length!=0||u.i.length!=0)&&(B(u.ka,g),B(u.ka,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.ra()}}function Qo(u,g,_){var A=_ instanceof yi?re(_):new yi(_);if(A.g!="")g&&(A.g=g+"."+A.g),Kr(A,A.s);else{var P=m.location;A=P.protocol,g=g?g+"."+P.hostname:P.hostname,P=+P.port;var F=new yi(null);A&&ar(F,A),g&&(F.g=g),P&&Kr(F,P),_&&(F.l=_),A=F}return _=u.D,g=u.ya,_&&g&&kt(A,_,g),kt(A,"VER",u.la),ta(u,A),A}function Fo(u,g,_){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Ht(new lr({eb:_})):new Ht(u.pa),g.Ha(u.J),g}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Go(){}a=Go.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Ga(){}Ga.prototype.g=function(u,g){return new Ze(u,g)};function Ze(u,g){Ee.call(this),this.g=new qa(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!J(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!J(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new Zn(this)}L(Ze,Ee),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){il(this.g)},Ze.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Qs(u),u=_);g.i.push(new Yc(g.Ya++,u)),g.G==3&&Qa(g)},Ze.prototype.N=function(){this.g.l=null,delete this.j,il(this.g),delete this.g,Ze.aa.N.call(this)};function Ko(u){Yi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){t:{for(const _ in g){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}L(Ko,Yi);function Yo(){Mn.call(this),this.status=1}L(Yo,Mn);function Zn(u){this.g=u}L(Zn,Go),Zn.prototype.ua=function(){Ce(this.g,"a")},Zn.prototype.ta=function(u){Ce(this.g,new Ko(u))},Zn.prototype.sa=function(u){Ce(this.g,new Yo)},Zn.prototype.ra=function(){Ce(this.g,"b")},Ga.prototype.createWebChannel=Ga.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,Ov=function(){return new Ga},Nv=function(){return Na()},Iv=pn,md={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Te.NO_ERROR=0,Te.TIMEOUT=8,Te.HTTP_ERROR=6,tc=Te,gi.COMPLETE="complete",Vv=gi,Do.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",Ee.prototype.listen=Ee.prototype.K,Zl=Do,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,xv=Ht}).apply(typeof Ku<"u"?Ku:typeof self<"u"?self:typeof window<"u"?window:{});const t_="@firebase/firestore",e_="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zs="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=new Av("@firebase/firestore");function vs(){return Sa.logLevel}function lt(a,...e){if(Sa.logLevel<=zt.DEBUG){const i=e.map(kd);Sa.debug(`Firestore (${zs}): ${a}`,...i)}}function Hi(a,...e){if(Sa.logLevel<=zt.ERROR){const i=e.map(kd);Sa.error(`Firestore (${zs}): ${a}`,...i)}}function ws(a,...e){if(Sa.logLevel<=zt.WARN){const i=e.map(kd);Sa.warn(`Firestore (${zs}): ${a}`,...i)}}function kd(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(a="Unexpected state"){const e=`FIRESTORE (${zs}) INTERNAL ASSERTION FAILED: `+a;throw Hi(e),new Error(e)}function Qt(a,e){a||vt()}function At(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends Ls{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ge.UNAUTHENTICATED))}shutdown(){}}class Pb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class kb{constructor(e){this.t=e,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Qt(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let c=new Bi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Bi,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const p=c;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Bi)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qt(typeof s.accessToken=="string"),new Mv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qt(e===null||typeof e=="string"),new Ge(e)}}class Bb{constructor(e,i,s){this.l=e,this.h=i,this.P=s,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class jb{constructor(e,i,s){this.l=e,this.h=i,this.P=s}getToken(){return Promise.resolve(new Bb(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class n_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qb{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ab(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){Qt(this.o===void 0);const s=c=>{c.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const o=c=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new n_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Qt(typeof i.token=="string"),this.R=i.token,new n_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Hb(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=e.charAt(o[c]%62))}return s}}function Nt(a,e){return a<e?-1:a>e?1:0}function Cs(a,e,i){return a.length===e.length&&a.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_=-62135596800,r_=1e6;class _e{static now(){return _e.fromMillis(Date.now())}static fromDate(e){return _e.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*r_);return new _e(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ot(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<i_)throw new ot(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ot(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/r_}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-i_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(e){return new Et(e)}static min(){return new Et(new _e(0,0))}static max(){return new Et(new _e(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="__name__";class ri{constructor(e,i,s){i===void 0?i=0:i>e.length&&vt(),s===void 0?s=e.length-i:s>e.length-i&&vt(),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ri.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ri?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const c=ri.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Math.sign(e.length-i.length)}static compareSegments(e,i){const s=ri.isNumericId(e),o=ri.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?ri.extractNumericId(e).compare(ri.extractNumericId(i)):e<i?-1:e>i?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ir.fromString(e.substring(4,e.length-2))}}class Zt extends ri{construct(e,i,s){return new Zt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ot(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new Zt(i)}static emptyPath(){return new Zt([])}}const Qb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends ri{construct(e,i,s){return new Be(e,i,s)}static isValidIdentifier(e){return Qb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===a_}static keyField(){return new Be([a_])}static fromServerFormat(e){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new ot(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ot(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ot(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(d=!d,o++):m!=="."||d?(s+=m,o++):(c(),o++)}if(c(),d)throw new ot(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.path=e}static fromPath(e){return new gt(Zt.fromString(e))}static fromName(e){return new gt(Zt.fromString(e).popFirst(5))}static empty(){return new gt(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Zt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Zt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new Zt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=-1;function Fb(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(s===1e9?new _e(i+1,0):new _e(i,s));return new Or(o,gt.empty(),e)}function Gb(a){return new Or(a.readTime,a.key,oo)}class Or{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Or(Et.min(),gt.empty(),oo)}static max(){return new Or(Et.max(),gt.empty(),oo)}}function Kb(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=gt.comparator(a.documentKey,e.documentKey),i!==0?i:Nt(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Xb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ps(a){if(a.code!==W.FAILED_PRECONDITION||a.message!==Yb)throw a;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&vt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Z.reject(i)}static resolve(e){return new Z((i,s)=>{i(e)})}static reject(e){return new Z((i,s)=>{s(e)})}static waitFor(e){return new Z((i,s)=>{let o=0,c=0,d=!1;e.forEach(m=>{++o,m.next(()=>{++c,d&&c===o&&i()},p=>s(p))}),d=!0,c===o&&i()})}static or(e){let i=Z.resolve(!1);for(const s of e)i=i.next(o=>o?Z.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,c)=>{s.push(i.call(this,o,c))}),this.waitFor(s)}static mapArray(e,i){return new Z((s,o)=>{const c=e.length,d=new Array(c);let m=0;for(let p=0;p<c;p++){const y=p;i(e[y]).next(E=>{d[y]=E,++m,m===c&&s(d)},E=>o(E))}})}static doWhile(e,i){return new Z((s,o)=>{const c=()=>{e()===!0?i().next(()=>{c()},o):s()};c()})}}function $b(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ks(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Dc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd=-1;function xc(a){return a==null}function fc(a){return a===0&&1/a==-1/0}function Zb(a){return typeof a=="number"&&Number.isInteger(a)&&!fc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="";function Wb(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=s_(e)),e=Jb(a.get(i),e);return s_(e)}function Jb(a,e){let i=e;const s=a.length;for(let o=0;o<s;o++){const c=a.charAt(o);switch(c){case"\0":i+="";break;case Lv:i+="";break;default:i+=c}}return i}function s_(a){return a+Lv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Br(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function zv(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e,i){this.comparator=e,this.root=i||ke.EMPTY}insert(e,i){return new ne(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ke.BLACK,null,null))}remove(e){return new ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ke.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yu(this.root,e,this.comparator,!0)}}class Yu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ke{constructor(e,i,s,o,c){this.key=e,this.value=i,this.color=s??ke.RED,this.left=o??ke.EMPTY,this.right=c??ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,c){return new ke(e??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ke.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ke.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw vt();const e=this.left.check();if(e!==this.right.check())throw vt();return e+(this.isRed()?0:1)}}ke.EMPTY=null,ke.RED=!0,ke.BLACK=!1;ke.EMPTY=new class{constructor(){this.size=0}get key(){throw vt()}get value(){throw vt()}get color(){throw vt()}get left(){throw vt()}get right(){throw vt()}copy(e,i,s,o,c){return this}insert(e,i,s){return new ke(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.comparator=e,this.data=new ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new o_(this.data.getIterator())}getIteratorFrom(e){return new o_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof we)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new we(this.comparator);return i.data=e,i}}class o_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new mn([])}unionWith(e){let i=new we(Be.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new mn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Cs(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Pv("Invalid base64 string: "+c):c}}(e);return new je(i)}static fromUint8Array(e){const i=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(e);return new je(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}je.EMPTY_BYTE_STRING=new je("");const t1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mr(a){if(Qt(!!a),typeof a=="string"){let e=0;const i=t1.exec(a);if(Qt(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ce(a.seconds),nanos:ce(a.nanos)}}function ce(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Ur(a){return typeof a=="string"?je.fromBase64String(a):je.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="server_timestamp",Bv="__type__",jv="__previous_value__",qv="__local_write_time__";function jd(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[Bv])===null||i===void 0?void 0:i.stringValue)===kv}function Vc(a){const e=a.mapValue.fields[jv];return jd(e)?Vc(e):e}function uo(a){const e=Mr(a.mapValue.fields[qv].timestampValue);return new _e(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,i,s,o,c,d,m,p,y){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const dc="(default)";class co{constructor(e,i){this.projectId=e,this.database=i||dc}static empty(){return new co("","")}get isDefaultDatabase(){return this.database===dc}isEqual(e){return e instanceof co&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="__type__",n1="__max__",Xu={mapValue:{}},Qv="__vector__",mc="value";function Lr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?jd(a)?4:r1(a)?9007199254740991:i1(a)?10:11:vt()}function ui(a,e){if(a===e)return!0;const i=Lr(a);if(i!==Lr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return uo(a).isEqual(uo(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Mr(o.timestampValue),m=Mr(c.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(o,c){return Ur(o.bytesValue).isEqual(Ur(c.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(o,c){return ce(o.geoPointValue.latitude)===ce(c.geoPointValue.latitude)&&ce(o.geoPointValue.longitude)===ce(c.geoPointValue.longitude)}(a,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return ce(o.integerValue)===ce(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=ce(o.doubleValue),m=ce(c.doubleValue);return d===m?fc(d)===fc(m):isNaN(d)&&isNaN(m)}return!1}(a,e);case 9:return Cs(a.arrayValue.values||[],e.arrayValue.values||[],ui);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},m=c.mapValue.fields||{};if(l_(d)!==l_(m))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(m[p]===void 0||!ui(d[p],m[p])))return!1;return!0}(a,e);default:return vt()}}function ho(a,e){return(a.values||[]).find(i=>ui(i,e))!==void 0}function Ds(a,e){if(a===e)return 0;const i=Lr(a),s=Lr(e);if(i!==s)return Nt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(a.booleanValue,e.booleanValue);case 2:return function(c,d){const m=ce(c.integerValue||c.doubleValue),p=ce(d.integerValue||d.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(a,e);case 3:return u_(a.timestampValue,e.timestampValue);case 4:return u_(uo(a),uo(e));case 5:return Nt(a.stringValue,e.stringValue);case 6:return function(c,d){const m=Ur(c),p=Ur(d);return m.compareTo(p)}(a.bytesValue,e.bytesValue);case 7:return function(c,d){const m=c.split("/"),p=d.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Nt(m[y],p[y]);if(E!==0)return E}return Nt(m.length,p.length)}(a.referenceValue,e.referenceValue);case 8:return function(c,d){const m=Nt(ce(c.latitude),ce(d.latitude));return m!==0?m:Nt(ce(c.longitude),ce(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return c_(a.arrayValue,e.arrayValue);case 10:return function(c,d){var m,p,y,E;const S=c.fields||{},b=d.fields||{},M=(m=S[mc])===null||m===void 0?void 0:m.arrayValue,L=(p=b[mc])===null||p===void 0?void 0:p.arrayValue,K=Nt(((y=M==null?void 0:M.values)===null||y===void 0?void 0:y.length)||0,((E=L==null?void 0:L.values)===null||E===void 0?void 0:E.length)||0);return K!==0?K:c_(M,L)}(a.mapValue,e.mapValue);case 11:return function(c,d){if(c===Xu.mapValue&&d===Xu.mapValue)return 0;if(c===Xu.mapValue)return 1;if(d===Xu.mapValue)return-1;const m=c.fields||{},p=Object.keys(m),y=d.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const b=Nt(p[S],E[S]);if(b!==0)return b;const M=Ds(m[p[S]],y[E[S]]);if(M!==0)return M}return Nt(p.length,E.length)}(a.mapValue,e.mapValue);default:throw vt()}}function u_(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Nt(a,e);const i=Mr(a),s=Mr(e),o=Nt(i.seconds,s.seconds);return o!==0?o:Nt(i.nanos,s.nanos)}function c_(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=Ds(i[o],s[o]);if(c)return c}return Nt(i.length,s.length)}function xs(a){return gd(a)}function gd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=Mr(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Ur(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return gt.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=gd(c);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${gd(i.fields[d])}`;return o+"}"}(a.mapValue):vt()}function ec(a){switch(Lr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vc(a);return e?16+ec(e):16;case 5:return 2*a.stringValue.length;case 6:return Ur(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+ec(c),0)}(a.arrayValue);case 10:case 11:return function(s){let o=0;return Br(s.fields,(c,d)=>{o+=c.length+ec(d)}),o}(a.mapValue);default:throw vt()}}function h_(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function pd(a){return!!a&&"integerValue"in a}function qd(a){return!!a&&"arrayValue"in a}function f_(a){return!!a&&"nullValue"in a}function d_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function nc(a){return!!a&&"mapValue"in a}function i1(a){var e,i;return((i=(((e=a==null?void 0:a.mapValue)===null||e===void 0?void 0:e.fields)||{})[Hv])===null||i===void 0?void 0:i.stringValue)===Qv}function eo(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return Br(a.mapValue.fields,(i,s)=>e.mapValue.fields[i]=eo(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=eo(a.arrayValue.values[i]);return e}return Object.assign({},a)}function r1(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===n1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!nc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=eo(i)}setAll(e){let i=Be.emptyPath(),s={},o=[];e.forEach((d,m)=>{if(!i.isImmediateParentOf(m)){const p=this.getFieldsMap(i);this.applyChanges(p,s,o),s={},o=[],i=m.popLast()}d?s[m.lastSegment()]=eo(d):o.push(m.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(e){const i=this.field(e.popLast());nc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ui(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];nc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Br(i,(o,c)=>e[o]=c);for(const o of s)delete e[o]}clone(){return new sn(eo(this.value))}}function Fv(a){const e=[];return Br(a.fields,(i,s)=>{const o=new Be([i]);if(nc(s)){const c=Fv(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)}),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,i,s,o,c,d,m){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=m}static newInvalidDocument(e){return new Ke(e,0,Et.min(),Et.min(),Et.min(),sn.empty(),0)}static newFoundDocument(e,i,s,o){return new Ke(e,1,i,Et.min(),s,o,0)}static newNoDocument(e,i){return new Ke(e,2,i,Et.min(),Et.min(),sn.empty(),0)}static newUnknownDocument(e,i){return new Ke(e,3,i,Et.min(),Et.min(),sn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,i){this.position=e,this.inclusive=i}}function m_(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const c=e[o],d=a.position[o];if(c.field.isKeyField()?s=gt.comparator(gt.fromName(d.referenceValue),i.key):s=Ds(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function g_(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!ui(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,i="asc"){this.field=e,this.dir=i}}function a1(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gv=class{};class ye extends Gv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new l1(e,i,s):i==="array-contains"?new c1(e,s):i==="in"?new h1(e,s):i==="not-in"?new f1(e,s):i==="array-contains-any"?new d1(e,s):new ye(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new o1(e,s):new u1(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Ds(i,this.value)):i!==null&&Lr(this.value)===Lr(i)&&this.matchesComparison(Ds(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return vt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jn extends Gv{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new jn(e,i)}matches(e){return Kv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Kv(a){return a.op==="and"}function Yv(a){return s1(a)&&Kv(a)}function s1(a){for(const e of a.filters)if(e instanceof jn)return!1;return!0}function yd(a){if(a instanceof ye)return a.field.canonicalString()+a.op.toString()+xs(a.value);if(Yv(a))return a.filters.map(e=>yd(e)).join(",");{const e=a.filters.map(i=>yd(i)).join(",");return`${a.op}(${e})`}}function Xv(a,e){return a instanceof ye?function(s,o){return o instanceof ye&&s.op===o.op&&s.field.isEqual(o.field)&&ui(s.value,o.value)}(a,e):a instanceof jn?function(s,o){return o instanceof jn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,d,m)=>c&&Xv(d,o.filters[m]),!0):!1}(a,e):void vt()}function $v(a){return a instanceof ye?function(i){return`${i.field.canonicalString()} ${i.op} ${xs(i.value)}`}(a):a instanceof jn?function(i){return i.op.toString()+" {"+i.getFilters().map($v).join(" ,")+"}"}(a):"Filter"}class l1 extends ye{constructor(e,i,s){super(e,i,s),this.key=gt.fromName(s.referenceValue)}matches(e){const i=gt.comparator(e.key,this.key);return this.matchesComparison(i)}}class o1 extends ye{constructor(e,i){super(e,"in",i),this.keys=Zv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class u1 extends ye{constructor(e,i){super(e,"not-in",i),this.keys=Zv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Zv(a,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>gt.fromName(s.referenceValue))}class c1 extends ye{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return qd(i)&&ho(i.arrayValue,this.value)}}class h1 extends ye{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ho(this.value.arrayValue,i)}}class f1 extends ye{constructor(e,i){super(e,"not-in",i)}matches(e){if(ho(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!ho(this.value.arrayValue,i)}}class d1 extends ye{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!qd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>ho(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,i=null,s=[],o=[],c=null,d=null,m=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=m,this.le=null}}function p_(a,e=null,i=[],s=[],o=null,c=null,d=null){return new m1(a,e,i,s,o,c,d)}function Hd(a){const e=At(a);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>yd(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),xc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>xs(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>xs(s)).join(",")),e.le=i}return e.le}function Qd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!a1(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!Xv(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!g_(a.startAt,e.startAt)&&g_(a.endAt,e.endAt)}function _d(a){return gt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,i=null,s=[],o=[],c=null,d="F",m=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function g1(a,e,i,s,o,c,d,m){return new _o(a,e,i,s,o,c,d,m)}function Ic(a){return new _o(a)}function y_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function Wv(a){return a.collectionGroup!==null}function no(a){const e=At(a);if(e.he===null){e.he=[];const i=new Set;for(const c of e.explicitOrderBy)e.he.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new we(Be.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||e.he.push(new pc(c,s))}),i.has(Be.keyField().canonicalString())||e.he.push(new pc(Be.keyField(),s))}return e.he}function ai(a){const e=At(a);return e.Pe||(e.Pe=p1(e,no(a))),e.Pe}function p1(a,e){if(a.limitType==="F")return p_(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new pc(o.field,c)});const i=a.endAt?new gc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new gc(a.startAt.position,a.startAt.inclusive):null;return p_(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function vd(a,e){const i=a.filters.concat([e]);return new _o(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function Ed(a,e,i){return new _o(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function Nc(a,e){return Qd(ai(a),ai(e))&&a.limitType===e.limitType}function Jv(a){return`${Hd(ai(a))}|lt:${a.limitType}`}function Es(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>$v(o)).join(", ")}]`),xc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>xs(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>xs(o)).join(",")),`Target(${s})`}(ai(a))}; limitType=${a.limitType})`}function Oc(a,e){return e.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):gt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(a,e)&&function(s,o){for(const c of no(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(a,e)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(a,e)&&function(s,o){return!(s.startAt&&!function(d,m,p){const y=m_(d,m,p);return d.inclusive?y<=0:y<0}(s.startAt,no(s),o)||s.endAt&&!function(d,m,p){const y=m_(d,m,p);return d.inclusive?y>=0:y>0}(s.endAt,no(s),o))}(a,e)}function y1(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function tE(a){return(e,i)=>{let s=!1;for(const o of no(a)){const c=_1(o,e,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function _1(a,e,i){const s=a.field.isKeyField()?gt.comparator(e.key,i.key):function(c,d,m){const p=d.data.field(c),y=m.data.field(c);return p!==null&&y!==null?Ds(p,y):vt()}(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return vt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Br(this.inner,(i,s)=>{for(const[o,c]of s)e(o,c)})}isEmpty(){return zv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=new ne(gt.comparator);function Qi(){return v1}const eE=new ne(gt.comparator);function Wl(...a){let e=eE;for(const i of a)e=e.insert(i.key,i);return e}function nE(a){let e=eE;return a.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function Aa(){return io()}function iE(){return io()}function io(){return new wa(a=>a.toString(),(a,e)=>a.isEqual(e))}const E1=new ne(gt.comparator),T1=new we(gt.comparator);function Vt(...a){let e=T1;for(const i of a)e=e.add(i);return e}const A1=new we(Nt);function S1(){return A1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fc(e)?"-0":e}}function rE(a){return{integerValue:""+a}}function b1(a,e){return Zb(e)?rE(e):Fd(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(){this._=void 0}}function R1(a,e,i){return a instanceof yc?function(o,c){const d={fields:{[Bv]:{stringValue:kv},[qv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&jd(c)&&(c=Vc(c)),c&&(d.fields[jv]=c),{mapValue:d}}(i,e):a instanceof fo?sE(a,e):a instanceof mo?lE(a,e):function(o,c){const d=aE(o,c),m=__(d)+__(o.Ie);return pd(d)&&pd(o.Ie)?rE(m):Fd(o.serializer,m)}(a,e)}function w1(a,e,i){return a instanceof fo?sE(a,e):a instanceof mo?lE(a,e):i}function aE(a,e){return a instanceof _c?function(s){return pd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class yc extends Mc{}class fo extends Mc{constructor(e){super(),this.elements=e}}function sE(a,e){const i=oE(e);for(const s of a.elements)i.some(o=>ui(o,s))||i.push(s);return{arrayValue:{values:i}}}class mo extends Mc{constructor(e){super(),this.elements=e}}function lE(a,e){let i=oE(e);for(const s of a.elements)i=i.filter(o=>!ui(o,s));return{arrayValue:{values:i}}}class _c extends Mc{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function __(a){return ce(a.integerValue||a.doubleValue)}function oE(a){return qd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function C1(a,e){return a.field.isEqual(e.field)&&function(s,o){return s instanceof fo&&o instanceof fo||s instanceof mo&&o instanceof mo?Cs(s.elements,o.elements,ui):s instanceof _c&&o instanceof _c?ui(s.Ie,o.Ie):s instanceof yc&&o instanceof yc}(a.transform,e.transform)}class D1{constructor(e,i){this.version=e,this.transformResults=i}}class Bn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ic(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Uc{}function uE(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Gd(a.key,Bn.none()):new vo(a.key,a.data,Bn.none());{const i=a.data,s=sn.empty();let o=new we(Be.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new jr(a.key,s,new mn(o.toArray()),Bn.none())}}function x1(a,e,i){a instanceof vo?function(o,c,d){const m=o.value.clone(),p=E_(o.fieldTransforms,c,d.transformResults);m.setAll(p),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(a,e,i):a instanceof jr?function(o,c,d){if(!ic(o.precondition,c))return void c.convertToUnknownDocument(d.version);const m=E_(o.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(cE(o)),p.setAll(m),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(a,e,i):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function ro(a,e,i,s){return a instanceof vo?function(c,d,m,p){if(!ic(c.precondition,d))return m;const y=c.value.clone(),E=T_(c.fieldTransforms,p,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(a,e,i,s):a instanceof jr?function(c,d,m,p){if(!ic(c.precondition,d))return m;const y=T_(c.fieldTransforms,p,d),E=d.data;return E.setAll(cE(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(S=>S.field))}(a,e,i,s):function(c,d,m){return ic(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m}(a,e,i)}function V1(a,e){let i=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),c=aE(s.transform,o||null);c!=null&&(i===null&&(i=sn.empty()),i.set(s.field,c))}return i||null}function v_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Cs(s,o,(c,d)=>C1(c,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class vo extends Uc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class jr extends Uc{constructor(e,i,s,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function cE(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}}),e}function E_(a,e,i){const s=new Map;Qt(a.length===i.length);for(let o=0;o<i.length;o++){const c=a[o],d=c.transform,m=e.data.field(c.field);s.set(c.field,w1(d,m,i[o]))}return s}function T_(a,e,i){const s=new Map;for(const o of a){const c=o.transform,d=i.data.field(o.field);s.set(o.field,R1(c,d,e))}return s}class Gd extends Uc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class I1 extends Uc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&x1(c,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=ro(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=ro(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=iE();return this.mutations.forEach(o=>{const c=e.get(o.key),d=c.overlayedDocument;let m=this.applyToLocalView(d,c.mutatedFields);m=i.has(o.key)?null:m;const p=uE(d,m);p!==null&&s.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(Et.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Vt())}isEqual(e){return this.batchId===e.batchId&&Cs(this.mutations,e.mutations,(i,s)=>v_(i,s))&&Cs(this.baseMutations,e.baseMutations,(i,s)=>v_(i,s))}}class Kd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Qt(e.mutations.length===s.length);let o=function(){return E1}();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new Kd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,Lt;function U1(a){switch(a){case W.OK:return vt();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return vt()}}function hE(a){if(a===void 0)return Hi("GRPC error has no .code"),W.UNKNOWN;switch(a){case pe.OK:return W.OK;case pe.CANCELLED:return W.CANCELLED;case pe.UNKNOWN:return W.UNKNOWN;case pe.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case pe.INTERNAL:return W.INTERNAL;case pe.UNAVAILABLE:return W.UNAVAILABLE;case pe.UNAUTHENTICATED:return W.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case pe.NOT_FOUND:return W.NOT_FOUND;case pe.ALREADY_EXISTS:return W.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return W.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case pe.ABORTED:return W.ABORTED;case pe.OUT_OF_RANGE:return W.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return W.UNIMPLEMENTED;case pe.DATA_LOSS:return W.DATA_LOSS;default:return vt()}}(Lt=pe||(pe={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=new Ir([4294967295,4294967295],0);function A_(a){const e=L1().encode(a),i=new Dv;return i.update(e),new Uint8Array(i.digest())}function S_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ir([i,s],0),new Ir([o,c],0)]}class Yd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Jl(`Invalid padding: ${i}`);if(s<0)throw new Jl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Jl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Jl(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=Ir.fromNumber(this.Ee)}Ae(e,i,s){let o=e.add(i.multiply(Ir.fromNumber(s)));return o.compare(z1)===1&&(o=new Ir([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=A_(e),[s,o]=S_(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,o,c);if(!this.Re(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Yd(c,o,i);return s.forEach(m=>d.insert(m)),d}insert(e){if(this.Ee===0)return;const i=A_(e),[s,o]=S_(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,o,c);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,i,s,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,Eo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Lc(Et.min(),o,new ne(Nt),Qi(),Vt())}}class Eo{constructor(e,i,s,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new Eo(s,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,i,s,o){this.me=e,this.removedTargetIds=i,this.key=s,this.fe=o}}class fE{constructor(e,i){this.targetId=e,this.ge=i}}class dE{constructor(e,i,s=je.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class b_{constructor(){this.pe=0,this.ye=R_(),this.we=je.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Vt(),i=Vt(),s=Vt();return this.ye.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:vt()}}),new Eo(this.we,this.be,e,i,s)}Me(){this.Se=!1,this.ye=R_()}xe(e,i){this.Se=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Qt(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class P1{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Qi(),this.$e=$u(),this.Ke=$u(),this.Ue=new ne(Nt)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const s=this.He(i);switch(e.state){case 0:this.Je(i)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(e.resumeToken));break;default:vt()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((s,o)=>{this.Je(o)&&i(o)})}Ze(e){const i=e.targetId,s=e.ge.count,o=this.Xe(i);if(o){const c=o.target;if(_d(c))if(s===0){const d=new gt(c.path);this.ze(i,d,Ke.newNoDocument(d,Et.min()))}else Qt(s===1);else{const d=this.et(i);if(d!==s){const m=this.tt(e),p=m?this.nt(m,e,d):1;if(p!==0){this.Ye(i);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,y)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let d,m;try{d=Ur(s).toUint8Array()}catch(p){if(p instanceof Pv)return ws("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Yd(d,o,c)}catch(p){return ws(p instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,i,s){return i.ge.count===s-this.st(e,i.targetId)?0:2}st(e,i){const s=this.ke.getRemoteKeysForTarget(i);let o=0;return s.forEach(c=>{const d=this.ke.it(),m=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.ze(i,c,null),o++)}),o}ot(e){const i=new Map;this.qe.forEach((c,d)=>{const m=this.Xe(d);if(m){if(c.current&&_d(m.target)){const p=new gt(m.target.path);this._t(p).has(d)||this.ut(d,p)||this.ze(d,p,Ke.newNoDocument(p,e))}c.ve&&(i.set(d,c.Fe()),c.Me())}});let s=Vt();this.Ke.forEach((c,d)=>{let m=!0;d.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.Qe.forEach((c,d)=>d.setReadTime(e));const o=new Lc(e,i,this.Ue,this.Qe,s);return this.Qe=Qi(),this.$e=$u(),this.Ke=$u(),this.Ue=new ne(Nt),o}Ge(e,i){if(!this.Je(e))return;const s=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ke=this.Ke.insert(i.key,this.ct(i.key).add(e))}ze(e,i,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,i)?o.xe(i,1):o.Oe(i),this.Ke=this.Ke.insert(i,this.ct(i).delete(e)),this.Ke=this.Ke.insert(i,this.ct(i).add(e)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new b_,this.qe.set(e,i)),i}ct(e){let i=this.Ke.get(e);return i||(i=new we(Nt),this.Ke=this.Ke.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new we(Nt),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new b_),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function $u(){return new ne(gt.comparator)}function R_(){return new ne(gt.comparator)}const k1={asc:"ASCENDING",desc:"DESCENDING"},B1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},j1={and:"AND",or:"OR"};class q1{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Td(a,e){return a.useProto3Json||xc(e)?e:{value:e}}function vc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mE(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function H1(a,e){return vc(a,e.toTimestamp())}function si(a){return Qt(!!a),Et.fromTimestamp(function(i){const s=Mr(i);return new _e(s.seconds,s.nanos)}(a))}function Xd(a,e){return Ad(a,e).canonicalString()}function Ad(a,e){const i=function(o){return new Zt(["projects",o.projectId,"databases",o.database])}(a).child("documents");return e===void 0?i:i.child(e)}function gE(a){const e=Zt.fromString(a);return Qt(EE(e)),e}function Sd(a,e){return Xd(a.databaseId,e.path)}function id(a,e){const i=gE(e);if(i.get(1)!==a.databaseId.projectId)throw new ot(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ot(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new gt(yE(i))}function pE(a,e){return Xd(a.databaseId,e)}function Q1(a){const e=gE(a);return e.length===4?Zt.emptyPath():yE(e)}function bd(a){return new Zt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function yE(a){return Qt(a.length>4&&a.get(4)==="documents"),a.popFirst(5)}function w_(a,e,i){return{name:Sd(a,e),fields:i.value.mapValue.fields}}function F1(a,e){let i;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:vt()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(y,E){return y.useProto3Json?(Qt(E===void 0||typeof E=="string"),je.fromBase64String(E||"")):(Qt(E===void 0||E instanceof Buffer||E instanceof Uint8Array),je.fromUint8Array(E||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(y){const E=y.code===void 0?W.UNKNOWN:hE(y.code);return new ot(E,y.message||"")}(d);i=new dE(s,o,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=id(a,s.document.name),c=si(s.document.updateTime),d=s.document.createTime?si(s.document.createTime):Et.min(),m=new sn({mapValue:{fields:s.document.fields}}),p=Ke.newFoundDocument(o,c,d,m),y=s.targetIds||[],E=s.removedTargetIds||[];i=new rc(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=id(a,s.document),c=s.readTime?si(s.readTime):Et.min(),d=Ke.newNoDocument(o,c),m=s.removedTargetIds||[];i=new rc([],m,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=id(a,s.document),c=s.removedTargetIds||[];i=new rc([],c,o,null)}else{if(!("filter"in e))return vt();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new M1(o,c),m=s.targetId;i=new fE(m,d)}}return i}function G1(a,e){let i;if(e instanceof vo)i={update:w_(a,e.key,e.value)};else if(e instanceof Gd)i={delete:Sd(a,e.key)};else if(e instanceof jr)i={update:w_(a,e.key,e.data),updateMask:eR(e.fieldMask)};else{if(!(e instanceof I1))return vt();i={verify:Sd(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(c,d){const m=d.transform;if(m instanceof yc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof fo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof mo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof _c)return{fieldPath:d.field.canonicalString(),increment:m.Ie};throw vt()}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:H1(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:vt()}(a,e.precondition)),i}function K1(a,e){return a&&a.length>0?(Qt(e!==void 0),a.map(i=>function(o,c){let d=o.updateTime?si(o.updateTime):si(c);return d.isEqual(Et.min())&&(d=si(c)),new D1(d,o.transformResults||[])}(i,e))):[]}function Y1(a,e){return{documents:[pE(a,e.path)]}}function X1(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=pE(a,o);const c=function(y){if(y.length!==0)return vE(jn.create(y,"and"))}(e.filters);c&&(i.structuredQuery.where=c);const d=function(y){if(y.length!==0)return y.map(E=>function(b){return{field:Ts(b.field),direction:W1(b.dir)}}(E))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const m=Td(a,e.limit);return m!==null&&(i.structuredQuery.limit=m),e.startAt&&(i.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:i,parent:o}}function $1(a){let e=Q1(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Qt(s===1);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=function(S){const b=_E(S);return b instanceof jn&&Yv(b)?b.getFilters():[b]}(i.where));let d=[];i.orderBy&&(d=function(S){return S.map(b=>function(L){return new pc(As(L.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(b))}(i.orderBy));let m=null;i.limit&&(m=function(S){let b;return b=typeof S=="object"?S.value:S,xc(b)?null:b}(i.limit));let p=null;i.startAt&&(p=function(S){const b=!!S.before,M=S.values||[];return new gc(M,b)}(i.startAt));let y=null;return i.endAt&&(y=function(S){const b=!S.before,M=S.values||[];return new gc(M,b)}(i.endAt)),g1(e,o,d,c,m,"F",p,y)}function Z1(a,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function _E(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=As(i.unaryFilter.field);return ye.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=As(i.unaryFilter.field);return ye.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=As(i.unaryFilter.field);return ye.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=As(i.unaryFilter.field);return ye.create(d,"!=",{nullValue:"NULL_VALUE"});default:return vt()}}(a):a.fieldFilter!==void 0?function(i){return ye.create(As(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vt()}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return jn.create(i.compositeFilter.filters.map(s=>_E(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt()}}(i.compositeFilter.op))}(a):vt()}function W1(a){return k1[a]}function J1(a){return B1[a]}function tR(a){return j1[a]}function Ts(a){return{fieldPath:a.canonicalString()}}function As(a){return Be.fromServerFormat(a.fieldPath)}function vE(a){return a instanceof ye?function(i){if(i.op==="=="){if(d_(i.value))return{unaryFilter:{field:Ts(i.field),op:"IS_NAN"}};if(f_(i.value))return{unaryFilter:{field:Ts(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(d_(i.value))return{unaryFilter:{field:Ts(i.field),op:"IS_NOT_NAN"}};if(f_(i.value))return{unaryFilter:{field:Ts(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ts(i.field),op:J1(i.op),value:i.value}}}(a):a instanceof jn?function(i){const s=i.getFilters().map(o=>vE(o));return s.length===1?s[0]:{compositeFilter:{op:tR(i.op),filters:s}}}(a):vt()}function eR(a){const e=[];return a.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function EE(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,i,s,o,c=Et.min(),d=Et.min(),m=je.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Dr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e){this.Tt=e}}function iR(a){const e=$1({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Ed(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(){this.Tn=new aR}addToCollectionParentIndex(e,i){return this.Tn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(Or.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(Or.min())}updateCollectionGroup(e,i,s){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class aR{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new we(Zt.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new we(Zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TE=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(TE,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Vs(0)}static Un(){return new Vs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="LruGarbageCollector",sR=1048576;function x_([a,e],[i,s]){const o=Nt(a,i);return o===0?Nt(e,s):o}class lR{constructor(e){this.Hn=e,this.buffer=new we(x_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();x_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class oR{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){lt(D_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ks(i)?lt(D_,"Ignoring IndexedDB error during garbage collection: ",i):await Ps(i)}await this.er(3e5)})}}class uR{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(Dc.ae);const s=new lR(i);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.tr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(C_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),C_):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let s,o,c,d,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,m=Date.now(),this.removeTargets(e,s,i))).next(S=>(c=S,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(y=Date.now(),vs()<=zt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(m-d)+`ms
	Removed ${c} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S})))}}function cR(a,e){return new uR(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(){this.changes=new wa(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Z.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&ro(s.mutation,o,mn.empty(),_e.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Vt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Vt()){const o=Aa();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(c=>{let d=Wl();return c.forEach((m,p)=>{d=d.insert(m,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=Aa();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Vt()))}populateOverlays(e,i,s){const o=[];return s.forEach(c=>{i.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((d,m)=>{i.set(d,m)})})}computeViews(e,i,s,o){let c=Qi();const d=io(),m=function(){return io()}();return i.forEach((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof jr)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),ro(E.mutation,y,E.mutation.getFieldMask(),_e.now())):d.set(y.key,mn.empty())}),this.recalculateAndSaveOverlays(e,c).next(p=>(p.forEach((y,E)=>d.set(y,E)),i.forEach((y,E)=>{var S;return m.set(y,new fR(E,(S=d.get(y))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(e,i){const s=io();let o=new ne((d,m)=>d-m),c=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const m of d)m.keys().forEach(p=>{const y=i.get(p);if(y===null)return;let E=s.get(p)||mn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const S=(o.get(m.batchId)||Vt()).add(p);o=o.insert(m.batchId,S)})}).next(()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,S=iE();E.forEach(b=>{if(!c.has(b)){const M=uE(i.get(b),s.get(b));M!==null&&S.set(b,M),c=c.add(b)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,S))}return Z.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Wv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-c.size):Z.resolve(Aa());let m=oo,p=c;return d.next(y=>Z.forEach(y,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),c.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(e,E).next(b=>{p=p.insert(E,b)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,p,y,Vt())).next(E=>({batchId:m,changes:nE(E)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new gt(i)).next(s=>{let o=Wl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const c=i.collectionGroup;let d=Wl();return this.indexManager.getCollectionParents(e,c).next(m=>Z.forEach(m,p=>{const y=function(S,b){return new _o(b,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((S,b)=>{d=d.insert(S,b)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,o))).next(d=>{c.forEach((p,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,Ke.newInvalidDocument(E)))});let m=Wl();return d.forEach((p,y)=>{const E=c.get(p);E!==void 0&&ro(E.mutation,y,mn.empty(),_e.now()),Oc(i,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return Z.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:si(o.createTime)}}(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:iR(o.bundledQuery),readTime:si(o.readTime)}}(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(){this.overlays=new ne(gt.comparator),this.Rr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Aa();return Z.forEach(i,o=>this.getOverlay(e,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,c)=>{this.Et(e,i,c)}),Z.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(s)),Z.resolve()}getOverlaysForCollection(e,i,s){const o=Aa(),c=i.length+1,d=new gt(i.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let c=new ne((y,E)=>y-E);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let E=c.get(y.largestBatchId);E===null&&(E=Aa(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Aa(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return Z.resolve(m)}Et(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new O1(i,s));let c=this.Rr.get(i);c===void 0&&(c=Vt(),this.Rr.set(i,c)),this.Rr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(){this.sessionToken=je.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(){this.Vr=new we(Me.mr),this.gr=new we(Me.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const s=new Me(e,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.wr(new Me(e,i))}br(e,i){e.forEach(s=>this.removeReference(s,i))}Sr(e){const i=new gt(new Zt([])),s=new Me(i,e),o=new Me(i,e+1),c=[];return this.gr.forEachInRange([s,o],d=>{this.wr(d),c.push(d.key)}),c}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new gt(new Zt([])),s=new Me(i,e),o=new Me(i,e+1);let c=Vt();return this.gr.forEachInRange([s,o],d=>{c=c.add(d.key)}),c}containsKey(e){const i=new Me(e,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Me{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return gt.comparator(e.key,i.key)||Nt(e.Cr,i.Cr)}static pr(e,i){return Nt(e.Cr,i.Cr)||gt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new we(Me.mr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new N1(c,i,s,o);this.mutationQueue.push(d);for(const m of o)this.Mr=this.Mr.add(new Me(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Nr(s),c=o<0?0:o;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Bd:this.Fr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Me(i,0),o=new Me(i,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([s,o],d=>{const m=this.Or(d.Cr);c.push(m)}),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new we(Nt);return i.forEach(o=>{const c=new Me(o,0),d=new Me(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,d],m=>{s=s.add(m.Cr)})}),Z.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let c=s;gt.isDocumentKey(c)||(c=c.child(""));const d=new Me(new gt(c),0);let m=new we(Nt);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Cr)),!0)},d),Z.resolve(this.Br(m))}Br(e){const i=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){Qt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return Z.forEach(i.mutations,o=>{const c=new Me(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,i){const s=new Me(i,0),o=this.Mr.firstAfterOrEqual(s);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.kr=e,this.docs=function(){return new ne(gt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,d=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Z.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(e,i){let s=Qi();return i.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Ke.newInvalidDocument(o))}),Z.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let c=Qi();const d=i.path,m=new gt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Kb(Gb(E),s)<=0||(o.has(E.key)||Oc(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,i,s,o){vt()}qr(e,i){return Z.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new vR(this)}getSize(e){return Z.resolve(this.size)}}class vR extends hR{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),Z.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e){this.persistence=e,this.Qr=new wa(i=>Hd(i),Qd),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.$r=0,this.Kr=new $d,this.targetCount=0,this.Ur=Vs.Kn()}forEachTarget(e,i){return this.Qr.forEach((s,o)=>i(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),Z.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Ur=new Vs(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.zn(i),Z.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Kr.Sr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,s){let o=0;const c=[];return this.Qr.forEach((d,m)=>{m.sequenceNumber<=i&&s.get(m.targetId)===null&&(this.Qr.delete(d),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),Z.waitFor(c).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const s=this.Qr.get(i)||null;return Z.resolve(s)}addMatchingKeys(e,i,s){return this.Kr.yr(i,s),Z.resolve()}removeMatchingKeys(e,i,s){this.Kr.br(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach(d=>{c.push(o.markPotentiallyOrphaned(e,d))}),Z.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.Kr.Sr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const s=this.Kr.vr(i);return Z.resolve(s)}containsKey(e,i){return Z.resolve(this.Kr.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new Dc(0),this.zr=!1,this.zr=!0,this.jr=new pR,this.referenceDelegate=e(this),this.Hr=new ER(this),this.indexManager=new rR,this.remoteDocumentCache=function(o){return new _R(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new nR(i),this.Yr=new mR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new gR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.Wr[e.toKey()];return s||(s=new yR(i,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,s){lt("MemoryPersistence","Starting transaction:",e);const o=new TR(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(c=>this.referenceDelegate.Xr(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}ei(e,i){return Z.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,i)))}}class TR extends Xb{constructor(e){super(),this.currentSequenceNumber=e}}class Zd{constructor(e){this.persistence=e,this.ti=new $d,this.ni=null}static ri(e){return new Zd(e)}get ii(){if(this.ni)return this.ni;throw vt()}addReference(e,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),Z.resolve()}removeReference(e,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),Z.resolve()}removeTarget(e,i){this.ti.Sr(i.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(c=>this.ii.add(c.toString()))}).next(()=>s.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ii,s=>{const o=gt.fromPath(s);return this.si(e,o).next(c=>{c||i.removeEntry(o,Et.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return Z.or([()=>Z.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class Ec{constructor(e,i){this.persistence=e,this.oi=new wa(s=>Wb(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=cR(this,i)}static ri(e,i){return new Ec(e,i)}Zr(){}Xr(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}sr(e){let i=0;return this.rr(e,s=>{i++}).next(()=>i)}rr(e,i){return Z.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(c=>c?Z.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.qr(e,d=>this.ar(e,d,i).next(m=>{m||(s++,c.removeEntry(d,Et.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),Z.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=ec(e.data.value)),i}ar(e,i,s){return Z.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.oi.get(i);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Hi=s,this.Ji=o}static Yi(e,i){let s=Vt(),o=Vt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Wd(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return vS()?8:$b(yS())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,s,o){const c={result:null};return this.rs(e,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ss(e,i,o,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new AR;return this._s(e,i,d).next(m=>{if(c.result=m,this.Xi)return this.us(e,i,d,m.size)})}).next(()=>c.result)}us(e,i,s,o){return s.documentReadCount<this.es?(vs()<=zt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Es(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Z.resolve()):(vs()<=zt.DEBUG&&lt("QueryEngine","Query:",Es(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(vs()<=zt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Es(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ai(i))):Z.resolve())}rs(e,i){if(y_(i))return Z.resolve(null);let s=ai(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Ed(i,null,"F"),s=ai(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const d=Vt(...c);return this.ns.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.cs(i,m);return this.ls(i,y,d,p.readTime)?this.rs(e,Ed(i,null,"F")):this.hs(e,y,i,p)}))})))}ss(e,i,s,o){return y_(i)||o.isEqual(Et.min())?Z.resolve(null):this.ns.getDocuments(e,s).next(c=>{const d=this.cs(i,c);return this.ls(i,d,s,o)?Z.resolve(null):(vs()<=zt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Es(i)),this.hs(e,d,i,Fb(o,oo)).next(m=>m))})}cs(e,i){let s=new we(tE(e));return i.forEach((o,c)=>{Oc(e,c)&&(s=s.add(c))}),s}ls(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}_s(e,i,s){return vs()<=zt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Es(i)),this.ns.getDocumentsMatchingQuery(e,i,Or.min(),s)}hs(e,i,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd="LocalStore",bR=3e8;class RR{constructor(e,i,s,o){this.persistence=e,this.Ps=i,this.serializer=o,this.Ts=new ne(Nt),this.Is=new wa(c=>Hd(c),Qd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dR(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function wR(a,e,i,s){return new RR(a,e,i,s)}async function SE(a,e){const i=At(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,i.As(e),i.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],m=[];let p=Vt();for(const y of o){d.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of c){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return i.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:d,addedBatchIds:m}))})})}function CR(a,e){const i=At(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),c=i.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,y,E){const S=y.batch,b=S.keys();let M=Z.resolve();return b.forEach(L=>{M=M.next(()=>E.getEntry(p,L)).next(K=>{const B=y.docVersions.get(L);Qt(B!==null),K.version.compareTo(B)<0&&(S.applyToRemoteDocument(K,y),K.isValidDocument()&&(K.setReadTime(y.commitVersion),E.addEntry(K)))})}),M.next(()=>m.mutationQueue.removeMutationBatch(p,S))}(i,s,e,c).next(()=>c.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Vt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function bE(a){const e=At(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function DR(a,e){const i=At(a),s=e.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const m=[];e.targetChanges.forEach((E,S)=>{const b=o.get(S);if(!b)return;m.push(i.Hr.removeMatchingKeys(c,E.removedDocuments,S).next(()=>i.Hr.addMatchingKeys(c,E.addedDocuments,S)));let M=b.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?M=M.withResumeToken(je.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,s)),o=o.insert(S,M),function(K,B,q){return K.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=bR?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(b,M,E)&&m.push(i.Hr.updateTargetData(c,M))});let p=Qi(),y=Vt();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))}),m.push(xR(c,d,e.documentUpdates).next(E=>{p=E.Vs,y=E.fs})),!s.isEqual(Et.min())){const E=i.Hr.getLastRemoteSnapshotVersion(c).next(S=>i.Hr.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(E)}return Z.waitFor(m).next(()=>d.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,p,y)).next(()=>p)}).then(c=>(i.Ts=o,c))}function xR(a,e,i){let s=Vt(),o=Vt();return i.forEach(c=>s=s.add(c)),e.getEntries(a,s).next(c=>{let d=Qi();return i.forEach((m,p)=>{const y=c.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Et.min())?(e.removeEntry(m,p.readTime),d=d.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),d=d.insert(m,p)):lt(Jd,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Vs:d,fs:o}})}function VR(a,e){const i=At(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Bd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function IR(a,e){const i=At(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Hr.getTargetData(s,e).next(c=>c?(o=c,Z.resolve(o)):i.Hr.allocateTargetId(s).next(d=>(o=new Dr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(e,s.targetId)),s})}async function Rd(a,e,i){const s=At(a),o=s.Ts.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!ks(d))throw d;lt(Jd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function V_(a,e,i){const s=At(a);let o=Et.min(),c=Vt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,y,E){const S=At(p),b=S.Is.get(E);return b!==void 0?Z.resolve(S.Ts.get(b)):S.Hr.getTargetData(y,E)}(s,d,ai(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,m.targetId).next(p=>{c=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,e,i?o:Et.min(),i?c:Vt())).next(m=>(NR(s,y1(e),m),{documents:m,gs:c})))}function NR(a,e,i){let s=a.Es.get(e)||Et.min();i.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),a.Es.set(e,s)}class I_{constructor(){this.activeTargetIds=S1()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OR{constructor(){this.ho=new I_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,s){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new I_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="ConnectivityMonitor";class O_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){lt(N_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){lt(N_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zu=null;function wd(){return Zu===null?Zu=function(){return 268435456+Math.round(2147483648*Math.random())}():Zu++,"0x"+Zu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd="RestConnection",UR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LR{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===dc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(e,i,s,o,c){const d=wd(),m=this.So(e,i.toUriEncodedString());lt(rd,`Sending RPC '${e}' ${d}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,c),this.vo(e,m,p,s).then(y=>(lt(rd,`Received RPC '${e}' ${d}: `,y),y),y=>{throw ws(rd,`RPC '${e}' ${d} failed with error: `,y,"url: ",m,"request:",s),y})}Co(e,i,s,o,c,d){return this.bo(e,i,s,o,c)}Do(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,c)=>e[c]=o),s&&s.headers.forEach((o,c)=>e[c]=o)}So(e,i){const s=UR[e];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class PR extends LR{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,s,o){const c=wd();return new Promise((d,m)=>{const p=new xv;p.setWithCredentials(!0),p.listenOnce(Vv.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case tc.NO_ERROR:const E=p.getResponseJson();lt(Fe,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),d(E);break;case tc.TIMEOUT:lt(Fe,`RPC '${e}' ${c} timed out`),m(new ot(W.DEADLINE_EXCEEDED,"Request time out"));break;case tc.HTTP_ERROR:const S=p.getStatus();if(lt(Fe,`RPC '${e}' ${c} failed with status:`,S,"response text:",p.getResponseText()),S>0){let b=p.getResponseJson();Array.isArray(b)&&(b=b[0]);const M=b==null?void 0:b.error;if(M&&M.status&&M.message){const L=function(B){const q=B.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(q)>=0?q:W.UNKNOWN}(M.status);m(new ot(L,M.message))}else m(new ot(W.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ot(W.UNAVAILABLE,"Connection failed."));break;default:vt()}}finally{lt(Fe,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(o);lt(Fe,`RPC '${e}' ${c} sending request:`,o),p.send(i,"POST",y,s,15)})}Wo(e,i,s){const o=wd(),c=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Ov(),m=Nv(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const E=c.join("");lt(Fe,`Creating RPC '${e}' stream ${o}: ${E}`,p);const S=d.createWebChannel(E,p);let b=!1,M=!1;const L=new zR({Fo:B=>{M?lt(Fe,`Not sending because RPC '${e}' stream ${o} is closed:`,B):(b||(lt(Fe,`Opening RPC '${e}' stream ${o} transport.`),S.open(),b=!0),lt(Fe,`RPC '${e}' stream ${o} sending:`,B),S.send(B))},Mo:()=>S.close()}),K=(B,q,J)=>{B.listen(q,et=>{try{J(et)}catch(pt){setTimeout(()=>{throw pt},0)}})};return K(S,Zl.EventType.OPEN,()=>{M||(lt(Fe,`RPC '${e}' stream ${o} transport opened.`),L.Qo())}),K(S,Zl.EventType.CLOSE,()=>{M||(M=!0,lt(Fe,`RPC '${e}' stream ${o} transport closed`),L.Ko())}),K(S,Zl.EventType.ERROR,B=>{M||(M=!0,ws(Fe,`RPC '${e}' stream ${o} transport errored:`,B),L.Ko(new ot(W.UNAVAILABLE,"The operation could not be completed")))}),K(S,Zl.EventType.MESSAGE,B=>{var q;if(!M){const J=B.data[0];Qt(!!J);const et=J,pt=(et==null?void 0:et.error)||((q=et[0])===null||q===void 0?void 0:q.error);if(pt){lt(Fe,`RPC '${e}' stream ${o} received error:`,pt);const ht=pt.status;let wt=function(R){const x=pe[R];if(x!==void 0)return hE(x)}(ht),O=pt.message;wt===void 0&&(wt=W.INTERNAL,O="Unknown error status: "+ht+" with message "+pt.message),M=!0,L.Ko(new ot(wt,O)),S.close()}else lt(Fe,`RPC '${e}' stream ${o} received:`,J),L.Uo(J)}}),K(m,Iv.STAT_EVENT,B=>{B.stat===md.PROXY?lt(Fe,`RPC '${e}' stream ${o} detected buffering proxy`):B.stat===md.NOPROXY&&lt(Fe,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{L.$o()},0),L}}function ad(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(a){return new q1(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e,i,s=1e3,o=1.5,c=6e4){this.Ti=e,this.timerId=i,this.Go=s,this.zo=o,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-s);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="PersistentStream";class wE{constructor(e,i,s,o,c,d,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new RE(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===W.RESOURCE_EXHAUSTED?(Hi(i.toString()),Hi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===i&&this.V_(s,o)},s=>{e(()=>{const o=new ot(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,i){const s=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return lt(M_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(lt(M_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kR extends wE{constructor(e,i,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=F1(this.serializer,e),s=function(c){if(!("targetChange"in c))return Et.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?si(d.readTime):Et.min()}(e);return this.listener.p_(i,s)}y_(e){const i={};i.database=bd(this.serializer),i.addTarget=function(c,d){let m;const p=d.target;if(m=_d(p)?{documents:Y1(c,p)}:{query:X1(c,p).ht},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=mE(c,d.resumeToken);const y=Td(c,d.expectedCount);y!==null&&(m.expectedCount=y)}else if(d.snapshotVersion.compareTo(Et.min())>0){m.readTime=vc(c,d.snapshotVersion.toTimestamp());const y=Td(c,d.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=Z1(this.serializer,e);s&&(i.labels=s),this.I_(i)}w_(e){const i={};i.database=bd(this.serializer),i.removeTarget=e,this.I_(i)}}class BR extends wE{constructor(e,i,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return Qt(!!e.streamToken),this.lastStreamToken=e.streamToken,Qt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Qt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=K1(e.writeResults,e.commitTime),s=si(e.commitTime);return this.listener.v_(s,i)}C_(){const e={};e.database=bd(this.serializer),this.I_(e)}S_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>G1(this.serializer,s))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{}class qR extends jR{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ot(W.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,i,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.bo(e,Ad(i,s),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ot(W.UNKNOWN,c.toString())})}Co(e,i,s,o,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection.Co(e,Ad(i,s),o,d,m,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot(W.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class HR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Hi(i),this.N_=!1):lt("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="RemoteStore";class QR{constructor(e,i,s,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(d=>{s.enqueueAndForget(async()=>{Ca(this)&&(lt(ba,"Restarting streams for network reachability change."),await async function(p){const y=At(p);y.W_.add(4),await To(y),y.j_.set("Unknown"),y.W_.delete(4),await Pc(y)}(this))})}),this.j_=new HR(s,o)}}async function Pc(a){if(Ca(a))for(const e of a.G_)await e(!0)}async function To(a){for(const e of a.G_)await e(!1)}function CE(a,e){const i=At(a);i.U_.has(e.targetId)||(i.U_.set(e.targetId,e),im(i)?nm(i):Bs(i).c_()&&em(i,e))}function tm(a,e){const i=At(a),s=Bs(i);i.U_.delete(e),s.c_()&&DE(i,e),i.U_.size===0&&(s.c_()?s.P_():Ca(i)&&i.j_.set("Unknown"))}function em(a,e){if(a.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Bs(a).y_(e)}function DE(a,e){a.H_.Ne(e),Bs(a).w_(e)}function nm(a){a.H_=new P1({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>a.U_.get(e)||null,it:()=>a.datastore.serializer.databaseId}),Bs(a).start(),a.j_.B_()}function im(a){return Ca(a)&&!Bs(a).u_()&&a.U_.size>0}function Ca(a){return At(a).W_.size===0}function xE(a){a.H_=void 0}async function FR(a){a.j_.set("Online")}async function GR(a){a.U_.forEach((e,i)=>{em(a,e)})}async function KR(a,e){xE(a),im(a)?(a.j_.q_(e),nm(a)):a.j_.set("Unknown")}async function YR(a,e,i){if(a.j_.set("Online"),e instanceof dE&&e.state===2&&e.cause)try{await async function(o,c){const d=c.cause;for(const m of c.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,d),o.U_.delete(m),o.H_.removeTarget(m))}(a,e)}catch(s){lt(ba,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Tc(a,s)}else if(e instanceof rc?a.H_.We(e):e instanceof fE?a.H_.Ze(e):a.H_.je(e),!i.isEqual(Et.min()))try{const s=await bE(a.localStore);i.compareTo(s)>=0&&await function(c,d){const m=c.H_.ot(d);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=c.U_.get(y);E&&c.U_.set(y,E.withResumeToken(p.resumeToken,d))}}),m.targetMismatches.forEach((p,y)=>{const E=c.U_.get(p);if(!E)return;c.U_.set(p,E.withResumeToken(je.EMPTY_BYTE_STRING,E.snapshotVersion)),DE(c,p);const S=new Dr(E.target,p,y,E.sequenceNumber);em(c,S)}),c.remoteSyncer.applyRemoteEvent(m)}(a,i)}catch(s){lt(ba,"Failed to raise snapshot:",s),await Tc(a,s)}}async function Tc(a,e,i){if(!ks(e))throw e;a.W_.add(1),await To(a),a.j_.set("Offline"),i||(i=()=>bE(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{lt(ba,"Retrying IndexedDB access"),await i(),a.W_.delete(1),await Pc(a)})}function VE(a,e){return e().catch(i=>Tc(a,i,e))}async function kc(a){const e=At(a),i=zr(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:Bd;for(;XR(e);)try{const o=await VR(e.localStore,s);if(o===null){e.K_.length===0&&i.P_();break}s=o.batchId,$R(e,o)}catch(o){await Tc(e,o)}IE(e)&&NE(e)}function XR(a){return Ca(a)&&a.K_.length<10}function $R(a,e){a.K_.push(e);const i=zr(a);i.c_()&&i.b_&&i.S_(e.mutations)}function IE(a){return Ca(a)&&!zr(a).u_()&&a.K_.length>0}function NE(a){zr(a).start()}async function ZR(a){zr(a).C_()}async function WR(a){const e=zr(a);for(const i of a.K_)e.S_(i.mutations)}async function JR(a,e,i){const s=a.K_.shift(),o=Kd.from(s,e,i);await VE(a,()=>a.remoteSyncer.applySuccessfulWrite(o)),await kc(a)}async function tw(a,e){e&&zr(a).b_&&await async function(s,o){if(function(d){return U1(d)&&d!==W.ABORTED}(o.code)){const c=s.K_.shift();zr(s).h_(),await VE(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await kc(s)}}(a,e),IE(a)&&NE(a)}async function U_(a,e){const i=At(a);i.asyncQueue.verifyOperationInProgress(),lt(ba,"RemoteStore received new credentials");const s=Ca(i);i.W_.add(3),await To(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await Pc(i)}async function ew(a,e){const i=At(a);e?(i.W_.delete(2),await Pc(i)):e||(i.W_.add(2),await To(i),i.j_.set("Unknown"))}function Bs(a){return a.J_||(a.J_=function(i,s,o){const c=At(i);return c.M_(),new kR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(a.datastore,a.asyncQueue,{xo:FR.bind(null,a),No:GR.bind(null,a),Lo:KR.bind(null,a),p_:YR.bind(null,a)}),a.G_.push(async e=>{e?(a.J_.h_(),im(a)?nm(a):a.j_.set("Unknown")):(await a.J_.stop(),xE(a))})),a.J_}function zr(a){return a.Y_||(a.Y_=function(i,s,o){const c=At(i);return c.M_(),new BR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(a.datastore,a.asyncQueue,{xo:()=>Promise.resolve(),No:ZR.bind(null,a),Lo:tw.bind(null,a),D_:WR.bind(null,a),v_:JR.bind(null,a)}),a.G_.push(async e=>{e?(a.Y_.h_(),await kc(a)):(await a.Y_.stop(),a.K_.length>0&&(lt(ba,`Stopping write stream with ${a.K_.length} pending writes`),a.K_=[]))})),a.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,i,s,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,c){const d=Date.now()+s,m=new rm(e,i,d,o,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function am(a,e){if(Hi("AsyncQueue",`${e}: ${a}`),ks(a))return new ot(W.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{static emptySet(e){return new Rs(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||gt.comparator(i.key,s.key):(i,s)=>gt.comparator(i.key,s.key),this.keyedMap=Wl(),this.sortedSet=new ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Rs)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Rs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(){this.Z_=new ne(gt.comparator)}track(e){const i=e.doc.key,s=this.Z_.get(i);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(i):e.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):vt():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,s)=>{e.push(s)}),e}}class Is{constructor(e,i,s,o,c,d,m,p,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,o,c){const d=[];return i.forEach(m=>{d.push({type:0,doc:m})}),new Is(e,i,Rs.emptySet(i),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class iw{constructor(){this.queries=z_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const o=At(i),c=o.queries;o.queries=z_(),c.forEach((d,m)=>{for(const p of m.ta)p.onError(s)})})(this,new ot(W.ABORTED,"Firestore shutting down"))}}function z_(){return new wa(a=>Jv(a),Nc)}async function sm(a,e){const i=At(a);let s=3;const o=e.query;let c=i.queries.get(o);c?!c.na()&&e.ra()&&(s=2):(c=new nw,s=e.ra()?0:1);try{switch(s){case 0:c.ea=await i.onListen(o,!0);break;case 1:c.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const m=am(d,`Initialization of query '${Es(e.query)}' failed`);return void e.onError(m)}i.queries.set(o,c),c.ta.push(e),e.sa(i.onlineState),c.ea&&e.oa(c.ea)&&om(i)}async function lm(a,e){const i=At(a),s=e.query;let o=3;const c=i.queries.get(s);if(c){const d=c.ta.indexOf(e);d>=0&&(c.ta.splice(d,1),c.ta.length===0?o=e.ra()?0:1:!c.na()&&e.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function rw(a,e){const i=At(a);let s=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const m of d.ta)m.oa(o)&&(s=!0);d.ea=o}}s&&om(i)}function aw(a,e,i){const s=At(a),o=s.queries.get(e);if(o)for(const c of o.ta)c.onError(i);s.queries.delete(e)}function om(a){a.ia.forEach(e=>{e.next()})}var Cd,P_;(P_=Cd||(Cd={}))._a="default",P_.Cache="cache";class um{constructor(e,i,s){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Is(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=Is.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Cd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e){this.key=e}}class ME{constructor(e){this.key=e}}class sw{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Vt(),this.mutatedKeys=Vt(),this.ya=tE(e),this.wa=new Rs(this.ya)}get ba(){return this.fa}Sa(e,i){const s=i?i.Da:new L_,o=i?i.wa:this.wa;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const b=o.get(E),M=Oc(this.query,S)?S:null,L=!!b&&this.mutatedKeys.has(b.key),K=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let B=!1;b&&M?b.data.isEqual(M.data)?L!==K&&(s.track({type:3,doc:M}),B=!0):this.va(b,M)||(s.track({type:2,doc:M}),B=!0,(p&&this.ya(M,p)>0||y&&this.ya(M,y)<0)&&(m=!0)):!b&&M?(s.track({type:0,doc:M}),B=!0):b&&!M&&(s.track({type:1,doc:b}),B=!0,(p||y)&&(m=!0)),B&&(M?(d=d.add(M),c=K?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{wa:d,Da:s,ls:m,mutatedKeys:c}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const c=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((E,S)=>function(M,L){const K=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt()}};return K(M)-K(L)}(E.type,S.type)||this.ya(E.doc,S.doc)),this.Ca(s),o=o!=null&&o;const m=i&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,d.length!==0||y?{snapshot:new Is(this.query,e.wa,c,d,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new L_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Vt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return e.forEach(s=>{this.pa.has(s)||i.push(new ME(s))}),this.pa.forEach(s=>{e.has(s)||i.push(new OE(s))}),i}Oa(e){this.fa=e.gs,this.pa=Vt();const i=this.Sa(e.documents);return this.applyChanges(i,!0)}Na(){return Is.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const cm="SyncEngine";class lw{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class ow{constructor(e){this.key=e,this.Ba=!1}}class uw{constructor(e,i,s,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new wa(m=>Jv(m),Nc),this.qa=new Map,this.Qa=new Set,this.$a=new ne(gt.comparator),this.Ka=new Map,this.Ua=new $d,this.Wa={},this.Ga=new Map,this.za=Vs.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function cw(a,e,i=!0){const s=BE(a);let o;const c=s.ka.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.Na()):o=await UE(s,e,i,!0),o}async function hw(a,e){const i=BE(a);await UE(i,e,!0,!1)}async function UE(a,e,i,s){const o=await IR(a.localStore,ai(e)),c=o.targetId,d=a.sharedClientState.addLocalQueryTarget(c,i);let m;return s&&(m=await fw(a,e,c,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&CE(a.remoteStore,o),m}async function fw(a,e,i,s,o){a.Ha=(S,b,M)=>async function(K,B,q,J){let et=B.view.Sa(q);et.ls&&(et=await V_(K.localStore,B.query,!1).then(({documents:O})=>B.view.Sa(O,et)));const pt=J&&J.targetChanges.get(B.targetId),ht=J&&J.targetMismatches.get(B.targetId)!=null,wt=B.view.applyChanges(et,K.isPrimaryClient,pt,ht);return B_(K,B.targetId,wt.Ma),wt.snapshot}(a,S,b,M);const c=await V_(a.localStore,e,!0),d=new sw(e,c.gs),m=d.Sa(c.documents),p=Eo.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),y=d.applyChanges(m,a.isPrimaryClient,p);B_(a,i,y.Ma);const E=new lw(e,i,d);return a.ka.set(e,E),a.qa.has(i)?a.qa.get(i).push(e):a.qa.set(i,[e]),y.snapshot}async function dw(a,e,i){const s=At(a),o=s.ka.get(e),c=s.qa.get(o.targetId);if(c.length>1)return s.qa.set(o.targetId,c.filter(d=>!Nc(d,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Rd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&tm(s.remoteStore,o.targetId),Dd(s,o.targetId)}).catch(Ps)):(Dd(s,o.targetId),await Rd(s.localStore,o.targetId,!0))}async function mw(a,e){const i=At(a),s=i.ka.get(e),o=i.qa.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),tm(i.remoteStore,s.targetId))}async function gw(a,e,i){const s=Aw(a);try{const o=await function(d,m){const p=At(d),y=_e.now(),E=m.reduce((M,L)=>M.add(L.key),Vt());let S,b;return p.persistence.runTransaction("Locally write mutations","readwrite",M=>{let L=Qi(),K=Vt();return p.ds.getEntries(M,E).next(B=>{L=B,L.forEach((q,J)=>{J.isValidDocument()||(K=K.add(q))})}).next(()=>p.localDocuments.getOverlayedDocuments(M,L)).next(B=>{S=B;const q=[];for(const J of m){const et=V1(J,S.get(J.key).overlayedDocument);et!=null&&q.push(new jr(J.key,et,Fv(et.value.mapValue),Bn.exists(!0)))}return p.mutationQueue.addMutationBatch(M,y,q,m)}).next(B=>{b=B;const q=B.applyToLocalDocumentSet(S,K);return p.documentOverlayCache.saveOverlays(M,B.batchId,q)})}).then(()=>({batchId:b.batchId,changes:nE(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,m,p){let y=d.Wa[d.currentUser.toKey()];y||(y=new ne(Nt)),y=y.insert(m,p),d.Wa[d.currentUser.toKey()]=y}(s,o.batchId,i),await Ao(s,o.changes),await kc(s.remoteStore)}catch(o){const c=am(o,"Failed to persist write");i.reject(c)}}async function LE(a,e){const i=At(a);try{const s=await DR(i.localStore,e);e.targetChanges.forEach((o,c)=>{const d=i.Ka.get(c);d&&(Qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Ba=!0:o.modifiedDocuments.size>0?Qt(d.Ba):o.removedDocuments.size>0&&(Qt(d.Ba),d.Ba=!1))}),await Ao(i,s,e)}catch(s){await Ps(s)}}function k_(a,e,i){const s=At(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.ka.forEach((c,d)=>{const m=d.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(d,m){const p=At(d);p.onlineState=m;let y=!1;p.queries.forEach((E,S)=>{for(const b of S.ta)b.sa(m)&&(y=!0)}),y&&om(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function pw(a,e,i){const s=At(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Ka.get(e),c=o&&o.key;if(c){let d=new ne(gt.comparator);d=d.insert(c,Ke.newNoDocument(c,Et.min()));const m=Vt().add(c),p=new Lc(Et.min(),new Map,new ne(Nt),d,m);await LE(s,p),s.$a=s.$a.remove(c),s.Ka.delete(e),hm(s)}else await Rd(s.localStore,e,!1).then(()=>Dd(s,e,i)).catch(Ps)}async function yw(a,e){const i=At(a),s=e.batch.batchId;try{const o=await CR(i.localStore,e);PE(i,s,null),zE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Ao(i,o)}catch(o){await Ps(o)}}async function _w(a,e,i){const s=At(a);try{const o=await function(d,m){const p=At(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next(S=>(Qt(S!==null),E=S.keys(),p.mutationQueue.removeMutationBatch(y,S))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,e);PE(s,e,i),zE(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await Ao(s,o)}catch(o){await Ps(o)}}function zE(a,e){(a.Ga.get(e)||[]).forEach(i=>{i.resolve()}),a.Ga.delete(e)}function PE(a,e,i){const s=At(a);let o=s.Wa[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Dd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.qa.get(e))a.ka.delete(s),i&&a.La.Ja(s,i);a.qa.delete(e),a.isPrimaryClient&&a.Ua.Sr(e).forEach(s=>{a.Ua.containsKey(s)||kE(a,s)})}function kE(a,e){a.Qa.delete(e.path.canonicalString());const i=a.$a.get(e);i!==null&&(tm(a.remoteStore,i),a.$a=a.$a.remove(e),a.Ka.delete(i),hm(a))}function B_(a,e,i){for(const s of i)s instanceof OE?(a.Ua.addReference(s.key,e),vw(a,s)):s instanceof ME?(lt(cm,"Document no longer in limbo: "+s.key),a.Ua.removeReference(s.key,e),a.Ua.containsKey(s.key)||kE(a,s.key)):vt()}function vw(a,e){const i=e.key,s=i.path.canonicalString();a.$a.get(i)||a.Qa.has(s)||(lt(cm,"New document in limbo: "+i),a.Qa.add(s),hm(a))}function hm(a){for(;a.Qa.size>0&&a.$a.size<a.maxConcurrentLimboResolutions;){const e=a.Qa.values().next().value;a.Qa.delete(e);const i=new gt(Zt.fromString(e)),s=a.za.next();a.Ka.set(s,new ow(i)),a.$a=a.$a.insert(i,s),CE(a.remoteStore,new Dr(ai(Ic(i.path)),s,"TargetPurposeLimboResolution",Dc.ae))}}async function Ao(a,e,i){const s=At(a),o=[],c=[],d=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{d.push(s.Ha(p,e,i).then(y=>{var E;if((y||i)&&s.isPrimaryClient){const S=y?!y.fromCache:(E=i==null?void 0:i.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(y){o.push(y);const S=Wd.Yi(p.targetId,y);c.push(S)}}))}),await Promise.all(d),s.La.p_(o),await async function(p,y){const E=At(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>Z.forEach(y,b=>Z.forEach(b.Hi,M=>E.persistence.referenceDelegate.addReference(S,b.targetId,M)).next(()=>Z.forEach(b.Ji,M=>E.persistence.referenceDelegate.removeReference(S,b.targetId,M)))))}catch(S){if(!ks(S))throw S;lt(Jd,"Failed to update sequence numbers: "+S)}for(const S of y){const b=S.targetId;if(!S.fromCache){const M=E.Ts.get(b),L=M.snapshotVersion,K=M.withLastLimboFreeSnapshotVersion(L);E.Ts=E.Ts.insert(b,K)}}}(s.localStore,c))}async function Ew(a,e){const i=At(a);if(!i.currentUser.isEqual(e)){lt(cm,"User change. New user:",e.toKey());const s=await SE(i.localStore,e);i.currentUser=e,function(c,d){c.Ga.forEach(m=>{m.forEach(p=>{p.reject(new ot(W.CANCELLED,d))})}),c.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ao(i,s.Rs)}}function Tw(a,e){const i=At(a),s=i.Ka.get(e);if(s&&s.Ba)return Vt().add(s.key);{let o=Vt();const c=i.qa.get(e);if(!c)return o;for(const d of c){const m=i.ka.get(d);o=o.unionWith(m.view.ba)}return o}}function BE(a){const e=At(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=LE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Tw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pw.bind(null,e),e.La.p_=rw.bind(null,e.eventManager),e.La.Ja=aw.bind(null,e.eventManager),e}function Aw(a){const e=At(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_w.bind(null,e),e}class Ac{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return wR(this.persistence,new SR,e.initialUser,this.serializer)}Xa(e){return new AE(Zd.ri,this.serializer)}Za(e){return new OR}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ac.provider={build:()=>new Ac};class Sw extends Ac{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){Qt(this.persistence.referenceDelegate instanceof Ec);const s=this.persistence.referenceDelegate.garbageCollector;return new oR(s,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new AE(s=>Ec.ri(s,i),this.serializer)}}class xd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>k_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ew.bind(null,this.syncEngine),await ew(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new iw}()}createDatastore(e){const i=zc(e.databaseInfo.databaseId),s=function(c){return new PR(c)}(e.databaseInfo);return function(c,d,m,p){return new qR(c,d,m,p)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,c,d,m){return new QR(s,o,c,d,m)}(this.localStore,this.datastore,e.asyncQueue,i=>k_(this.syncEngine,i,0),function(){return O_.D()?new O_:new MR}())}createSyncEngine(e,i){return function(o,c,d,m,p,y,E){const S=new uw(o,c,d,m,p,y);return E&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const c=At(o);lt(ba,"RemoteStore shutting down."),c.W_.add(5),await To(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}xd.provider={build:()=>new xd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Hi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr="FirestoreClient";class bw{constructor(e,i,s,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Ge.UNAUTHENTICATED,this.clientId=Uv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{lt(Pr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(lt(Pr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=am(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function sd(a,e){a.asyncQueue.verifyOperationInProgress(),lt(Pr,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async o=>{s.isEqual(o)||(await SE(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function j_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await Rw(a);lt(Pr,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(s=>U_(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,o)=>U_(e.remoteStore,o)),a._onlineComponents=e}async function Rw(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){lt(Pr,"Using user provided OfflineComponentProvider");try{await sd(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;ws("Error using user provided cache. Falling back to memory cache: "+i),await sd(a,new Ac)}}else lt(Pr,"Using default OfflineComponentProvider"),await sd(a,new Sw(void 0));return a._offlineComponents}async function jE(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(lt(Pr,"Using user provided OnlineComponentProvider"),await j_(a,a._uninitializedComponentsProvider._online)):(lt(Pr,"Using default OnlineComponentProvider"),await j_(a,new xd))),a._onlineComponents}function ww(a){return jE(a).then(e=>e.syncEngine)}async function Sc(a){const e=await jE(a),i=e.eventManager;return i.onListen=cw.bind(null,e.syncEngine),i.onUnlisten=dw.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=hw.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=mw.bind(null,e.syncEngine),i}function Cw(a,e,i={}){const s=new Bi;return a.asyncQueue.enqueueAndForget(async()=>function(c,d,m,p,y){const E=new fm({next:b=>{E.su(),d.enqueueAndForget(()=>lm(c,S));const M=b.docs.has(m);!M&&b.fromCache?y.reject(new ot(W.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&b.fromCache&&p&&p.source==="server"?y.reject(new ot(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(b)},error:b=>y.reject(b)}),S=new um(Ic(m.path),E,{includeMetadataChanges:!0,Ta:!0});return sm(c,S)}(await Sc(a),a.asyncQueue,e,i,s)),s.promise}function Dw(a,e,i={}){const s=new Bi;return a.asyncQueue.enqueueAndForget(async()=>function(c,d,m,p,y){const E=new fm({next:b=>{E.su(),d.enqueueAndForget(()=>lm(c,S)),b.fromCache&&p.source==="server"?y.reject(new ot(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(b)},error:b=>y.reject(b)}),S=new um(m,E,{includeMetadataChanges:!0,Ta:!0});return sm(c,S)}(await Sc(a),a.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(a,e,i){if(!i)throw new ot(W.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function xw(a,e,i,s){if(e===!0&&s===!0)throw new ot(W.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function H_(a){if(!gt.isDocumentKey(a))throw new ot(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Q_(a){if(gt.isDocumentKey(a))throw new ot(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Bc(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":vt()}function Nn(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ot(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Bc(a);throw new ot(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="firestore.googleapis.com",F_=!0;class G_{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ot(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QE,this.ssl=F_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:F_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=TE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sR)throw new ot(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qE((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ot(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ot(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ot(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ot(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new zb;switch(s.type){case"firstParty":return new jb(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ot(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=q_.get(i);s&&(lt("ComponentProvider","Removing Datastore"),q_.delete(i),s.terminate())}(this),Promise.resolve()}}function Vw(a,e,i,s={}){var o;const c=(a=Nn(a,jc))._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:a._getEmulatorOptions()}),m=`${e}:${i}`;c.host!==QE&&c.host!==m&&ws("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:m,ssl:!1,emulatorOptions:s});if(!uc(p,d)&&(a._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Ge.MOCK_USER;else{y=pS(s.mockUserToken,(o=a._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ot(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Ge(S)}a._authCredentials=new Pb(new Mv(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Da(this.firestore,e,this._query)}}class tn{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tn(this.firestore,e,this._key)}}class Nr extends Da{constructor(e,i,s){super(e,i,Ic(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tn(this.firestore,null,new gt(e))}withConverter(e){return new Nr(this.firestore,e,this._path)}}function dm(a,e,...i){if(a=oi(a),HE("collection","path",e),a instanceof jc){const s=Zt.fromString(e,...i);return Q_(s),new Nr(a,null,s)}{if(!(a instanceof tn||a instanceof Nr))throw new ot(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Zt.fromString(e,...i));return Q_(s),new Nr(a.firestore,null,s)}}function ac(a,e,...i){if(a=oi(a),arguments.length===1&&(e=Uv.newId()),HE("doc","path",e),a instanceof jc){const s=Zt.fromString(e,...i);return H_(s),new tn(a,null,new gt(s))}{if(!(a instanceof tn||a instanceof Nr))throw new ot(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Zt.fromString(e,...i));return H_(s),new tn(a.firestore,a instanceof Nr?a.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="AsyncQueue";class Y_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new RE(this,"async_queue_retry"),this.bu=()=>{const s=ad();s&&lt(K_,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=e;const i=ad();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=ad();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Bi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ks(e))throw e;lt(K_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.Su.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(d){let m=d.message||"";return d.stack&&(m=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),m}(s);throw Hi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=i,i}enqueueAfterDelay(e,i,s){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const o=rm.createAndSchedule(this,e,i,s,c=>this.Fu(c));return this.fu.push(o),o}Du(){this.gu&&vt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}function X_(a){return function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1}(a,["next","error","complete"])}class kr extends jc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new Y_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Y_(e),this._firestoreClient=void 0,await e}}}function Iw(a,e){const i=typeof a=="object"?a:wb(),s=typeof a=="string"?a:dc,o=Tb(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=mS("firestore");c&&Vw(o,...c)}return o}function qc(a){if(a._terminated)throw new ot(W.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||Nw(a),a._firestoreClient}function Nw(a){var e,i,s;const o=a._freezeSettings(),c=function(m,p,y,E){return new e1(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,qE(E.experimentalLongPollingOptions),E.useFetchStreams)}(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,o);a._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),a._firestoreClient=new bw(a._authCredentials,a._appCheckCredentials,a._queue,c,a._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ns(je.fromBase64String(e))}catch(i){throw new ot(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Ns(je.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ot(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ot(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ot(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow=/^__.*__$/;class Mw{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new jr(e,this.data,this.fieldMask,i,this.fieldTransforms):new vo(e,this.data,i,this.fieldTransforms)}}class FE{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new jr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function GE(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt()}}class ym{constructor(e,i,s,o,c,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new ym(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return bc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(GE(this.Lu)&&Ow.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Uw{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||zc(e)}ju(e,i,s,o=!1){return new ym({Lu:e,methodName:i,zu:s,path:Be.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _m(a){const e=a._freezeSettings(),i=zc(a._databaseId);return new Uw(a._databaseId,!!e.ignoreUndefinedProperties,i)}function Lw(a,e,i,s,o,c={}){const d=a.ju(c.merge||c.mergeFields?2:0,e,i,o);vm("Data must be an object, but it was:",d,s);const m=KE(s,d);let p,y;if(c.merge)p=new mn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const S of c.mergeFields){const b=Vd(e,S,i);if(!d.contains(b))throw new ot(W.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);XE(E,b)||E.push(b)}p=new mn(E),y=d.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,y=d.fieldTransforms;return new Mw(new sn(m),p,y)}class Qc extends mm{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qc}}function zw(a,e,i,s){const o=a.ju(1,e,i);vm("Data must be an object, but it was:",o,s);const c=[],d=sn.empty();Br(s,(p,y)=>{const E=Em(e,p,i);y=oi(y);const S=o.Ku(E);if(y instanceof Qc)c.push(E);else{const b=So(y,S);b!=null&&(c.push(E),d.set(E,b))}});const m=new mn(c);return new FE(d,m,o.fieldTransforms)}function Pw(a,e,i,s,o,c){const d=a.ju(1,e,i),m=[Vd(e,s,i)],p=[o];if(c.length%2!=0)throw new ot(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<c.length;b+=2)m.push(Vd(e,c[b])),p.push(c[b+1]);const y=[],E=sn.empty();for(let b=m.length-1;b>=0;--b)if(!XE(y,m[b])){const M=m[b];let L=p[b];L=oi(L);const K=d.Ku(M);if(L instanceof Qc)y.push(M);else{const B=So(L,K);B!=null&&(y.push(M),E.set(M,B))}}const S=new mn(y);return new FE(E,S,d.fieldTransforms)}function kw(a,e,i,s=!1){return So(i,a.ju(s?4:3,e))}function So(a,e){if(YE(a=oi(a)))return vm("Unsupported field value:",e,a),KE(a,e);if(a instanceof mm)return function(s,o){if(!GE(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const c=[];let d=0;for(const m of s){let p=So(m,o.Uu(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(a,e)}return function(s,o){if((s=oi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return b1(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=_e.fromDate(s);return{timestampValue:vc(o.serializer,c)}}if(s instanceof _e){const c=new _e(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:vc(o.serializer,c)}}if(s instanceof gm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ns)return{bytesValue:mE(o.serializer,s._byteString)};if(s instanceof tn){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Xd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof pm)return function(d,m){return{mapValue:{fields:{[Hv]:{stringValue:Qv},[mc]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return Fd(m.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Bc(s)}`)}(a,e)}function KE(a,e){const i={};return zv(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Br(a,(s,o)=>{const c=So(o,e.qu(s));c!=null&&(i[s]=c)}),{mapValue:{fields:i}}}function YE(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof _e||a instanceof gm||a instanceof Ns||a instanceof tn||a instanceof mm||a instanceof pm)}function vm(a,e,i){if(!YE(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const s=Bc(i);throw s==="an object"?e.Wu(a+" a custom object"):e.Wu(a+" "+s)}}function Vd(a,e,i){if((e=oi(e))instanceof Hc)return e._internalPath;if(typeof e=="string")return Em(a,e);throw bc("Field path arguments must be of type string or ",a,!1,void 0,i)}const Bw=new RegExp("[~\\*/\\[\\]]");function Em(a,e,i){if(e.search(Bw)>=0)throw bc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Hc(...e.split("."))._internalPath}catch{throw bc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function bc(a,e,i,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let m=`Function ${e}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${o}`),p+=")"),new ot(W.INVALID_ARGUMENT,m+a+p)}function XE(a,e){return a.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,i,s,o,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Tm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class jw extends $E{data(){return super.data()}}function Tm(a,e){return typeof e=="string"?Em(a,e):e instanceof Hc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ot(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Am{}class qw extends Am{}function Hw(a,e,...i){let s=[];e instanceof Am&&s.push(e),s=s.concat(i),function(c){const d=c.filter(p=>p instanceof Sm).length,m=c.filter(p=>p instanceof Fc).length;if(d>1||d>0&&m>0)throw new ot(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)a=o._apply(a);return a}class Fc extends qw{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Fc(e,i,s)}_apply(e){const i=this._parse(e);return WE(e._query,i),new Da(e.firestore,e.converter,vd(e._query,i))}_parse(e){const i=_m(e.firestore);return function(c,d,m,p,y,E,S){let b;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ot(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Z_(S,E);const L=[];for(const K of S)L.push($_(p,c,K));b={arrayValue:{values:L}}}else b=$_(p,c,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Z_(S,E),b=kw(m,d,S,E==="in"||E==="not-in");return ye.create(y,E,b)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function Qw(a,e,i){const s=e,o=Tm("where",a);return Fc._create(o,s,i)}class Sm extends Am{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Sm(e,i)}_parse(e){const i=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return i.length===1?i[0]:jn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(o,c){let d=o;const m=c.getFlattenedFilters();for(const p of m)WE(d,p),d=vd(d,p)}(e._query,i),new Da(e.firestore,e.converter,vd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function $_(a,e,i){if(typeof(i=oi(i))=="string"){if(i==="")throw new ot(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wv(e)&&i.indexOf("/")!==-1)throw new ot(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(Zt.fromString(i));if(!gt.isDocumentKey(s))throw new ot(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return h_(a,new gt(s))}if(i instanceof tn)return h_(a,i._key);throw new ot(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bc(i)}.`)}function Z_(a,e){if(!Array.isArray(a)||a.length===0)throw new ot(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function WE(a,e){const i=function(o,c){for(const d of o)for(const m of d.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null}(a.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new ot(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ot(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class Fw{convertValue(e,i="none"){switch(Lr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ur(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw vt()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Br(e,(o,c)=>{s[o]=this.convertValue(c,i)}),s}convertVectorValue(e){var i,s,o;const c=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[mc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>ce(d.doubleValue));return new pm(c)}convertGeoPoint(e){return new gm(ce(e.latitude),ce(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Vc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(uo(e));default:return null}}convertTimestamp(e){const i=Mr(e);return new _e(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Zt.fromString(e);Qt(EE(s));const o=new co(s.get(1),s.get(3)),c=new gt(s.popFirst(5));return o.isEqual(i)||Hi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(a,e,i){let s;return s=a?a.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class JE extends $E{constructor(e,i,s,o,c,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Tm("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class sc extends JE{data(e={}){return super.data(e)}}class t0{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new to(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new sc(this._firestore,this._userDataWriter,s.key,s,new to(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(m=>{const p=new sc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new to(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const p=new sc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new to(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),E=d.indexOf(m.doc.key)),{type:Kw(m.type),doc:p,oldIndex:y,newIndex:E}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Kw(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(a){a=Nn(a,tn);const e=Nn(a.firestore,kr);return Cw(qc(e),a._key).then(i=>n0(e,a,i))}class bm extends Fw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ns(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new tn(this.firestore,null,i)}}function Xw(a){a=Nn(a,Da);const e=Nn(a.firestore,kr),i=qc(e),s=new bm(e);return ZE(a._query),Dw(i,a._query).then(o=>new t0(e,s,a,o))}function $w(a,e,i,...s){a=Nn(a,tn);const o=Nn(a.firestore,kr),c=_m(o);let d;return d=typeof(e=oi(e))=="string"||e instanceof Hc?Pw(c,"updateDoc",a._key,e,i,s):zw(c,"updateDoc",a._key,e),Rm(o,[d.toMutation(a._key,Bn.exists(!0))])}function Zw(a){return Rm(Nn(a.firestore,kr),[new Gd(a._key,Bn.none())])}function e0(a,e){const i=Nn(a.firestore,kr),s=ac(a),o=Gw(a.converter,e);return Rm(i,[Lw(_m(a.firestore),"addDoc",s._key,o,a.converter!==null,{}).toMutation(s._key,Bn.exists(!1))]).then(()=>s)}function Ww(a,...e){var i,s,o;a=oi(a);let c={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||X_(e[d])||(c=e[d],d++);const m={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(X_(e[d])){const S=e[d];e[d]=(i=S.next)===null||i===void 0?void 0:i.bind(S),e[d+1]=(s=S.error)===null||s===void 0?void 0:s.bind(S),e[d+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let p,y,E;if(a instanceof tn)y=Nn(a.firestore,kr),E=Ic(a._key.path),p={next:S=>{e[d]&&e[d](n0(y,a,S))},error:e[d+1],complete:e[d+2]};else{const S=Nn(a,Da);y=Nn(S.firestore,kr),E=S._query;const b=new bm(y);p={next:M=>{e[d]&&e[d](new t0(y,b,S,M))},error:e[d+1],complete:e[d+2]},ZE(a._query)}return function(b,M,L,K){const B=new fm(K),q=new um(M,B,L);return b.asyncQueue.enqueueAndForget(async()=>sm(await Sc(b),q)),()=>{B.su(),b.asyncQueue.enqueueAndForget(async()=>lm(await Sc(b),q))}}(qc(y),E,m,p)}function Rm(a,e){return function(s,o){const c=new Bi;return s.asyncQueue.enqueueAndForget(async()=>gw(await ww(s),o,c)),c.promise}(qc(a),e)}function n0(a,e,i){const s=i.docs.get(e._key),o=new bm(a);return new JE(a,o,e._key,s,new to(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){zs=o})(Rb),hc(new so("firestore",(s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),m=new kr(new kb(s.getProvider("auth-internal")),new qb(d,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ot(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new co(y.options.projectId,E)}(d,o),d);return c=Object.assign({useFetchStreams:i},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),bs(t_,e_,e),bs(t_,e_,"esm2017")})();var Jw="firebase",t2="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bs(Jw,t2,"app");var Ea={};const e2={apiKey:Ea.VITE_FIREBASE_API_KEY,authDomain:Ea.VITE_FIREBASE_AUTH_DOMAIN,projectId:Ea.VITE_FIREBASE_PROJECT_ID,storageBucket:Ea.VITE_FIREBASE_STORAGE_BUCKET,messagingSenderId:Ea.VITE_FIREBASE_MESSAGING_SENDER_ID,appId:Ea.VITE_FIREBASE_APP_ID,measurementId:Ea.VITE_FIREBASE_MEASUREMENT_ID},n2=Rv(e2),Ss=Iw(n2),bo=Q.createContext(null),i2=({children:a})=>{const e=dm(Ss,"quizzes"),[i,s]=Q.useState([]);Q.useEffect(()=>{Ww(e,p=>{s(p.docs.map(y=>({...y.data(),id:y.id})))})},[]);const o=async p=>{try{await e0(e,p)}catch(y){console.error("Error adding quiz:",y)}},c=async p=>{try{await Zw(ac(Ss,"quizzes",p))}catch(y){console.error("Error deleting quiz:",y)}},d=async(p,y)=>{try{const E=ac(Ss,"quizzes",p);await $w(E,{...y})}catch(E){console.error("Error updating quiz:",E)}},m=async p=>{try{const y=ac(Ss,"quizzes",p),E=await Yw(y);return E.exists()?{...E.data(),id:E.id}:null}catch(y){return console.error("Error getting quiz:",y),null}};return $.jsx(bo.Provider,{value:{quizzes:i,addQuiz:o,deleteQuiz:c,updateQuiz:d,getQuizById:m},children:a})},r2=({options:a,id:e})=>{const[i,s]=Q.useState(!1),o=Q.useContext(bo),c=wc(),d=Q.useRef(null);return Q.useEffect(()=>{const m=p=>{d.current&&!d.current.contains(p.target)&&s(!1)};return document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[]),$.jsxs("div",{className:"absolute right-2 top-2",ref:d,children:[$.jsx("button",{id:"dropdownMenuIconButton","data-dropdown-toggle":"dropdownDots",className:"inline-flex items-center p-2 text-sm font-medium text-center text-gray-900 bg-white rounded-lg hover:bg-gray-100 focus:ring-4 focus:outline-none dark:text-white focus:ring-gray-50 dark:bg-gray-800 dark:hover:bg-gray-700 dark:focus:ring-gray-600",type:"button",onClick:()=>s(!i),children:$.jsx("svg",{className:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 4 15",children:$.jsx("path",{d:"M3.5 1.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Zm0 6.041a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Zm0 5.959a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z"})})}),$.jsx("div",{id:"dropdownDots",className:`z-10 ${i?"block":"hidden"} bg-white divide-y divide-gray-100 rounded-lg shadow-sm w-44 dark:bg-gray-700 dark:divide-gray-600 absolute right-0`,children:$.jsx("ul",{className:"py-2 text-sm text-gray-700 dark:text-gray-200","aria-labelledby":"dropdownMenuIconButton",children:a.map(m=>m==="Delete"?$.jsx("li",{children:$.jsx("button",{onClick:()=>{o==null||o.deleteQuiz(e)},className:"block w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white",children:m})},m):m==="Run"?$.jsx("li",{children:$.jsx("button",{onClick:()=>{c(`/run-quiz/${e}`)},className:"block w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white",children:m})},m):m==="Edit"?$.jsx("li",{children:$.jsx("button",{onClick:()=>{c(`/edit-quiz/${e}`)},className:"block w-full text-left px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white",children:m})},m):$.jsx("li",{children:$.jsx("a",{href:"#",className:"block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white",children:m})},m))})})]})},a2=["Run","Edit","Delete"],s2=({id:a,title:e,description:i,questions:s,responses:o})=>$.jsxs("div",{className:"border-1 relative w-96 h-52 p-4 rounded-sm",children:[$.jsx("h2",{className:"text-2xl mb-2",children:e}),$.jsx("p",{children:i}),$.jsxs("p",{className:"absolute bottom-2 text-indigo-700",children:["Questions: ",s==null?void 0:s.length]}),$.jsxs("p",{className:"absolute text-indigo-700 right-6 bottom-2",children:["Completions: ",o]}),$.jsx(r2,{options:a2,id:a})]}),On=({text:a,onClick:e,styles:i})=>$.jsx("button",{className:`bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded ${i}`,onClick:e,children:a}),l2=async(a,e)=>{try{const i=await e0(dm(Ss,"responses"),{quizId:a,timestamp:_e.now(),responses:e});console.log("Response saved with ID: ",i.id)}catch(i){console.error("Error saving response: ",i)}},o2=async a=>{try{const e=dm(Ss,"responses"),i=Hw(e,Qw("quizId","==",a));return(await Xw(i)).size}catch(e){return console.error("Error counting responses: ",e),0}},u2=({quizzes:a,filterParams:e})=>a?a.filter(i=>Object.entries(e).every(([s,o])=>{var c;if(!o)return!0;if(s==="questions"){const d=parseInt(o);return((c=i.questions)==null?void 0:c.length)===d}return typeof i[s]=="string"?i[s].toLowerCase().includes(o.toLowerCase()):!0})):[],c2=()=>{const a=Q.useContext(bo),[e,i]=Q.useState({});if(!a)return null;const s=a.quizzes,[o,c]=Q.useState(1),[d,m]=Q.useState([]),[p,y]=Q.useState({});return Q.useEffect(()=>{if(!(s!=null&&s.length))return;(async()=>{const S=await Promise.all(s.map(async b=>({id:b.id,count:await o2(b.id.toString())})));m(s),i(Object.fromEntries(S.map(({id:b,count:M})=>[b,M])))})()},[s]),Q.useEffect(()=>{s!=null&&s.length&&(m(u2({quizzes:s,filterParams:p})),c(1))},[s,p]),$.jsxs("div",{className:"flex flex-col",children:[$.jsx("h1",{className:"p-6 text-2xl",children:"Quiz Catalog"}),$.jsx(pv,{to:"/create-quiz",children:$.jsx(On,{text:"Create a new quiz",onClick:()=>{},styles:"absolute right-6 top-6"})}),$.jsxs("div",{className:"flex flex-row mx-auto gap-3 mb-3",children:[$.jsx("input",{type:"text",id:"title-filter",className:"border-2 p-2 rounded-md",onChange:E=>{y({...p,title:E.target.value})},placeholder:"Filter by title"}),$.jsx("input",{type:"text",id:"title-filter",onChange:E=>{y({...p,description:E.target.value})},className:"border-2 p-2 rounded-md",placeholder:"Filter by description"}),$.jsx("input",{type:"text",id:"title-filter",onChange:E=>{y({...p,questions:E.target.value})},className:"border-2 p-2 rounded-md",placeholder:"Filter by questions count"})]}),$.jsx("div",{className:"grid grid-cols-3 gap-4 place-items-center",children:d==null?void 0:d.slice(9*(o-1),9*o).map(E=>$.jsx(s2,{...E,responses:e[E.id]||0},E.id))}),(d==null?void 0:d.length)===0&&$.jsx("h2",{className:"text-2xl text-indigo-950 absolute top-1/2 left-1/2 transform -translate-x-1/2",children:"No quizzes found"})||$.jsxs("h2",{className:"text-2xl text-center",children:[o," / ",d&&Math.ceil(d.length/9)]}),$.jsxs("div",{className:"flex flex-row mx-auto",children:[$.jsx(On,{styles:`${o>1?"":"hidden"}`,text:"Previous",onClick:()=>c(o-1)}),$.jsx(On,{styles:`${d&&o<Math.ceil(d.length/9)?"":"hidden"}`,text:"Next",onClick:()=>c(o+1)})]})]})},Os=({id:a,label:e,required:i,handleChange:s})=>$.jsxs("div",{className:"flex flex-col flex-1/2",children:[$.jsx("label",{htmlFor:a,className:"font-bold",children:e}),$.jsx("input",{required:i,id:a,type:"text",className:"border-2 p-2 rounded-md",onChange:s})]}),h2=({required:a,onUpdate:e,handleChange:i})=>{const[s,o]=Q.useState([]),c=()=>{const y={id:Date.now(),optionText:"",correct:!1},E=[...s,y];o(E),e(E)},d=(y,E)=>{const S=s.map((b,M)=>M===y?{...b,optionText:E}:b);o(S),e(S)},m=y=>{const E=s.map((S,b)=>b===y?{...S,correct:!S.correct}:S);o(E),e(E)},p=y=>{const E=s.filter((S,b)=>b!==y);o(E),e(E)};return $.jsxs("div",{className:"flex flex-col gap-2",children:[$.jsx(Os,{required:a,id:"question",label:"Question",handleChange:i}),s.map((y,E)=>$.jsxs("div",{className:"flex items-center gap-2",children:[$.jsx("input",{required:a,type:"text",value:y.optionText,onChange:S=>d(E,S.target.value),placeholder:`Option ${E+1}`,className:"border p-1 rounded"}),$.jsx("input",{required:a,type:"checkbox",checked:y.correct,onChange:()=>m(E)}),$.jsx(On,{text:"Remove",onClick:()=>p(E),styles:"bg-red-600 text-white px-2 py-1 rounded hover:bg-red-700"})]},y.id)),$.jsx(On,{onClick:c,text:"Add Option"})]})},f2=({required:a,onUpdate:e,handleChange:i})=>{const[s,o]=Q.useState([{id:Date.now(),optionText:"",correct:!1}]),c=()=>{const p={id:Date.now(),optionText:"",correct:!1},y=[...s,p];o(y),e(y)},d=(p,y)=>{const E=s.map(S=>S.id===p?{...S,optionText:y}:S);o(E),e(E)},m=p=>{const y=s.filter(E=>E.id!==p);o(y),e(y)};return $.jsxs("div",{children:[$.jsx(Os,{required:a,id:"question",label:"Question",handleChange:i}),s.map(p=>$.jsxs("div",{className:"flex flex-row items-center gap-2",children:[$.jsx(Os,{required:a,id:`option-${p.id}`,label:"Option",handleChange:y=>d(p.id,y.target.value)},p.id),$.jsx(On,{text:"Remove Option",styles:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded ",onClick:y=>{y.preventDefault(),m(p.id)}})]},p.id)),$.jsx(On,{styles:"mt-2",text:"Add Option",onClick:p=>{p.preventDefault(),c()}})]})},d2=({question:a,onUpdate:e,onRemove:i})=>{const[s,o]=Q.useState(a.questionText),[c,d]=Q.useState(a.type),[m,p]=Q.useState(a.options),y=b=>{o(b),e({id:a.id,questionText:b,type:c,options:c==="text"?[]:m})},E=b=>{d(b),e({id:a.id,questionText:s,type:b,options:b==="text"?[]:m})},S=b=>{p(b),e({id:a.id,questionText:s,type:c,options:b})};return $.jsx("form",{onSubmit:b=>{b.preventDefault()},children:$.jsxs("div",{className:"flex flex-row w-[600px] gap-2 items-center m-4",children:[c==="text"&&$.jsx(Os,{required:!0,id:`question-${a.id}`,label:"Question",handleChange:b=>{y(b.target.value)}}),c==="single-choice"&&$.jsx(f2,{required:!0,onUpdate:S,handleChange:b=>y(b.target.value)}),c==="multiple-choices"&&$.jsx(h2,{required:!0,onUpdate:S,handleChange:b=>y(b.target.value)}),$.jsxs("div",{className:"flex flex-col",children:[$.jsx("label",{htmlFor:`type-${a.id}`,className:"font-bold",children:"Type"}),$.jsxs("select",{value:c,id:`type-${a.id}`,onChange:b=>E(b.target.value),className:"border-2 h-10 rounded-md",children:[$.jsx("option",{value:"text",children:"Text"}),$.jsx("option",{value:"single-choice",children:"Single choice"}),$.jsx("option",{value:"multiple-choices",children:"Multiple choices"})]})]}),$.jsx(On,{text:"Remove",styles:"bg-red-600 hover:bg-red-700 mt-6",onClick:()=>{i(a.id)}})]})})},W_=()=>{const{id:a}=ov(),e=wc(),i=Q.useContext(bo),[s,o]=Q.useState(""),[c,d]=Q.useState(""),[m,p]=Q.useState([]),[y,E]=Q.useState(!1);Q.useEffect(()=>{(async()=>{if(a&&i){const q=await i.getQuizById(a);q&&(E(!0),o(q.title||""),d(q.description||""),p(q.questions||[]))}})()},[y,a,i]);const S=()=>{const B={id:Date.now().toString(),questionText:"",type:"text",options:[]};p(q=>[...q,B])},b=B=>{p(q=>q.map(J=>J.id===B.id?B:J))},M=B=>{p(m.filter(q=>q.id!==B))},L=async()=>{if(!s.trim()){alert("Please provide a title for the quiz.");return}if(m.length===0){alert("Quiz must have at least one question.");return}else if(m.some(q=>!q.questionText.trim())){alert("All questions must have a question text.");return}if(m.some(q=>(q.type==="single-choice"||q.type==="multiple-choices")&&q.options.length===0)||m.some(q=>(q.type==="single-choice"||q.type==="multiple-choices")&&q.options.some(J=>!J.optionText.trim()))){alert("All single-choice and multiple-choice questions must have options with option text.");return}const B={id:Date.now().toString(),title:s,description:c,questions:m};try{y&&a?(await(i==null?void 0:i.updateQuiz(a,B)),alert("Quiz updated successfully!")):(await(i==null?void 0:i.addQuiz(B)),alert("Quiz added successfully!")),e("/")}catch(q){console.error("Error saving quiz:",q)}},K=(B,q)=>{q(B.target.value)};return $.jsxs($.Fragment,{children:[$.jsxs("div",{className:"w-1/3 m-4",children:[$.jsx("h2",{className:"text-2xl font-bold text-blue-800",children:y?"Edit Quiz":"Create Quiz"}),$.jsx(Os,{id:"quiz-title",label:"Quiz name",required:!0,handleChange:B=>K(B,o)}),$.jsx(Os,{id:"quiz-description",label:"Description",handleChange:B=>K(B,d)})]}),$.jsx("div",{children:m.map(B=>$.jsx(d2,{question:B,onRemove:M,onUpdate:b},B.id))}),$.jsx(On,{text:"Add Question",onClick:()=>{S()},styles:"m-4"}),$.jsx(On,{text:`${y?"Update":"Create"} Quiz`,onClick:()=>{L()}})]})},m2=({question:a,onUpdate:e})=>{const[i,s]=Q.useState(""),o=d=>{const m=d.target.value;s(m),e(m)},c=d=>{const{value:m,checked:p}=d.target;s(y=>{const E=p?[...y||[],m]:y.filter(S=>S!==m);return e(E),E})};return $.jsxs("div",{className:"flex flex-col items-center",children:[$.jsx("h3",{className:"font-bold underline",children:a.questionText}),a.type==="text"&&$.jsx("input",{type:"text",value:i,className:"placeholder:text-center text-center border-2 rounded-md",onChange:o,placeholder:"Your answer"}),a.type==="multiple-choices"&&a.options&&$.jsx("div",{className:"flex flex-row gap-4 items-center",children:a.options.map(d=>$.jsxs("label",{children:[$.jsx("input",{className:"cursor-pointer",type:"checkbox",value:d.optionText,checked:Array.isArray(i)&&i.includes(d.optionText),onChange:c}),d.optionText]},d.id))}),a.type==="single-choice"&&a.options&&$.jsx("div",{className:"flex flex-row gap-4 items-center",children:a.options.map(d=>$.jsxs("label",{children:[$.jsx("input",{className:"cursor-pointer",type:"radio",name:a.id,value:d.optionText,checked:i===d.optionText,onChange:o}),d.optionText]},d.id))})]})},g2=()=>{var B;const{id:a}=ov(),e=Q.useContext(bo),[i,s]=Q.useState(null),[o,c]=Q.useState({}),[d,m]=Q.useState(null),[p,y]=Q.useState(null),[E,S]=Q.useState(!0),b=wc();Q.useEffect(()=>{(async()=>{if(a){S(!0);try{const J=await(e==null?void 0:e.getQuizById(a));J&&s(J)}catch(J){console.error("Failed to fetch questions for quiz:",J),s(null)}finally{S(!1)}}})()},[a,e]);const M=(q,J)=>{c(et=>({...et,[q]:J}))},L=()=>{m(Date.now())},K=async()=>{y(Date.now()),await l2(i==null?void 0:i.id,o)};return E?$.jsx("div",{children:"Loading questions..."}):$.jsxs("div",{className:"flex flex-col mx-10 gap-2 my-5 items-center",children:[$.jsx("h2",{className:"text-center font-bold text-2xl text-blue-800",children:"Questionnaire"}),d?$.jsxs($.Fragment,{children:[$.jsxs("div",{className:"flex flex-col gap-2",children:[(B=i==null?void 0:i.questions)==null?void 0:B.map(q=>$.jsx(m2,{question:q,onUpdate:J=>M(q.id,J)},q.id)),$.jsx(On,{text:"Submit",styles:"self-center mx-auto",onClick:()=>{K(),setTimeout(()=>{b("/")},5e3)}})]}),$.jsxs("div",{className:"mx-auto",children:[p&&d&&$.jsxs("p",{children:["Time taken: ",((p-d)/1e3).toFixed(2)," seconds."]}),$.jsxs("div",{children:[$.jsx("h3",{children:"Your Answers:"}),Object.entries(o).map(([q,J])=>{var et,pt;return $.jsxs("div",{className:"flex flex-row gap-2",children:[$.jsxs("strong",{children:[(pt=(et=i==null?void 0:i.questions)==null?void 0:et.find(ht=>ht.id===q))==null?void 0:pt.questionText,":"]}),$.jsx("p",{children:Array.isArray(J)?J.join(", "):J})]},q)})]})]})]}):$.jsx(On,{text:"Run",onClick:L,styles:"w-1/4 mx-auto"})]})},p2=document.getElementById("root");LT.createRoot(p2).render($.jsx(Q.StrictMode,{children:$.jsx(i2,{children:$.jsx(XA,{children:$.jsxs(wA,{children:[$.jsx($l,{index:!0,element:$.jsx(c2,{})}),$.jsx($l,{path:"create-quiz",element:$.jsx(W_,{})}),$.jsx($l,{path:"run-quiz/:id",element:$.jsx(g2,{})}),$.jsx($l,{path:"edit-quiz/:id",element:$.jsx(W_,{})})]})})})}));
